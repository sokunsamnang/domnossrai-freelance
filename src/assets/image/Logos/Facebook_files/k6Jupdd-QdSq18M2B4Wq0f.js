;/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24152245391090262"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a}),98);
__d("LSClearDiscoverableChatsParticipantsAndRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(248).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(249).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure",["LSClearDiscoverableChatsParticipantsAndRanges"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearDiscoverableChatsParticipantsAndRanges")(a)}g["default"]=a}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearReactionsV2DetailsAndRange")(a)}g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSFetchAdditionalThreadData").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSUpsertDiscoverableChatsParticipantsRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(249).put({threadId:a[0],minName:"",source:a[4],maxName:a[5],isLoadingBefore:!1,isLoadingAfter:a[2],hasMoreBefore:!1,hasMoreAfter:a[1],nextPageCursor:a[3]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSFetchDiscoverableChatParticipants",["LSIssueNewTask","LSUpsertDiscoverableChatsParticipantsRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSUpsertDiscoverableChatsParticipantsRanges"),a[0],!1,!0,"",a[2],a[3])},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("cursor",a[1]),d[0].set("source",a[2]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"fetch_discoverable_chat_participant_list",c.i64.cast([0,110006]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchDiscoverableChatParticipantsStoredProcedure",["LSFetchDiscoverableChatParticipants"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.cursor;d[2]=b.source;d[3]=b.maxName;return c("LSFetchDiscoverableChatParticipants").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("roll_call_id",a[1]),d[0].set("thread_key",a[0]),d[0].set("query_purpose",c.i64.cast([0,2])),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"roll_call_point_query",c.i64.cast([0,611]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ftr(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.fe(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(e){return d[1]=new c.Map(),d[1].set("thread_id",a[0]),d[1].set("message_id",a[1]),d[1].set("reaction_fbid",a[2]),d[1].set("cursor",a[3]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.messageId;d[2]=b.reactionFbid;d[3]=b.nextPageCursor;return c("LSIssueReactionsV2DetailsUsersListFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.threadType;d[3]=b.numContextMessages;return c("LSMessagePointQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.threadKey;d[2]=b.attachmentFbid;d[3]=b.targetId;d[4]=b.actionType;return c("LSOptimisticProcessMarketplaceCallFunctionCTA").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[12]=a[9]===""?f:a[9],d[12]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],c.i64.cast([0,3]),d[12],a[10],!0,!1)},function(e){return a[22]?d[13]=!1:d[13]=!0,d[13]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))},function(a){return d[2]=c.i64.cast([0,7])}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],c.i64.cast([53057,267535043]))&&c.i64.neq(a[7],c.i64.cast([85970,924785702]))&&c.i64.neq(a[7],c.i64.cast([85970,1004785694]))&&c.i64.neq(a[7],c.i64.cast([85970,1044785690]))?c.seq([function(e){return d[15]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[15],c.i64.cast([0,1]),f,f,!0,!1)},function(e){return a[22]?d[14]=!1:d[14]=!0,d[14]?c.resolve():(d[16]=a[22].get("playable_url"),a[22],d[17]=a[22].get("playable_url_fallback"),a[22],d[18]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("playable_url_mime_type"),a[22],d[20]=a[22].get("preview_url"),a[22],d[21]=a[22].get("preview_url_fallback"),a[22],d[22]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[23]=a[22].get("preview_url_mime_type"),a[22],d[24]=a[22].get("preview_width"),a[22],d[25]=a[22].get("preview_height"),a[22],d[26]=a[22].get("image_url"),a[22],d[27]=a[22].get("image_url_fallback"),a[22],d[28]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[29]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23],d[24],d[25]))}]):c.resolve()},function(a){return d[13]=c.i64.cast([0,2])}]):c.resolve(d[13]=c.i64.cast([0,1]))},function(a){return d[2]=d[13]}])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,1]):(b=a.item,d[14]=b.syncGroup,c.i64.neq(d[14],f)?d[13]=d[14]:d[13]=c.i64.cast([0,1]),d[3]=d[13])})},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),d[3],f,c.i64.cast([0,0]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[5]=a[0],a})},function(e){return a[26]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[26],d[5],c.i64.to_string(c.i64.cast([0,46])),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[26],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[5],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[24],skipUrlPreviewGen:a[29],textHasLinks:a[31]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[6]=c.createArray(),d[7]=(d[6].push("optimisticSendMessage"),d[6]),d[8]=(d[6].push(a[1]),d[6]),d[9]=(d[6].push(d[0]),d[6]),d[10]=c.toJSON(d[6]),function(a){c.logger(a).info(a)}(d[10]),d[11]=new c.Map(),d[11].set("offline_threading_id",d[0]),d[11].set("task_id",d[5]),d[11].set("task_queue_name",c.i64.to_string(a[1])),d[11].set("task_label",c.i64.to_string(c.i64.cast([0,1]))),c.nop(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[11])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportThreadViewOpen",["LSIssueNewTaskWithExtraOperations","LSSetLoadingAfterOnMessageRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f],d[0]=c[0],d[1]=c[1],c):(b=a.item,c=[b.syncGroup,b.threadType],d[0]=c[0],d[1]=c[1],c)})},function(a){return c.i64.neq(d[0],f)?c.seq([function(a){return c.db.table(1).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[12]=f:(b=a.item,d[12]=b.syncParams)})},function(a){return d[3]=d[12]}]):c.resolve(d[3]=f)},function(b){return c.db.table(294).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[!1,c.i64.cast([0,0]),f],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(b=a.item,e=[b.isStale,b.threadQueueSequenceId,b.lastSelectiveSyncTimestampMs],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(a){return d[4]?d[8]=!0:d[8]=!1,c.i64.neq(d[6],f)?(c.i64.eq(d[1],c.i64.cast([0,152]))?d[12]=c.i64.cast([0,0]):d[12]=c.i64.cast([0,0]),d[13]=c.i64.of_float(Date.now()),c.resolve()):c.resolve()},function(e){return d[9]=new c.Map(),d[9].set("thread_key",a[0]),d[9].set("is_stale",d[8]),d[9].set("client_seq_id",d[5]),d[9].set("sync_params_encoded",d[3]),d[9].set("client_last_sync_timestamp_ms",d[6]),d[10]=d[9].get("thread_key"),d[9],d[11]=c.toJSON(d[9]),c.sp(b("LSIssueNewTaskWithExtraOperations"),["report_thread_view_open","_",c.i64.to_string(d[10])].join(""),c.i64.cast([0,605]),d[11],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportThreadViewOpenStoredProcedure",["LSReportThreadViewOpen"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSReportThreadViewOpen").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetProactiveWarningDismissTimeStoredProcedure",["LSSetProactiveWarningDismissTime"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSSetProactiveWarningDismissTime").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(g=e.item,c.seq([function(e){return d[5]=g.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],f)&&c.i64.ge(d[4],d[5])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],f)&&g.tag!==f?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",c.i64.cast([0,0])),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],c.i64.cast([0,3]),d[1])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6107272026057140"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:c},params:{id:b("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6779106532179936"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6865480280197768"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7286910081353715"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6286286258107098"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6098288313524910"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5832261760118587"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4589106431193063"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707146052634771"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7655167711165292"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048028465289521"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4923666631045015"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7735392359808092"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWBuyerShippingAddressRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24917306604535550"}),null);
__d("MWBuyerShippingAddressRootQuery.graphql",["MWBuyerShippingAddressRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"state_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"district",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"sub_district",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"country_name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"care_of",storageKey:null},n={alias:null,args:null,concreteType:"XFBPAYAddressAssociatedPhoneNumberResponse",kind:"LinkedField",name:"address_linked_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"normalized_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null}],storageKey:null},o=[{kind:"Variable",name:"id",variableName:"id"}],p={alias:null,args:null,kind:"ScalarField",name:"country_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWBuyerShippingAddressSelectionAddressListItem",selections:[c,d,e,f,g,h,i,j,k,l,m,n],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWBuyerShippingAddressSelectionPrivacyText"},p],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPAYMailingAddress"},c,d,e,f,g,h,i,j,k,l,m,n],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_privacy_policy_url",storageKey:null},p,c],storageKey:null}]},params:{id:b("MWBuyerShippingAddressRootQuery_facebookRelayOperation"),metadata:{},name:"MWBuyerShippingAddressRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWLSGroupMembershipMenuQuery$Parameters",["MWLSGroupMembershipMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWLSGroupMembershipMenuQuery_facebookRelayOperation"),metadata:{},name:"MWLSGroupMembershipMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function a(a){var c=a.action_content_blob,e=a.config;return new(i||(i=b("Promise")))(function(a,b){d("CometRelay").commitMutation(e.environment,{mutation:j,onCompleted:function(b){a((b=b.results)==null?void 0:b.success)},onError:function(a){b(a)},variables:{input:{action_content_blob:c}}})})}g["default"]=a}),98);
__d("InfoCircleFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10 2a8 8 0 1 0 8 8 8.009 8.009 0 0 0-8-8zm1 11.5a.75.75 0 0 1-1.5 0v-3h-.25a.75.75 0 0 1 0-1.5h1a.75.75 0 0 1 .75.75zM10 8a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MessagesFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M16 7.17a.755.755 0 0 0-1 .715v1.166A3.949 3.949 0 0 1 11.051 13H8.917a.753.753 0 0 0-.45.15l-1.345 1.008a.753.753 0 0 0-.032 1.181A2.933 2.933 0 0 0 8.949 16h2.717l2.534 1.9a.5.5 0 0 0 .3.1.508.508 0 0 0 .224-.053A.5.5 0 0 0 15 17.5V16h.051A2.949 2.949 0 0 0 18 13.051V10a3 3 0 0 0-2-2.83z"}),i.jsx("path",{d:"M11.051 12A2.952 2.952 0 0 0 14 9.051v-3.1A2.952 2.952 0 0 0 11.051 3h-6.1A2.952 2.952 0 0 0 2 5.949v3.1A2.952 2.952 0 0 0 4.949 12H5v1.5a.5.5 0 0 0 .276.447A.508.508 0 0 0 5.5 14a.5.5 0 0 0 .3-.1L8.334 12z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){var b=a.disallowedTerms;a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,disallowedTerms:b,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("__JHASH__5zKX9L3wCmC__JHASH__").toString(),k={decorType:"regular",handle:j,key:"0",label:j,rawData:{image:i("391426"),subtitle:void 0},type:"entry"};function a(a,b,e,f,g,i,l){var m=a.query,n=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(j,m)&&n.push(k);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,m)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,m)&&(g="nickname");if(g!=null&&f!=null){var h;n.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("1608686")){g=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,m)){i=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();n.push({decorType:"regular",handle:g,key:""+e,label:g,rawData:{source:"all",subtitle:i},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)){g=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();n.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:g},type:"entry"})}}}n.length>l&&(n=n.slice(0,l));n.length<l&&f&&f(m,l-n.length);return{entries:n,params:a}}var l=(e={},e[j]="ai",e);function b(a){a=l[a];return a==null?"p":a}g.aiBotMentionsEntry=k;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(this.__text.slice(1))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("6934")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=a.description,e=j(d("hero-tracing-placeholder").HeroInteractionIDContext);k(function(){var a=(h||(h=c("performanceNow")))();return function(){if(e!=null){var d=(h||(h=c("performanceNow")))();c("InteractionTracingMetrics").addSubspan(e,b,"AppTiming",a,d,{})}}},[b,e])}g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:5671")!=null)return i.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]);c=(c=c)!=null?c:{};var e=c.color;c=babelHelpers.objectWithoutPropertiesLoose(c,["color"]);d=(d=d)!=null?d:{};var f=d.color;d=babelHelpers.objectWithoutPropertiesLoose(d,["color"]);return i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);var e=a.outgoing,f=a.ranges,g=a.renderers,i=a.transforms;a=a.xstyleForText;return j.jsx(c("MWXText.react"),{color:e?"white":"primary",type:"body3",children:j.jsx("div",{className:(h||(h=c("stylex")))(k.regular,a),dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{ranges:f,renderers:g,text:b,transforms:(e=i)!=null?e:d("MWChatTextTransform").epdTextTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageForwardedMessageListText.react",["MWChatTextTransform","MWXMessageBaseMessageListText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={forwardedIncoming:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",":before_backgroundColor":"x1og7ii6",":before_borderTopStartRadius":"x1c17coi",":before_borderTopEndRadius":"xjv2uko",":before_borderBottomEndRadius":"xaypiso",":before_borderBottomStartRadius":"xcuh6jm",":before_content":"x1gftdam",":before_height":"x1bfxw5i",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_left":null,":before_right":null,":before_top":"xcyfhir",":before_width":"x1otdnzn",$$css:!0},forwardedOutgoing:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",":before_backgroundColor":"xmd5wjp",":before_borderTopStartRadius":"x1c17coi",":before_borderTopEndRadius":"xjv2uko",":before_borderBottomEndRadius":"xaypiso",":before_borderBottomStartRadius":"xcuh6jm",":before_content":"x1gftdam",":before_height":"x1bfxw5i",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_left":null,":before_right":null,":before_top":"xcyfhir",":before_width":"x1otdnzn",$$css:!0}};function a(a){var b=a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);var e=a.outgoing,f=a.ranges,g=a.renderers,i=a.transforms;a=a.xstyleForForwarded;return j.jsx("blockquote",{className:(h||(h=c("stylex")))(e?k.forwardedOutgoing:k.forwardedIncoming,a),dir:"auto",children:j.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:e,ranges:f,renderers:g,text:b,transforms:(a=i)!=null?a:d("MWChatTextTransform").epdTextTransforms})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["BaseTheme.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWBaseTheme","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageForwardedMessageListText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");b={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var l={dark:e,light:b,type:"VARIABLES"};function a(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,h=a.text,m=a.transforms,n=a.xstyleForForwarded;a=a.xstyleForText;if(h==null)return null;b=b.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(b.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));var o=e?d("MWBaseTheme").empty:l;return k.jsx(c("BaseTheme.react"),{config:o,role:"none",children:b?k.jsx(c("MWXMessageForwardedMessageListText.react"),{outgoing:e,ranges:f,renderers:g,text:h,transforms:(o=m)!=null?o:d("MWChatTextTransform").epdTextTransforms,xstyleForForwarded:n}):k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:e,ranges:f,renderers:g,text:h,transforms:(b=m)!=null?b:d("MWChatTextTransform").epdTextTransforms,xstyleForText:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a}),98);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MOrderDetailDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialog.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a}),98);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("2099")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;d=Math.imul((f=d("WATimeUtils")).HOUR_SECONDS,6);var h=Math.imul(f.HOUR_SECONDS,12),i=Math.imul(f.DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=d;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=f.HOUR_SECONDS;g.sixHoursInSeconds=d;g.twelveHoursInSeconds=h;g.oneDayInSeconds=f.DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MAWThreadEvent",["MAWBridge","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWUIJob","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b="placeholderConvertSubscription";function a(a,b){d("MAWBridge").getBridge().setHandlers("threadEvent",{placeholderConvertSubscription:function(e){var f=e.chatJid;e=e.msgId;a===f&&c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}).then(function(a){if(a==null)return;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,a,b))}))}})}g.PLACEHOLDER_CONVERT_SUBSCRIPTION=b;g.setThreadEventHandler=a}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a,b,c,d)})}g["default"]=a}),98);
__d("useRegisterMAWThreadEvent",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReady","MAWThreadEvent","Promise","promiseDone","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=a.authorityLevel,f=a.threadKey,g=a.threadType,l=(j||(j=d("I64"))).ge(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),m=(i||(i=c("useReStore")))(),n=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isSecure(g)&&l&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(m,f,"useRegisterMAWThreadEvent",function(a,c,e){d("MAWThreadEvent").setThreadEventHandler(e,n);return(h||(h=b("Promise"))).resolve()}))},[f,g,l,m,n])}g["default"]=a}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginLeft:null,marginRight:null,marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginLeft:null,marginRight:null,marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMaybeEncryptedUrlForPhoto",["Base64Utils","CancellablePromise","CancellationToken","FBLogger","Promise","globalCryptoSubtle","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a,e){var f=k(e!=null?void 0:a),g=f[0],i=f[1];j(function(){var f=c("CancellationToken")();if(e!=null&&a!=null){var g;c("promiseDone")((g=d("CancellablePromise")).ignoreFailed(void 0,g.then_(f,function(a){var c="data:image/jpeg;base64,";i(function(){return c+d("Base64Utils").fromArrayBuffer(a)});return(h||(h=b("Promise"))).resolve()},g.then_(f,function(a){var b=a[1],d=b.slice(0,2),e=b.slice(2,14);b=b.slice(14);return c("globalCryptoSubtle").decrypt({additionalData:d,iv:e,name:"AES-GCM",tagLength:128},a[0],b)},g.then_(f,function(a){var f=d("Base64Utils").toArrayBuffer(e);f.byteLength!==32&&c("FBLogger")("messenger_web_product").mustfix("Invalid key length");return(h||(h=b("Promise"))).all([c("globalCryptoSubtle").importKey("raw",f,"AES-GCM",!1,["decrypt"]),h.resolve(a)])},g.then_(f,function(a){return a.arrayBuffer()},window.fetch(a)))))))}else i(a);return f.cancel},[a,e,i]);return g}g["default"]=a}),98);
__d("MWChatAttachmentMediaPreview.react",["fbt","CometImageCover.react","I64","MWXPressable.react","XCometMessengerAttachmentMediaControllerRouteBuilder","react","useMaybeEncryptedUrlForPhoto"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=String(18)+"px",m={imageContainer:{borderTop:"xzg4506",borderEnd:"xycxndf",borderBottom:"xua58t2",borderStart:"x4xrfw5",boxShadow:"x1yi6u8n",lineHeight:"x14ju556",verticalAlign:"xxymvpz",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function n(a){var b=a.attachmentMediaUrl,d=a.decryptionKey,e=a.previewUrl;a=a.widthStyle;e=c("useMaybeEncryptedUrlForPhoto")(e,d);if(e!=null)return k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{url:b},testid:void 0,xstyle:function(){return[m.standalone]},children:k.jsx(c("CometImageCover.react"),{src:e,style:{borderBottomLeftRadius:l,borderBottomRightRadius:l,borderTopLeftRadius:l,borderTopRightRadius:l,maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:a}})});else return null}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,c;b=(j||(j=d("I64"))).to_int32((b=a.previewHeight)!=null?b:(j||(j=d("I64"))).one);c=j.to_int32((c=a.previewWidth)!=null?c:(j||(j=d("I64"))).one);c=c/b;a=a.previewWidth;if(a!=null)return(b>200?200*c:(j||(j=d("I64"))).to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var b=a.previewUrl;if(b!=null){var e=c("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,thread_id:(j||(j=d("I64"))).to_string(a.threadKey)});return k.jsx("div",{className:"xzg4506 xycxndf xua58t2 x4xrfw5 x1yi6u8n x14ju556 xxymvpz x1gn5b1j x230xth x1g8br2z x1tlxs6b",children:k.jsx(n,{attachmentMediaUrl:e,decryptionKey:a.decryptionKey,previewUrl:b,widthStyle:o(a)})})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","I64","LSIntEnum","MWChatEphemeralMediaTemporarySeenState","MWXPressable.react","MWXSolidMessageBubble.react","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=h._("__JHASH__wwWALtSTrAJ__JHASH__"),n=h._("__JHASH__6AjB8pge-ih__JHASH__"),o=h._("__JHASH__4zpYeMebeaQ__JHASH__"),p=h._("__JHASH__FLEPIyrCx7D__JHASH__"),q=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),r=h._("__JHASH__TfJs-614iIk__JHASH__"),s={pill:{borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",$$css:!0}};function t(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children,h=a.initiallyUnread,i=a.outgoing;a=a.shouldDisableOnOutgoing;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:(j||(j=d("I64"))).to_string(e.threadKey)});e=e.ephemeralMediaState;if(e==null)return g;return a&&i||!((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").UNSEEN))||(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN))&&h)?g:l.jsx(c("MWXPressable.react"),{"aria-label":b,children:g,linkProps:{url:f},overlayRadius:"inherit",testid:void 0,xstyle:s.pill})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.backgroundColor,f=a.buildURL,g=a.connectBottom,h=a.connectTop,i=a.outgoing,s=a.renderContent;a=a.shouldDisableOnOutgoing;a=a===void 0?!1:a;e=e!=null?e:"var(--wash)";f=f!=null?f:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var u=b.attachmentType,v=d("MWChatEphemeralMediaTemporarySeenState").isSeenThisSession((j||(j=d("I64"))).to_string(b.threadKey),b.attachmentFbid),w=b.ephemeralMediaState;w=w!=null?(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":(j||(j=d("I64"))).equal(w,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN))&&v?"seen":"expired":"expired";var x=w==="expired"||w==="seen"||i,y=null;switch((k||(k=d("LSIntEnum"))).toNumber(u)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:y=x?p:m;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:y=x?q:n;break;default:y=x?r:o;break}return l.jsx(t,{ariaLabel:y,attachment:b,buildURL:f,initiallyUnread:v,outgoing:i,shouldDisableOnOutgoing:a,children:l.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:g,connectTop:h,outgoing:i,style:{backgroundColor:e},children:s(b,w,v,y)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEphemeralButton.react",["ix","BaseImage_DEPRECATED.react","MWPChatEphemeralButton.react","MWXIcon.react","MWXText.react","fbicon","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=d("fbicon")._(h("656360"),20);function l(){var a=c("useCurrentDisplayMode")();return j.jsx(c("BaseImage_DEPRECATED.react"),{className:"x1b0d499",src:k.src,style:{filter:a==="dark"?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)"}})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop;a=a.outgoing;return j.jsx(c("MWPChatEphemeralButton.react"),{attachment:b,connectBottom:d,connectTop:e,outgoing:a,renderContent:function(a,b,d,e){a=b==="expired"?"disabled":"primary";d=b==="unseen"?j.jsx(l,{}):b==="expired"?j.jsx(c("MWXIcon.react"),{color:"disabled",icon:k}):j.jsx(c("MWXIcon.react"),{color:"primary",icon:k});return j.jsx("div",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:j.jsxs(c("MWXText.react"),{color:a,type:"bodyLink3",children:[d,j.jsx("span",{className:"x1i64zmx xjmsjum",children:e})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var i=c("gkx")("1016");function j(a,b){if(i){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:h.to_int32(b.thread.threadType)}})}}function e(a){return j("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("MWFilePressableHooks",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.table("threads")).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.table("attachments")).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g.useOnPressHandler=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFilePressableHooks","MWFileViewerLogger","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,h=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&h!=null?i.jsx(j,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:h,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:h,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,h=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();h=d("MWFilePressableHooks").useOnPressHandler(h,b,g,f,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:j,xstyle:a})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a,b){var c=a.length;c=c<<1;var d=new ArrayBuffer(44+c);d=new DataView(d);j(d,0,"RIFF");d.setUint32(4,36+c,!0);j(d,8,"WAVE");j(d,12,"fmt ");d.setUint32(16,16,!0);d.setUint16(20,1,!0);d.setUint16(22,2,!0);d.setUint32(24,b,!0);d.setUint32(28,b<<2,!0);d.setUint16(32,4,!0);d.setUint16(34,16,!0);j(d,36,"data");d.setUint32(40,c,!0);i(d,44,a);return d}function c(a,b){a=k(a,b);return new File([a],"audio_clip.wav",{type:"audio/wav"})}var l=2;function e(a,b){var c=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/c/l;return a/b%d("DateConsts").SEC_PER_MIN}function m(a,b,c){return a+(b-a)*c}function f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=m(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function n(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=n}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=l||d("react");var m=e.useCallback,n=e.useMemo;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWBaseChatOpenTabForUser")(void 0,e),l=g[0],o=c("useMWChatOpenTabForPage")(e),p=d("MWPActor.react").useActor(),q=n(function(){return new(h||(h=b("Promise")))(function(b,e){var g=(e=d("ReQL")).mergeJoin(e.fromTableAscending(f.table("participants")).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,p)}),e.fromTableAscending(f.table("contacts"))),h={contents:function(){}};h.contents=g.subscribe(function(a,e){if(e.operation==="delete")return;a=e.value[1];if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){h.contents();return b(a)}});c("promiseDone")(e.firstAsync(g),function(e){if(e!=null){e=e[1];if((i||(i=d("I64"))).ge(e.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){h.contents();return b(e)}else return}c("promiseDone")(f.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:a,threadType:j.ofNumber(1)})},"readwrite"))})})},[a,f]);return m(function(){c("promiseDone")(q,function(b){var e=(i||(i=d("I64"))).to_string(a);b=b.contactType;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)))return o(e,!1);else return l(e,!1)})},[q,l,o,a])}g["default"]=a}),98);
__d("MWComposerDisclosureContainer.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return i.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?j.root_new_layout_for_horizontal_buttons:j.root,children:i.jsx("div",{style:c("gkx")("6189")?j.inner_new_layout_for_horizontal_buttons:j.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useContext,m=b.useEffect;function n(a,b){a.update(function(){var e=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(e)||!e.isCollapsed())return;var f=e.anchor;f=f.getNode();var g=c("cometMentionsDataEntryText")(b),h=d("Lexical").$getRoot().getAllTextNodes().some(function(a){return d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)&&a.getTextContent().includes(g)});if(h===!0)return;h=d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b.key,text:g});var i=d("LexicalText").$isRootTextContentEmpty(a.isComposing());i?e.insertNodes([h]):f.insertBefore(h);h.selectNext(0,0)})}function a(a,b,e){var g=l(d("MWPReplyContext.react").MWPReplyContext),k=g.reply,o=c("usePrevious")(k),p=(h||(h=c("useReStore")))(),q=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(p.table("messages")).getKeyRange(b,k.timestampMs,k.messageId):d("ReQL").empty()},[k,b,p],f.id+":91");g=d("ReQLSuspense").useFirst(function(){return q!=null?d("ReQL").fromTableAscending(p.table("contacts")).getKeyRange(q.senderId):d("ReQL").empty()},[p,q],f.id+":102");g=g!=null?(i||(i=d("I64"))).equal(g.contactTypeExact,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)):!1;var r=g&&(q==null?void 0:q.botResponseId)!=null;m(function(){var b=o==null&&k!=null;b&&r&&e===!0&&n(a,d("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},[a,k,o,r,e])}g.insertMentionNodeToFront=n;g.useMWChatAppendMentionsNodeToReply=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometImageFromIXValue.react","CometProfilePhoto.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,h=f.image,k=f.photoURI;f=f.subtitle;var l;k!=null?l=i.jsx(c("CometProfilePhoto.react"),{size:28,source:{uri:k}}):g!=null?l=i.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}):h!=null&&(l=i.jsx(c("CometImageFromIXValue.react"),{source:h,xstyle:j.image}));return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,itemStartContent:l,testid:void 0,children:i.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=6;a=function(){function a(a,b,d,e,f){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null;this.$4=e;this.$5=f}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,this.$4,this.$5,i)};e.fetchNetwork=function(a){return(h||(h=b("Promise"))).resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a){var b=a.isAiBotMentionsEnabled,e=a.participants,f=a.threadFBID,g=a.triggerParticipantsSearch;a=d("MWLSThread").useThreadExn((i||(i=d("I64"))).of_string(f));var h=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSThreadBitOffset").has(43,a);a=j(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(e,f,g,b,h),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[h,b,e,f,g]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){var b=a.threadKey,e=a.threadName,g=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants"),["contactId"]).getKeyRange(b).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":38")})},[g,b],f.id+":33");return d("Int64Hooks").useMemoInt64(function(){if(e!=null)return h._("__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",e)]);var a=c("intlList")(l.map(function(a){if(a!=null&&!(i||(i=d("I64"))).equal(a.id,k))return a.name}).filter(Boolean),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",a)])},[l,e,k])}g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.context,d=a.label,e=a.onClose,f=a.onPress,g=a.setPWDismissTime;a=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:b,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"});var h=a[0],j=function(){e()};return i.jsx(c("TetraButton.react"),{label:d,onPress:function(){g(),f(),h({flowCallbacks:{onClose:j}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason({threadKey:a.threadKey},b);a=h._("__JHASH__FoZB3MxTOU9__JHASH__");return j.jsxs("div",{className:"x1exxf4d x13fuv20 x178xt8z xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:[j.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType","Promise","URI","XComposerPhotoUploader","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(k||d("react")).useMemo;function o(a,e,f,g,h,i,k){var n=d("MercuryLocalIDs").generateOfflineThreadingID();return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c("LSFactory")(a),{attachments:c("LSVec").ofArray([d("LSShape").ofRecord({action_url:void 0,attachment_fbid:n,attachment_index:(l||(l=d("I64"))).zero,attachment_type:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:n,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:g,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(c("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),senderId:e,snippetHasEmoji:!1,threadKey:f,threadType:m.ofNumber(1)}).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:e,platformRef:void 0,platformToken:h,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(l||(l=d("I64"))).of_string(e),threadAttributionSource:i,threadKey:f}).then(function(){return(j||(j=b("Promise"))).resolve([e,n])})})}function a(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return n(function(){return function(h,n,p){var q=(l||(l=d("I64"))).to_string(g),r=function(a){var e=a[1],g=a[0],h=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=f.runInTransaction(function(a){return c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE),inMessageIndex:(l||(l=d("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:g,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite");c("promiseDone")(a)},onUploadSuccess:function(a,b){a=b.response.payload.metadata[0];var h=a.image_id;if(h==null)return;b=f.runInTransaction(function(a){return c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:(l||(l=d("I64"))).of_string(h.toString()),offlineAttachmentId:e}).then(function(){return c("LSResumeMediaSendJobStoredProcedure")(c("LSFactory")(a),{jobId:g,pluginType:(l||(l=d("I64"))).zero})})},"readwrite");c("promiseDone")(b)},retryLimit:1,uploadEndpoint:d("ActorURI").create(new(i||(i=c("URI")))(c("MercuryConfig").upload_url),q)});a=window.fetch(p).then(function(a){return a.blob()}).then(function(a){h.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})]).send();return(j||(j=b("Promise"))).resolve()});c("promiseDone")(a)},s=d("LSThreadAttributionTypeUtil").getSource(k,a),t=f.runInTransaction(function(a){var b;return c("LSOptimisticSendMessage")(g,k,(m||(m=d("LSIntEnum"))).ofNumber(1),m.ofNumber(c("LSMailboxType").MESSENGER),h,h,!1,void 0,void 0,void 0,void 0,s,void 0,void 0,void 0,m.ofNumber(c("LSMessageReplySourceType").NONE),m.ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,(b=e)!=null?b:void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite").then(function(a){return f.runInTransaction(function(a){return o(a,g,k,p,n,s,e).then(function(a){r(a)})},"readwrite")});c("promiseDone")(t)}},[f,g,k])}g.usePostbackCtaHandler=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,j){var k=d("LSThreadAttributionTypeUtil").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){var g;return c("LSOptimisticSendMessage")(b,e,(h||(h=d("LSIntEnum"))).ofNumber(1),h.ofNumber(c("LSMailboxType").MESSENGER),j,j,!1,void 0,void 0,void 0,void 0,k,void 0,i,void 0,h.ofNumber(c("LSMessageReplySourceType").NONE),h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,(g=f)!=null?g:void 0,void 0,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler")),b=a[0];return i(function(a){return b({htmlBlob:a},function(){})},[b])}g.useShowWebViewDialog=a}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return j(function(d,e,f,g){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(c("LSFactory")(a),{actionType:g,attachmentFbid:e,messageId:d,targetId:f,threadKey:b})},"readwrite"))},[a,b])}g["default"]=a}),98);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){if(a){e((a=a.messenger_feedback_form_state)==null?void 0:a.form_state)}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWPComposerDraftMessages",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){if(b==null){i["delete"]((h||(h=d("I64"))).to_string(a));return}i.set((h||(h=d("I64"))).to_string(a),b)}function b(a){return i.get((h||(h=d("I64"))).to_string(a))}g.updateDraftMessage=a;g.getDraftMessage=b}),98);
__d("useMWLSUpdateDraftMessage",["I64","Int64Hooks","MWPActor.react","MWPComposerDraftMessages"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(e,f){b!=null&&a!=null&&b(JSON.stringify(a.getEditorState()),(h||(h=d("I64"))).to_string(e),f,c),d("MWPComposerDraftMessages").updateDraftMessage(e,f)},[a,b,c])}g["default"]=a}),98);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWEncryptedBackupsIssueRangeQueryDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery").__setRef("MWEncryptedBackupsIssueRangeQueryDeferred");function a(a){var b=a.db,c=a.newerNumMessages,d=a.numMessages,e=a.sortOrderMs,f=a.threadId;h.onReady(function(a){return a.runQuery(b,f,e,d,c)})}g.issueRangeQueryDeferred=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){if(b("cr:4919")!=null)return j.jsx("span",{className:"x1n2onr6 x1atx4j1",children:j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function k(){if(b("cr:4919")!=null)return j.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?j.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}k.displayName=k.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=k}),98);
__d("FDSChevronRightSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx("svg",babelHelpers["extends"]({viewBox:"-4 -4 26 26"},a,{children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{d:"M5.636 13.47a.75.75 0 1 0 1.06 1.06l6-6a.75.75 0 0 0 0-1.06l-6-6a.75.75 0 0 0-1.06 1.06L11.106 8l-5.47 5.47Z",fill:"currentColor",fillRule:"nonzero"}),i.jsx("path",{d:"M0 16h16V0H0z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("MWCMSubthreadXMAIcons",["MWXIcon.react","SVGIcon","cr:6167","cr:6168","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;if(b("cr:6168")!=null)return i.jsx(c("MWXIcon.react"),{color:a,icon:d("SVGIcon").svgIcon(b("cr:6168")),size:16});return b("cr:6167")!=null?i.jsx(c("MWXIcon.react"),{color:a,icon:d("SVGIcon").svgIcon(b("cr:6167")),size:16}):null}a.displayName=a.name+" [from "+f.id+"]";g.ChevronRightIcon=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||d("react");function a(a){var b=a.children,e=a.threadKey,f=(h||(h=c("useReStore")))();a={threadID:(i||(i=d("I64"))).to_string(e)};a=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var g=a[0];a=function(){c("promiseDone")(f.table("threads").get(e),function(a){if(a==null)return;g({thread:a})})};return b(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MWXText.react","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]),l=new Set(Object.values(c("MessageMarkdownCodeblockLanguages")));function m(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case k.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case k.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case k.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case k.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case k.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case k.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case k.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||l.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var n=[k.CodeBlock,k.BlockQuote,k.InlineQuote,k.InlineCode,k.Bold,k.Italics,k.StrikeThrough];function a(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function o(a){var b=[];n.forEach(function(c){var e=m(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,j=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=(i||(i=d("UnicodeUtils"))).substr(a,0,k.index);e=e.length-i.strlen(e);var h=k.index-e,l=i.strlen(k[0]);g&&(h+=k[j].length,l-=k[j].length);e=function(a){var b=h+l,c=a.offset+a.length;return b>a.offset&&h<c};var m=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+m;e.length+=l+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:m},length:l,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=o}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.transformEmoticons,f=a.isHotLike,g=a.ranges;a=a.text;e=e!=null?e:!0;f=f!=null?f:!1;var i={};i.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];a=b("cr:2472")==null?a:b("cr:2472").unvault(a);var k=h._("__JHASH__fJLp3hO2Ffq__JHASH__").toString();f=f?k:a;k={maxLength:120,maxLines:2,renderers:i,text:f,transforms:e?d("MWChatTextTransform").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};g!=null&&(k.ranges=g);a=j.jsx(c("MWXMessageTextWithEntities.react"),babelHelpers["extends"]({},k));return j.jsx("div",{className:"xi81zsa",dir:"auto",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatColors",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWChatReactionsActionContainer.react",["JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.react","MWXLazyPopoverTrigger.react","MWXPopoverLoadingState.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useState,m={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}};function a(a){var b=a.align;b=b===void 0?"middle":b;var e=a.alwaysShowEmojiPicker;e=e===void 0?!1:e;var f=a.children,g=a.closeActionsMenu,h=a.disableCustomReactions;h=h===void 0?!1:h;var n=a.hasReactionsV2,o=a.isBroadcastChannel,p=a.isBroadcastThread,q=a.isSecure;q=q===void 0?!1:q;var r=a.messageID,s=a.onVisibilityChange,t=a.reactionsPopoverResource,u=a.selectedReactions,v=a.sendReaction,w=k(d("MWV2MessageRowIsRowFocusedContext.react").context);t=(a=t)!=null?a:c("JSResourceForInteraction")("MWChatReactionsMenu.react").__setRef("MWChatReactionsActionContainer.react");a=l(!1);var x=a[0],y=a[1],z=u!=null&&u.length>0&&u[0]||void 0;a=e||x;e=j(function(a){var b=z!=null&&n!==!0&&z===a;v(a,b);return g()},[z,n,v,g]);x=j(function(a){a||y(!1),s(a),w.setFocused(a)},[w,s]);return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:b==="end_"?"end":b,fallback:i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:m.popoverLoading}),onVisibilityChange:x,popoverProps:{closeActionsMenu:g,disableCustomReactions:h,isBroadcastChannel:o,isBroadcastThread:p,isSecure:q,messageID:r,onClose:c("emptyFunction"),onSelect:e,selectedReactions:u,setShowEmojiPicker:y,showEmojiPicker:a},popoverResource:t,popoverType:a?"dialog":"menu",position:a?"below":"above",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.size;b=b===void 0?16:b;a=a.viewBox;a=a===void 0?"0 0 16 16":a;return k.jsxs("svg",{fill:"none",height:b,viewBox:a,width:b,xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("title",{children:h._("__JHASH__Wo2O5nlXhKT__JHASH__")}),k.jsx("path",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.svgFill),d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"}),k.jsx("path",{className:i(d("MWChatColors").MessageActions.styles.svgFill),clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));c=h;e=c.createContext;var i=c.createElement,j=c.useContext;d={current:function(){}};c={current:function(){}};var k={current:function(){}},l={current:function(){}};d={forwardMessage:d,openReactionsMenu:c,removeMessage:k,replyToMessage:l};var m=e(d);function a(){return j(m)}function b(a){var b=a.children;a=a.value;return i(m.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.useMessageRowActionsContext=a;g.MWV2MessageRowActionsContextProvider=b}),98);
__d("MWChatReactionsAction.react",["fbt","MWChatColors","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWV2MessageRowActionsContext.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","useIsMultiReactionEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useEffect,o=l.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[l.jsx("circle",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),l.jsx("path",{className:i(d("MWChatColors").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),l.jsx("circle",{className:i(d("MWChatColors").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),l.jsx("circle",{className:i(d("MWChatColors").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});function a(a){var b=h._("__JHASH__czR8vxcW0mN__JHASH__"),e=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),f=e.openReactionsMenu,g=m(function(a){if(c("gkx")("3417")){f.current=c("emptyFunction");return}},[f]);n(function(){return g},[g]);e=a.messageID;e=d("MWChatMessageId").getThreadId(e);var k=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(e);return l.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},a,{children:function(a,e,g,h,m,n){g=function(){e(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};f.current=g;return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:b,children:l.jsx(c("MWXPressable.react"),{"aria-label":b,expanding:!0,onHoverIn:h,onHoverOut:m,onPress:g,onPressIn:n,overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:l.jsx("div",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.action),children:l.jsx("div",{className:i(d("MWChatColors").MessageActions.styles.icon),children:k?l.jsx(c("MWMessageReactionIcon.react"),{size:22,viewBox:"-4 -2 22 22"}):o})})})})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={line:{backgroundColor:"x1iuwi03",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=h._("__JHASH__dAK4xN4bf5e__JHASH__");return j.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:a})}),j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;return i.createElement(k.Provider,{children:b,value:(b=a)!=null?b:"standard"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.context=k;g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MWMessageListLoggingContext",["react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useRef,m=j({current:""});function a(a){var b=a.children;a=a.flowInstanceId;a=l(a);return i.jsx(m.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(m)}function e(){var a=k(m);(a.current===null||a.current==="")&&(a.current=c("uuidv4")());return a}g.MWMessageListLoggingContext=a;g.useFlowInstanceIdContext=b;g.useFlowInstanceId=e}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("I64"))).of_int32(60),k=i.of_int32(60*60),l=i.of_int32(24*60*60),m=i.of_int32(7*24*60*60);function a(a,b){b=(i||(i=d("I64"))).of_float(b.getTime()/1e3);a=i.div(a,i.of_int32(1e3));b=i.sub(b,a);a=h._("__JHASH__FdnMQ3ayYbi__JHASH__");if((i||(i=d("I64"))).lt(b,j))return a;else if((i||(i=d("I64"))).lt(b,k)){var c=(i||(i=d("I64"))).to_string(i.div(b,j));return h._("__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if((i||(i=d("I64"))).lt(b,l)){c=(i||(i=d("I64"))).to_string(i.div(b,k));return h._("__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if((i||(i=d("I64"))).lt(b,m)){c=(i||(i=d("I64"))).to_string(i.div(b,l));return h._("__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useContext,k=b.useMemo,l=b.useRef,m=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=l(new Set()),c=k(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return j(m)}};g["default"]=d}),98);
__d("MWStatusText.react",["MWPThreadThemeGradientUtils","MWXText.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignLeft:{paddingStart:"xtt4iyq",paddingLeft:null,paddingRight:null,$$css:!0},alignRight:{paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0}};function a(a){var b=a.alignLeft;b=b===void 0?!1:b;var e=a.error,f=a.text;a=a.xstyle;var g=c("useMWPThreadTheme")();return j.jsx("span",{className:(h||(h=c("stylex")))(b?k.alignLeft:k.alignRight,d("MWPThreadThemeGradientUtils").isGradient(g)&&k.mask,a),role:"none",children:j.jsx(c("MWXText.react"),{align:b===!0?"start":"end",color:e===!0?"negative":"secondary",testid:void 0,type:"meta4",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPThreadThemeGradientUtils","MWStatusText.react","clearTimeout","react","setTimeout","stylex","useMWPThreadTheme","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=3e3,p={mask:{backgroundColor:"xcrg951",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.message,g=a.status,i=a.xstyle;a=n(!1);var q=a[0],r=a[1],s=m(null),t=m(!1);a=c("MWMessageSendingContext.react").useHook();var u=a.findSendingMessage,v=a.trackSendingMessage,w=a.untrackSendingMessage;a=c("useMWPThreadTheme")();var x=c("useServerTime")();k(function(){w(f.offlineThreadingId);g.type==="Sending"?(v(f.offlineThreadingId),s.current=c("setTimeout")(function(){r(!0)},o)):s.current&&c("clearTimeout")(s.current);return function(){s.current&&c("clearTimeout")(s.current)}},[u,f.offlineThreadingId,g.type,v,w]);var y=l(function(){g.type==="Sending"?v(f.offlineThreadingId):u(f.offlineThreadingId)&&(t.current=!0);var a=g.type==="Sending"||t.current;a=[p.statusText,a&&p.mountAnimation,i];switch(g.type){case"Sending":return q?j.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):null;case"Sent":case"Delivered":return e?j.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(f.timestampMs,x).toString(),xstyle:a}):null;case"Error":return j.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:d("MWMessageDeliveryStatus").Titles.error.toString(),xstyle:a});default:return null}},[b,u,e,f.offlineThreadingId,f.timestampMs,x,q,g.type,v,i]);return j.jsx("div",{className:(h||(h=c("stylex")))(p.statusTextRow,d("MWPThreadThemeGradientUtils").isGradient(a)&&p.mask),"data-testid":void 0,children:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("useShouldAllowRollCallForMessage",["I64","LSIntEnum","MessagingAttachmentType","useIsRollcallEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[c("MessagingAttachmentType").IMAGE,c("MessagingAttachmentType").VIDEO];function a(a,b){a=c("useIsRollcallEnabled")(a.threadKey);return!a?!1:b.some(function(a){var b=(a=a.attachmentType)!=null?a:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE);return j.some(function(a){return(i||(i=d("I64"))).equal(b,(h||(h=d("LSIntEnum"))).ofNumber(a))})})}g.ATTACHMENT_TYPES_THAT_ALLOW_PROMPTS=j;g.useShouldAllowRollCallForMessage=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useRef,l=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=a.attachments,e=a.children;a=a.message;b=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,b);var f=k(!1),g=d("MWPActor.react").useActor(),h=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext();h[0];var m=h[1];return b?j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{message:a,onClose:c("emptyFunction")},popoverResource:l,position:(i||(i=d("I64"))).equal(g,a.senderId)?"start":"end",children:function(a,b){f.current===!1&&(f.current=!0,m(b));return j.jsx("div",{ref:a,children:e})}}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useMemo,q=9;function r(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a)},[b,a],f.id+":46"),g=p(function(){var a=new Map();for(var b=e,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g==null?void 0:g.profileName;h!=null&&a.set((l||(l=d("I64"))).to_string(g.ownerId),h)}return a},[e]);return g}function a(a){var b=a.messageId;a.parentThreadKey;var c=a.reactions;a=a.threadKey;var e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),f=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a);return f?n.jsx(t,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a}):n.jsx(s,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var e=a.messageId,g=a.parentThreadKey,m=a.reactions,s=a.threadKey,t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(t.table("reactions")).getKeyRange(s,e),d("ReQL").fromTableAscending(t.table("contacts")))},[t,s,e],f.id+":109"),v=r(g);o(function(){c("promiseDone")(t.runInTransaction(function(a){return(i||(i=b("Promise"))).all(u.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)});else return(i||(i=b("Promise"))).resolve()}))},"readwrite"))},[t,u]);a=p(function(){var a=new Map(u.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[(l||(l=d("I64"))).to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=m.map(function(b){b=(l||(l=d("I64"))).to_string(b.actorId);if(v.has(b))return v.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,q);if(e>q){e=e-q;b.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[v,m,u]);g=a.map(function(a,b){return n.jsx("div",{children:a},String(b))});return n.jsx("div",{children:g})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b,e=a.messageId,g=a.parentThreadKey;a.reactions;var i=a.threadKey,k=(j||(j=c("useReStore")))();o(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(k.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:i})},"readwrite"))},[k,i,e]);var m=r(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.table("reactions_v2_details")).getKeyRange(i,e).map(function(a){var b;return(b=m.get((l||(l=d("I64"))).to_string(a.reactorId)))!=null?b:a.fullName})},[k,m,i,e],f.id+":241");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.table("reactions_v2")).getKeyRange(i,e)},[k,i,e],f.id+":254");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var s=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.table("contacts")).getKeyRange(s)},[k,s],f.id+":273");g=g?g.map(function(a){return(l||(l=d("I64"))).to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(t==null?void 0:t.id)!=null?m.get((l||(l=d("I64"))).to_string(t.id)):null)!=null?b:t==null?void 0:t.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&t&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._("__JHASH__GTBXwO8BaZr__JHASH__");t=a.slice(0,q);if(a.length>q){g=a.length-q;t.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]))}b=t.length===0?p:t.map(function(a,b){return n.jsx("div",{children:a},String(b))});return n.jsx("div",{children:b})}t.displayName=t.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",marginLeft:null,marginRight:null,$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.emojis,f=a.message,g=a.reactions,j=a.reactionsV2,o=a.renderEmojis;a=a.threadKey;f=f.messageId;j=j!=null?j.map(function(a){return(k||(k=d("I64"))).to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;var p=c("useIsReactionDialogEnabled")(a);j=j>1?j:b;var q=j>1;b=e.map(function(a,b){var f=q||b!==e.length-1,g=d("MWChatReactionsUtils").isHeart(a[0]);return l.jsx("div",{className:(i||(i=c("stylex")))(m.emoji,p?m.emojiWithCursor:!1,f?m.emojiMargin:!1),children:l.jsx("div",{className:i(g?m.scaleHeartEmoji:!1),children:o?o(a,16,"messenger_reaction_emoji_"+a[0]):l.jsx(c("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0})})},String(b))});b=l.jsxs("div",{className:"x6s0dn4 x2bj2ny x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x10vwrwz x78zum5 xl56j7k x4p5aij x19um543 x1j85h84 x1m6msm xp4054r",role:"none",children:[b,q?l.jsx(n,{reactionCount:j}):null]});return p?l.jsx(c("MWXTooltip.react"),{align:"middle",label:h._("__JHASH__pugXv5G1XoG__JHASH__"),position:"above",tooltip:l.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:f,reactions:g,threadKey:a}),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";function n(a){a=a.reactionCount;a=c("intlSummarizeNumber")(a);var b=a.length;return l.jsx("div",{className:"xi81zsa x1ncwhqj x14ju556 xdhweic x150jy0e x1e558r4 x2b8uid",role:"none",style:{width:b+"ch"},children:a})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","I64","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.useRef,o=b.useState,p=9;function a(a){var b=a.messageId,e=a.onTooltipCTAPress,g=a.reactionFbid,k=a.threadKey,q=(i||(i=c("useReStore")))();a=o(!0);var r=a[0],s=a[1];m(function(){s(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(q,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:b,reactionFbid:g,threadId:k})},"issueReactionsV2DetailsUsersListFetch").then(function(){s(!1)}))},[q,k,b,g,s]);var t=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(q.table("reactions_v2_details")).getKeyRange(k,b).filter(function(a){return(j||(j=d("I64"))).equal(a.reactionFbid,g)})},[q,k,b,g],f.id+":70");var u=new Map();a.forEach(function(a){return u.set((j||(j=d("I64"))).to_string(a.reactorId),a.fullName)});var v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.table("threads")).getKeyRange(k).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(q.table("contextual_profile_v1")).filter(function(a){return(j||(j=d("I64"))).equal(a.associatedEntityId,b)}),f.id+":88")})},[q,k],f.id+":83"),w=null;v!=null&&v.forEach(function(a){var b=(j||(j=d("I64"))).to_string(a.ownerId),c=a.profileName;if(c==null)return;u.has(b)&&u.set(b,c);(j||(j=d("I64"))).equal(a.ownerId,t)&&(w=c)});var x=a.map(function(a){return u.get((j||(j=d("I64"))).to_string(a.reactorId))}).filter(Boolean);v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.table("reactions_v2")).getKeyRange(k,b,g)},[q,k,b,g],f.id+":117");a=(a=v==null?void 0:v.viewerIsReactor)!=null?a:!1;var y=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.table("contacts")).getKeyRange(t).map(function(a){return a.name})},[q,t],f.id+":129");y=w!=null?w:y;var z=v!=null?(j||(j=d("I64"))).to_int32(v.count):0;z===1&&a&&x.length===0&&y!=null?x.push(y):a&&x[0]!=null&&y!=null&&((v=x[0])==null?void 0:v.toString())!==y&&x.unshift(y);var A=h._("__JHASH__GTBXwO8BaZr__JHASH__");a=function(){var a=[].concat(x.slice(0,p)),b=!1;if(x.length>p){var d=z-p;if(d<0)return[A,!0];a.push(l.jsx(c("MWXText.react"),{color:"highlight",type:"body4",children:h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(d),h._param("count",String(c("intlSummarizeNumber")(d)))]).toString()}))}else b=!r&&x.length!==z;return a.length===0?[A,b]:[a.map(function(a,b){return l.jsx("div",{children:a},String(b))}),b]}();v=a[0];var B=a[1],C=c("usePrevious")(B),D=n(null);m(function(){return function(){D.current!=null&&window.clearTimeout(D.current)}},[]);m(function(){if(C===B)return;if(!B)D.current!=null&&(window.clearTimeout(D.current),D.current=null);else{if(D.current!=null)return;D.current=window.setTimeout(function(){D.current=null,c("promiseDone")(q.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(q.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:b,threadId:k})},"readwrite"))},700)}},[q,B,C,b,g,k]);return l.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__g_e4jdcSB-i__JHASH__"),onPress:e,overlayDisabled:!0,children:l.jsx("div",{children:v})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?"":b[0].join("")}).filter(function(a){return a!==""})}a={useSelectedReaction:function(a){var b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey],f.id+":34");if(g!=null)return g.reaction},useSelectedReactionsV2:function(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor&&(h||(h=d("I64"))).gt(a.count,(h||(h=d("I64"))).zero)}).map(function(a){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":59");return[a==null?void 0:a.reactionLiteral,a==null?void 0:a.reactionLiteralVariant16].filter(Boolean)})},[b,a.threadKey,a.messageId],f.id+":50").flat();e=j(e);return e},useSelectedReactionV2:function(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey],f.id+":78");return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(e.reactionFbid).map(function(a){return a.reactionLiteral}):d("ReQL").empty()},[b,e],f.id+":86")}};g.MWV2MessageReactionHooks=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useMemo,k=b.useRef;function l(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function m(a,b){b=((b=b)!=null?b:[]).filter(function(a){return(i||(i=d("I64"))).gt(a.count,i.zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=k(!0),e=k([]),f=j(function(){return m(a,b)},[a,b]),g=j(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return j(function(){if(c.current)c.current=!1,e.current=f.sort(function(a,b){return(i||(i=d("I64"))).compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")});else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:(i||(i=d("I64"))).to_int32(a.reaction.count)>0});e.current=l(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["fbt","BaseContextualLayer.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji","MWChatReactionsActionContainer.react","MWChatReactionsUtils","MWLSThread","MWMessageReactionIcon.react","MWPColorUtils","MWV2MessageReactionHooks","MWXPopover.react","MWXPressable.react","MWXText.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","unrecoverableViolation","useCometTheme","useFadeEffect","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useMWPThreadTheme","usePrevious","useThrottled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=j||(j=d("react"));b=j;e=b.forwardRef;var o=b.useCallback,p=b.useEffect,q=b.useMemo,r=b.useRef,s=b.useState,t={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x1erype6",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xvvkyix",transformOrigin:"x1jpgh95",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingStart:"x1k2j06m",paddingLeft:null,paddingRight:null,paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"x10b6aqq",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,paddingStart:"xurb0ha",paddingTop:"x1yrsyyn",position:"x1n2onr6",textAlign:"xp4054r",$$css:!0},emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},tooltipContainer:{backgroundColor:"xj5tmjb",borderTopStartRadius:"x1r9drvm",borderTopEndRadius:"x16aqbuh",borderBottomEndRadius:"x9rzwcf",borderBottomStartRadius:"xjkqk3g",boxShadow:"xms15q0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}},u=e(function(a,b){var e=a.messageID,f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,i=a.onPressInPrerenderer,j=a.showPopover;a=h._("__JHASH__czR8vxcW0mN__JHASH__");e=o(function(){j(),(k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")},[e,j]);return n.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:n.jsx(c("MWXPressable.react"),{"aria-label":a,expanding:!0,onHoverIn:f,onHoverOut:g,onPress:e,onPressIn:i,overlayRadius:"inherit",ref:b,role:"button",testid:void 0,xstyle:t.emojiRowContainer,children:n.jsx("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",role:"none",children:n.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm x78zum5 xdt5ytf xlup9mm xl56j7k x1npj6m0",children:n.jsx(c("MWMessageReactionIcon.react"),{})})})})})});function v(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.threadKey;a=a.threadType;var h=(l||(l=d("I64"))).to_string(g),i=l.to_string(e.timestampMs),j=q(function(){return d("MWChatMessageId").makeSent(h,e.messageId,i)},[h,e.messageId,i]);a=d("MWCMThreadTypes.react").isBroadcastThread(a);g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(g);var k=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e);return n.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:g&&a,hasReactionsV2:g,isBroadcastThread:a,isSecure:b,messageID:j,onVisibilityChange:c("emptyFunction"),selectedReactions:(g=k)!=null?g:void 0,sendReaction:f,children:function(a,b,c,d,e,f){return n.jsx(u,{messageID:j,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}v.displayName=v.name+" [from "+f.id+"]";function a(a){var b=a.emojis,e=a.message,f=a.onOpenDialog,g=a.outgoing;a=a.reactionsV2;var h=null,j=s(-1),k=j[0],p=j[1],q=e.threadKey;j=d("MWLSThread").useThread(q,function(a){return a.threadType});if(j==null)throw c("unrecoverableViolation")("thread cannot be null when reacting to message","messenger_web_product");var u=d("LSMessagingThreadTypeUtil").isSecure(j),w=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,u,"instant_react"),y=o(function(a,b){return w(e.messageId,a,b?"remove_reaction":"reaction")},[w,e.messageId]),z=c("useThrottled")(function(a,b){y(a,b)},750),A=r(null),B=o(function(a,b){f({reactionFbid:a,reactionType:b}),p(-1)},[f,p]),C=o(function(a){A.current!=null&&window.clearTimeout(A.current),p(a)},[]),D=o(function(a){if(k===a)return;A.current!=null&&window.clearTimeout(A.current);p(-1);A.current=window.setTimeout(function(){p(a)},300)},[k]),E=o(function(){A.current!=null&&window.clearTimeout(A.current),A.current=window.setTimeout(function(){return p(-1)},300)},[]),F=c("useGetMultiReactOrderedItems")(b,a),G=F.length||0,H=c("usePrevious")(F);if(G<1)return null;G=G>0&&G<d("useIsMultiReactionEnabled").MAX_REACTION_COUNT;a!=null&&(h=F.map(function(a,f){var g=a.emoji;a=a.reaction;return b[f]==null?null:n.jsx(x,{emoji:g,isTooltipShown:k===f,message:e,onFocus:function(){return C(f)},onMouseEnter:function(){return D(f)},onMouseLeave:E,onTooltipCTAPress:B,reaction:a,sendReaction:z,shouldAnimate:(H==null?void 0:H.find(function(a){return a.emoji.join("")===g.join("")}))==null&&(l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:q},g)}));return n.jsxs("div",{className:(i||(i=c("stylex")))(t.wrapper,g?t.wrapperOutgoing:!1),"data-testid":void 0,children:[h,G?n.jsx(v,{isSecure:u,message:e,sendReaction:y,threadKey:q,threadType:j}):null]})}a.displayName=a.name+" [from "+f.id+"]";var w={"--card-background":"rgba(0,0,0,0)"};function x(a){var b=a.emoji,e=a.isTooltipShown,f=a.message,g=a.onFocus,h=a.onMouseEnter,j=a.onMouseLeave,k=a.onTooltipCTAPress,m=a.reaction,o=a.sendReaction,q=a.shouldAnimate;a=a.threadKey;var u=c("useCometTheme")("invert"),v=u[0];u=u[1];var x=c("useCometTheme")("light");x[0];x=x[1];var y=d("MWChatReactionsUtils").isHeart(b[0]),z=r(null);e=c("useFadeEffect")(e);var A=e[0],B=e[1];e=e[2];var C=s(!1),D=C[0],E=C[1],F=r(null);p(function(){F.current!=null&&window.clearTimeout(F.current)},[]);p(function(){q&&(E(!0),F.current!=null&&window.clearTimeout(F.current),F.current=window.setTimeout(function(){F.current=null,E(!1)},600))},[q]);C=c("useMWPThreadTheme")();C=C.threadTheme;C=d("MWPColorUtils").int64ToHex(C.fallbackColor);var G=C+"40";G="linear-gradient(0deg, "+G+", "+G+"), #FFFFFF";var H=(l||(l=d("I64"))).to_string(m.count),I=H.length;return n.jsxs("div",{className:(i||(i=c("stylex")))(m.viewerIsReactor?x:null),onFocus:g,onMouseEnter:h,onMouseLeave:j,children:[n.jsx(c("MWXPressable.react"),{onPress:function(){o(b.join(""),m.viewerIsReactor)},overlayRadius:"inherit",ref:z,xstyle:t.emojiRowContainer,children:n.jsxs("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",style:m.viewerIsReactor?{background:G}:null,children:[n.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm",children:n.jsx("div",{className:i(q||D?t.animatedEmoji:!1,y?t.scaleHeartEmoji:!1),children:n.jsx(c("MWChatReactionEmoji"),{emoji:b,size:16,testid:void 0})})}),n.jsx("div",{className:"xi81zsa x1nxh6w3 x1s688f x1k2j06m x10ogl3i x2b8uid","data-testid":void 0,role:"none",style:m.viewerIsReactor?{color:C,minWidth:I*9}:{minWidth:I*9},children:H})]})}),A&&n.jsx(v,{children:n.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:z,position:"above",ref:e,children:n.jsx("div",{style:c("gkx")("571")?null:w,children:n.jsx(c("MWXPopover.react"),{withArrow:c("gkx")("571"),children:n.jsx("div",{className:(i||(i=c("stylex")))(u,t.tooltipContainer,B&&t.tooltipContainerVisible),role:"tooltip",children:n.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:n.jsx(c("MWChatMultiReactionsTooltip.react"),{messageId:f.messageId,onTooltipCTAPress:function(){return k(m.reactionFbid,b.join(""))},reactionFbid:m.reactionFbid,threadKey:a})})})})})})})]})}x.displayName=x.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.altText,d=a.head;a=a.xstyle;return d.imageSrc===""?j.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.profilePlaceholder}):j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(k.image,a),"data-testid":void 0,height:"14px",src:d.imageSrc,width:"14px"})}a.displayName=a.name+" [from "+f.id+"]";var k={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",userSelect:"x87ps6o",verticalAlign:"x11njtxf",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect,o=k.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function p(a){return"#"+a.slice(2)}function q(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var r=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function s(){return m(r).theme}function t(){var a=m(r),b=a.clearTheme;n(function(){return b},[b]);return[a.setTheme,b]}function u(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=o(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return j.jsx(r.Provider,{value:a,children:b})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=p;g.intToHex=q;g.useTheme=s;g.usePreview=t;g.MWThemeProvider=u;g.isGradient=v}),98);
__d("MDSForwardStackSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{d:"M10.5 14a.5.5 0 0 0 .5-.5v-2.536c0-1.608 1.769-2.532 3.02-1.578l9.21 7.026c1.026.783 1.027 2.37.002 3.154l-9.21 7.046c-1.25.957-3.022.034-3.022-1.576V22.5a.5.5 0 0 0-.5-.5H5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h5.5Z"}),i.jsx("path",{d:"M20.38 24.265a.97.97 0 0 0-.38.771c0 1.61 1.771 2.533 3.022 1.576l9.21-7.046c1.025-.784 1.024-2.37-.002-3.154l-9.21-7.026c-1.251-.954-3.02-.03-3.02 1.578 0 .295.138.574.373.753l4.07 3.105c2.074 1.583 2.076 4.747.004 6.332l-4.066 3.111Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPContactContext.react",["react","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useMemo,l=e.useRef,m=i.createContext({authorName:void 0,contact:void 0,nickname:void 0}),n=i.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return j(m)}function b(){return j(n)}function c(a){var b=a.children,c=a.contact,d=a.nickname,e=function(){var a;if(d!=null)a=d;else if(c!=null){var b=c.firstName;a=b!=null?b:c.name}else a=void 0;return a}();a=k(function(){return{authorName:e,contact:c,nickname:d}},[d,e,c]);var f=o(c),g=k(function(){return{authorName:e,contact:f,nickname:d}},[d,e,f]);return i.jsx(m.Provider,{value:a,children:i.jsx(n.Provider,{value:g,children:b})})}c.displayName=c.name+" [from "+f.id+"]";function o(a){var b=l();a=a?{capabilities:a.capabilities,capabilities2:a.capabilities2,contactTypeExact:a.contactTypeExact,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MWPMessageHasAttachment","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(j||d("react")).useMemo;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=(i||(i=c("useReStore")))(),j=a.messageId,p=a.threadKey,q=c("MWPMessageHasAttachment")(a),r=d("ReQLSuspense").useFirst(function(){if(q)return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(p,j);else return d("ReQL").empty()},[g,j,p,q],f.id+":63");return m(function(){if(b)if(r!=null)if(n(r))return h._("__JHASH___8ZpqsY3Jrg__JHASH__");else if(o(r))return h._("__JHASH__INRUrq18hhv__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__Z71bv2q5yoA__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else if(r!=null)if(e!=null)if(n(r))return h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(o(r))return h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(n(r))return h._("__JHASH__QhCmPJ-QbeG__JHASH__");else if(o(r))return h._("__JHASH__vFSMWshNg-J__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__U5_TMTE9DWx__JHASH__");else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__")},[b,r,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();return p(a,b,c[0])}g.useTitle=a}),98);
__d("MWForwardedContent.react",["fbt","I64","MDSForwardStackSvgIcon.react","MDSForwardSvgIcon.react","MWPForwardedContent","gkx","justknobx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("justknobx")._("1649");function a(a){var b=a.message;a=a.outgoing;a=d("MWPForwardedContent").useTitle(b,a);b=b.forwardScore!=null?(j||(j=d("I64"))).to_int32(b.forwardScore):0;b=c("gkx")("9901")&&l!==0&&b>=l;b=b?k.jsxs(k.Fragment,{children:[k.jsx(c("MDSForwardStackSvgIcon.react"),{color:"tertiary",size:16}),k.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:h._("__JHASH__hxhFsSrRndH__JHASH__")})]}):k.jsxs(k.Fragment,{children:[k.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),k.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:a})]});return k.jsx("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));c=h;e=c.createContext;var k=c.useContext;c={threadKey:(i||(i=d("I64"))).zero};var l=e(c);function a(){return k(l).threadKey}function b(a){var b=a.children,c=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{threadKey:c}},[c]);return j.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.MWPAudioPlaybackThreadContextProvider=b}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","bx","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j,n=m.createContext,o=m.useCallback,p=m.useContext,q=m.useEffect,r=m.useMemo,s=m.useRef,t=m.useState,u=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function v(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function w(a){var b=Array.from(u.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function x(a){return h._("__JHASH__T0e3ZJkGlxz__JHASH__",[h._param("playback rate",a,[0])])}x.displayName=x.name+" [from "+f.id+"]";m={activeAudio:null,activeThreadKey:(k||(k=d("I64"))).zero,addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),getNewOrExistingAudio:v,onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:x(u.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var y=n(m);function a(a,b,c){var e=p(y),f=e.activeAudio,g=e.activeThreadKey,h=e.addNextPlayableUrl,i=e.getNewOrExistingAudio,j=e.setUseOutOfChatPlayback,l=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!c||(k||(k=d("I64"))).is_zero(g)||(k||(k=d("I64"))).is_zero(l))return;j(!(k||(k=d("I64"))).equal(g,l));return function(){j((k||(k=d("I64"))).equal(g,l))}},[f,g,j,c,l]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){if(!c)return v(a);b!=null&&b!==""&&h(a,b);return i(a,l)}},[h,i,b,a,c,l])}function e(){var a=p(y),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function z(){var a=p(y),b=a.activeAudio,e=a.activeThreadKey;a=a.clearActiveAudio;var g=(i||(i=c("useReStore")))(),h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("threads")).getKeyRange(e)},[g,e],f.id+":162");return[b,a,h]}function A(a){a=a.children;var b=s(new Map()),e=s(new Map()),f=s([]),g=s(v(c("bx").getURL(c("bx")("577"))));q(function(){var a=f.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var h=t(u.NORMAL),i=h[0],j=h[1],m=r(function(){return x(i)},[i]);h=t((k||(k=d("I64"))).zero);var n=h[0],p=h[1];h=t(null);var z=h[0],A=h[1];h=t(!1);var B=h[0],C=h[1],D=(z==null?void 0:z.paused)===!1,E=r(function(){return B&&D?z:null},[z,D,B]),F=o(function(){A(function(a){a!=null&&a.pause();return null})},[]),G=o(function(a,c){var d,h=(d=b.current.get(a))!=null?d:v(a);h.playbackRate=i;d=function(a,b){h.addEventListener(a,b),f.current.push([h,a,b])};var j=function(){var c=e.current.get(a);if(c!=null){var d=b.current.get(c);if(d!=null&&d.paused)return void g.current.play().then(function(){A(d);return d.play()["catch"](function(){return A(null)})})}A(null)};d("ended",j);j=function(){for(var a=b.current.values(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==h&&f.pause()}A(h);p(c)};d("playing",j);b.current.set(a,h);return h},[i]),H=o(function(){j(function(a){a=w(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),I=o(function(a,b){e.current.set(a,b)},[]);h=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:E,activeThreadKey:n,addNextPlayableUrl:I,clearActiveAudio:F,getNewOrExistingAudio:G,onChangePlaybackRate:H,playbackRateLabel:m,setUseOutOfChatPlayback:C}},[E,n,I,F,G,H,m]);return l.jsx(y.Provider,{value:h,children:a})}A.displayName=A.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=z;g.MWPAudioPlaybackContextProvider=A}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginLeft:null,marginRight:null,marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"xipm1xi","::after_borderEndColor":"x24l0bi","::after_borderBottomColor":"x11usdlg","::after_borderStartColor":"xcukw63","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_left":null,"::after_right":null,"::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};g.styles=a}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWPAudioPlaybackContext.react","cancelAnimationFrame","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.createContext,m=k.useCallback,n=k.useContext,o=k.useEffect,p=k.useRef,q=k.useState,r=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),s=l(r.PLAYER),t=c("gkx")("4435");function u(){var a=n(s);return t&&a===r.PLAYER}function a(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return v(c,0,1)}function v(a,b,c){return Math.min(Math.max(b,a),c)}function e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}e.displayName=e.name+" [from "+f.id+"]";function w(){var a=u();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function x(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function y(a,b,d,e,f,g){f===void 0&&(f=!1);var h=p();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var z=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function A(a,b,e,f,g){var h=u(),i=c("useStable")(function(){return e}),j=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,h),k=p(j);a=q(z.NONE);var l=a[0],n=a[1];b=q(function(){var a;return(a=j==null?void 0:j.currentTime)!=null?a:0});a=b[0];var r=b[1];o(function(){if(j==null){n(z.NONE);return}j.ended&&n(z.ENDED);n(function(){return j.paused?z.PAUSED:z.PLAYING});r(j.currentTime);k.current=j},[j]);o(function(){var a=k.current;if(a==null)return;var b=function(){return n(z.PAUSED)},c=function(){return n(z.PLAYING)},d=function(){return n(z.LOADING)},e=function(){k.current!=null&&r(k.current.currentTime)},f=function(){k.current=a,b()},g=function(){k.current!=null&&(k.current.currentTime=0,r(0)),n(z.ENDED)};a.addEventListener("loadstart",d);a.addEventListener("canplay",f);a.addEventListener("timeupdate",e);a.addEventListener("playing",c);a.addEventListener("pause",b);a.addEventListener("ended",g);return function(){a.removeEventListener("loadstart",d),a.removeEventListener("canplay",f),a.removeEventListener("timeupdate",e),a.removeEventListener("playing",c),a.removeEventListener("pause",b),a.removeEventListener("ended",g),h||a.pause()}},[j,h]);b=m(function(){var a=k.current;if(a==null)return;switch(l){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(a.play(),function(){return n(z.PLAYING)},i);return;case z.PLAYING:a.pause();n(z.PAUSED);return}},[i,l]);var s=m(function(a){var b=k.current;if(b==null)return;b.currentTime=a;r(a)},[]);return[l,a,k,b,y(g,k,a,l===z.PLAYING,f,l===z.ENDED),s]}function B(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=q(function(){if(b==null)return z.NONE;return b.ended?z.ENDED:b.paused?z.PAUSED:z.PLAYING}),g=f[0],h=f[1];f=q(function(){return b!=null?b.duration-b.currentTime:0});var i=f[0],j=f[1];o(function(){if(b==null)return;var a=function(){return j(b.duration-b.currentTime)},d=function(){return h(z.LOADING)},e=function(){return h(z.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);f=m(function(){if(b==null)return;switch(g){case z.NONE:case z.LOADING:return;case z.ENDED:case z.PAUSED:c("promiseDone")(b.play(),function(){return h(z.PLAYING)});return;case z.PLAYING:b.pause();h(z.PAUSED);return}},[b,g]);return[a,g===z.PLAYING,b!=null&&a!=null&&t,i,f,e]}g.UseCase=r;g.UseCaseContext=s;g.isEnabled=t;g.useShowNewUX=u;g.getMousePos=a;g.ScreenReaderLabel=e;g.usePlaybackButtonContainerStyle=w;g.useResetHighlightProgress=x;g.useProgressLiveUpdate=y;g.State=z;g.useControlCenter=A;g.useOutOfChatControlCenter=B}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.outgoing;var b=d("MWPAudioPlayerUtils").useShowNewUX(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return j.jsx(c("MWXPressable.react"),{onPress:e,overlayDisabled:!0,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,d("MWPAudioPlayerSharedStyles").styles.rightSideMargin,d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.disabled,e=a.icon,f=a.label;a.onHoverMove;a=a.onPress;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h=g?{backgroundColor:"transparent"}:{};return j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:b,onPress:a,overlayDisabled:g,overlayRadius:"50%",style:h,testid:void 0,xstyle:d("MWPAudioPlayerSharedStyles").styles.pressable,children:e})}b.displayName=b.name+" [from "+f.id+"]";g.PlaybackRateButton=a;g.AudioPlayerPlaybackButton=b}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=a.audioEl,e=a.children,f=a.hasScrubber,g=a.scrubberRef,i=a.style,l=a.testid;l=a.useCase;a=d("MWPAudioPlayerUtils").useShowNewUX();var m=k(),n=function(a){var c=b.current,e=m.current;c!=null&&e!=null&&Number.isFinite(c.duration)&&(c.currentTime=d("MWPAudioPlayerUtils").getMousePos(a,e)*c.duration)},o=function(a){if(m.current!=null&&g.current!=null)return g.current.updateHighlight(d("MWPAudioPlayerUtils").getMousePos(a,m.current)*100)},p=function(){if(g.current!=null)return g.current.updateHighlight(0)};i=babelHelpers["extends"]({cursor:f?"pointer":"default",height:a&&l===d("MWPAudioPlayerUtils").UseCase.PLAYER?70:36},i);a=f&&!a;return j.jsx(d("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:l,children:j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:a?n:void 0,onMouseLeave:f?p:void 0,onMouseMove:a?o:void 0,ref:m,style:i,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j.forwardRef;e=b(a);function a(a,b){var e=a.currentTime,f=a.duration;a=a.xPosition;return k.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":e,className:(i||(i=c("stylex")))(e===0?d("MWPAudioPlayerSharedStyles").styles.transparentBar:d("MWPAudioPlayerSharedStyles").styles.bar),ref:b,role:"slider",style:{left:a.toFixed(2)+"%"}})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),p=3,q=3,r=44,s=4;function t(a,b){var c=l(function(){return a==null||a===""?o:Float32Array.from(a.split(",").map(Number))},[a]);return l(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(q*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),s,r);return a.map(function(a,b){a=Math.ceil(a);var c=p,d=q;b=b*q*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function u(a){var b=a.hasEnded,e=b===void 0?!1:b;b=a.isPlaying;var f=b===void 0?!1:b,g=a.outgoing,i=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isPlaying","outgoing","scrubberLeft"]);var l=m(null);a=n("auto");var o=a[0],p=a[1];k(function(){var a=l.current;p(function(){var b="auto";(e||f)&&(b=g===!0?"var(--secondary-button-background-on-dark)":"var(--non-media-pressed-on-dark)");if(a==null)return b;var c=a.getBoundingClientRect();c=c.left;return i>c?g===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[e,f,g,i]);a=g===!0?(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle):(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return j.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:l,style:{fill:o}}))}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.hasEnded,e=a.isListened,f=a.isPlaying,g=a.outgoing,i=a.scrubberLeft;a=a.waveformData;var l=m(null),o=n(0),p=o[0],q=o[1],r=b===!0||e===!0;k(function(){if(l.current!=null){var a=l.current.getBoundingClientRect();q(a.width)}},[]);o=t(a,p);return o.length===0?j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l}):j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.waveform),ref:l,children:j.jsx("svg",{"aria-hidden":!0,className:h(d("MWPAudioPlayerSharedStyles").styles.mask),children:o.map(function(a,b){return j.createElement(u,babelHelpers["extends"]({},a,{hasEnded:r,isPlaying:f,key:b,outgoing:g,scrubberLeft:i}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerHighlight.react",["MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useImperativeHandle,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o=e(function(a,b){var e=a.audioEl,f=a.children,g=a.duration,i=a.hasEnded,o=a.isListened,q=a.isPlaying;q=q===void 0?!0:q;var r=a.onUpdateScrubber,s=a.outgoing,t=a.waveformData;a=a.xstyle;var u=d("MWPAudioPlayerUtils").useShowNewUX(),v=m(),w=m(),x=n(0),y=x[0],z=x[1];x=n(0);var A=x[0],B=x[1];l(function(){if((e==null?void 0:e.current)!=null&&w.current!=null&&g!=null&&g>0){var a=e.current.currentTime,b=w.current;B(p(b,a/g*100))}},[e,g]);k(b,function(){return{updateHighlight:function(a){var b=v.current,c=w.current;if(b==null)return;if(u){if(c!=null){c=p(c,a);B(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[u]);x=function(a){if(v.current!=null){var b,c;b=(b=v.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=v.current)==null?void 0:c.offsetWidth)!=null?c:0;z(b/c*100);if(g!=null&&g>0){b=d("MWPAudioPlayerUtils").getMousePos(a,v.current)*g;if(r!=null&&w.current!=null){c=w.current;r(b);B(p(c,b/g*100))}}}};if(u){return j.jsxs(j.Fragment,{children:[f,j.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,d("MWPAudioPlayerSharedStyles").styles.scrubber),onMouseDownCapture:x,ref:v,children:[j.jsx(c("MWPAudioPlayerScrubberBar.react"),{currentTime:e==null?void 0:(b=e.current)==null?void 0:b.currentTime,duration:(x=e==null?void 0:(f=e.current)==null?void 0:f.duration)!=null?x:0,ref:w,xPosition:y}),j.jsx(c("MWPAudioPlayerWaveform.react"),{hasEnded:i,isListened:o,isPlaying:q,outgoing:s,scrubberLeft:A,waveformData:t})]})]})}return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.highlight,a),ref:v})});function p(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}function a(a){var b=a.hasScrubber,c=a.progressHighlightRef,e=a.scrubberRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasScrubber","progressHighlightRef","scrubberRef"]);var f=a.audioEl,g=a.children,h=a.currentTime,i=a.duration,k=a.hasEnded,l=a.isListened,m=a.isPlaying;m=m===void 0?!0:m;var n=a.onUpdateScrubber,p=a.outgoing,q=a.waveformData;a=a.xstyle;var r=d("MWPAudioPlayerUtils").useShowNewUX();return r?j.jsx(o,{audioEl:f,duration:i,hasEnded:k,isListened:l,isPlaying:m,onUpdateScrubber:n,outgoing:p,ref:c,waveformData:q,xstyle:a,children:g}):j.jsxs(j.Fragment,{children:[j.jsx(o,{ref:c,xstyle:a}),b?j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:h,duration:i}):null,j.jsx(o,{ref:e,xstyle:a}),g]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPAudioPlayerHighlightV1=o;g.MWPAudioPlayerHighlightV2=a}),98);
__d("MWPAudioPlayerIcons.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}b.displayName=b.name+" [from "+f.id+"]";function c(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}c.displayName=c.name+" [from "+f.id+"]";g.PlayIcon=a;g.StopIcon=b;g.PauseIcon=c}),98);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function m(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function a(a){var b=a.audioEl;a=a.children;var d=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=m(a)},[b]),e=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=m(a)},[b]),f=k(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=k(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),i=l(function(){var a;return[{command:{key:(a=c("CometKeys")).UP},description:h._("__JHASH__0poPtptaPoq__JHASH__"),handler:e},{command:{key:a.DOWN},description:h._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:d},{command:{key:a.LEFT},description:h._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:d},{command:{key:a.RIGHT},description:h._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:e},{command:{key:a.HOME},description:h._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:f},{command:{key:a.END},description:h._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:g}]},[d,e,f,g]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__KhMMxBdqg3x__JHASH__");b=h._("__JHASH__2rBFW-RfRDV__JHASH__");c=h._("__JHASH__IubwmxlTNhe__JHASH__");g.playLabel=a;g.stopLabel=b;g.pauseLabel=c}),98);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPThreadThemeGradientUtils","formatDurationSeconds","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=c("useMWPThreadTheme")();e=d("MWPThreadThemeGradientUtils").getBottomGradientColor(e);var f=d("MWPAudioPlayerUtils").useShowNewUX();b=f?{color:b?"var(--always-white)":"var(--progress-ring-neutral-foreground)"}:{color:b?e:"var(--always-black)",cursor:"pointer"};return j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.rightSideTop,!f&&d("MWPAudioPlayerSharedStyles").styles.rightSideBottom,f&&d("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(d("MessengerSurfaceType.bs").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType.bs").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=i.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType.bs").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("useMWInlineStylesForReply",["MWLSThreadDisplayContext","MWPColorUtils","gkx","isArmadillo","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b,e){var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=f!=="Inbox",h=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return i(function(){if(c("gkx")("1969")&&a.backgroundUrl!=null&&a.backgroundUrl.length>=1&&b.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(b[0].color)};if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils").gradient(b,g?{footerHeight:56,headerHeight:c("isArmadillo")()?32:48,totalHeight:h?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--chat-incoming-message-bubble-background-color)"}},[a.backgroundUrl,a.fallbackColor,b,e,g,h])}g["default"]=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("messages").index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[b,a.messageId],f.id+":22"),g=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},[b,e],f.id+":29");return g}g["default"]=a}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,f=a.messageId,g=a.threadKey,i=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield i.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.table("attachments");var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(g,f,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}(),[i,g,f,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=e(a),q=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(p!=null&&p!==""){var a=d("ConstUriUtils").getUri(p);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[p]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(q())},[q,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_product","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["I64","MWLSThreadDisplayContext","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerIcons.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPColorUtils","MWXSpinner.react","MessengerSurfaceQuickChat.bs","defaultMWPThreadTheme","react","requireDeferred","stylex","useMWInlineStylesForReply","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useMemo,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react"),o={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function p(a){return l(function(){return[o.root,a?o.outgoing:o.incoming]},[a])}function q(a){var b=a.backgroundColor,c=a.disabled,e=a.hasEnded,f=a.isPaused,g=a.isPlaying;a=a.outgoing;var h=d("MWPAudioPlayerUtils").useShowNewUX();h=h?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?b:void 0;if(g)return k.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:h});return f||e||c?k.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:h}):null}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.isLoading,e=a.onPress,f=a.scrubberRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","onPress","scrubberRef"]);var g=a.backgroundColor,i=a.disabled,j=a.hasEnded,l=a.isPaused,m=a.isPlaying;a=a.outgoing;var n=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();f=d("MWPAudioPlayerUtils").useResetHighlightProgress(f);var o=m||l;return b?k.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:o?f:void 0,style:n,children:k.jsx(c("MWXSpinner.react"),{color:"disabled",size:16})}):k.jsx("div",{onMouseMove:o?f:void 0,style:n,children:k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:i,icon:k.jsx(q,{backgroundColor:g,disabled:i,hasEnded:j,isPaused:l,isPlaying:m,outgoing:a}),label:m?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:e})})}r.displayName=r.name+" [from "+f.id+"]";function s(){n.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.customIncomingBackgroundColor,f=a.disableTheme;f=f===void 0?!1:f;var g=a.getPlayableUrl,j=a.isReply;j=j===void 0?!1:j;var l=a.outgoing;a=a.width;var n=c("useMWPThreadTheme")(),o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface();f=f?{outgoingGradientColors:[],threadTheme:c("defaultMWPThreadTheme")}:n;n=f.outgoingGradientColors;f=f.threadTheme;var t=b.playableDurationMs;t=(i||(i=d("I64"))).to_float((t=t)!=null?t:(i||(i=d("I64"))).zero)/1e3;var u=c("useMWNextAttachment")(b),v=c("useMWPAudioWaveformData.react")(b,g);g=d("MWPAudioPlayerUtils").useControlCenter(g(b),u!=null?g(u):void 0,s,!1,t);u=g[0];var w=g[1],x=g[2],y=g[3],z=g[4];g=g[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(x,b);var A=u===d("MWPAudioPlayerUtils").State.NONE,B=u===d("MWPAudioPlayerUtils").State.PLAYING,C=u===d("MWPAudioPlayerUtils").State.PAUSED,D=u===d("MWPAudioPlayerUtils").State.LOADING;u=u===d("MWPAudioPlayerUtils").State.ENDED;var E=B||C,F=l&&n.length>1,G=m(),H=p(l);n=c("useMWInlineStylesForReply")(f,n,l);var I=n.backgroundAttachment,J=n.backgroundColor;n=n.backgroundImage;f={backgroundAttachment:j?I:void 0,backgroundColor:j?J:l?F?"transparent":d("MWPColorUtils").int64ToHex(f.fallbackColor):(I=e)!=null?I:"var(--chat-incoming-message-bubble-background-color)",backgroundImage:j?n:void 0,borderRadius:F?void 0:"18px",width:a!=null?a:o!=null?o==="Inbox"?"218px":o==="ChatTab"&&q?"168px":"180px":"180px"};e=E?Math.max(t-w,0):0;return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:x,children:k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:x,hasScrubber:E,scrubberRef:G,style:f,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,F?d("MWPAudioPlayerSharedStyles").styles.transparent:!1),children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:x,currentTime:w,duration:t,hasEnded:u,hasScrubber:E,isListened:b.isAttachmentConsumed===!0,isPlaying:B,onUpdateScrubber:g,outgoing:l,progressHighlightRef:z,scrubberRef:G,waveformData:v,xstyle:H,children:k.jsx(r,{backgroundColor:J,disabled:A,hasEnded:u,isLoading:D,isPaused:C,isPlaying:B,onPress:y,outgoing:l,scrubberRef:G})}),k.jsx("div",{children:B?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:l,time:e}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:l})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:l,time:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=p;g.MWAudioPlayer=a}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrl.bs","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children;a.disabled;var l=a.linkProps_,m=a.onHoverIn,n=a.onPress,o=a.overlayDisabled;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("1581")&&a;var q=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),r=i.equal(g.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),s=q?"Image":r?"Video":"Media";return b("cr:4509")!=null&&(q||r)&&a?k.jsx(b("cr:4509"),{ariaLabel:f,linkProps:l,mediaType:s,onPress:n,overlayDisabled:o,testid:void 0,type:r?"video":"image",url:d("LSMediaUrl.bs").Attachment.previewUrl(g),xstyle:p,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:l,onHoverIn:m,onPress:function(){return n()},overlayDisabled:o,testid:void 0,xstyle:p,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":26").sort(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;var g=f(25);f=f(24);b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?q.has(b)&&!g||p.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return n(r.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=o(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrl.bs").AttachmentItem.playableUrl(e),h=d("LSMediaUrl.bs").Attachment.previewUrlLarge(c);b=a?(b=d("LSMediaUrl.bs").AttachmentItem.previewUrlLarge(e))!=null?b:d("LSMediaUrl.bs").AttachmentItem.previewUrl(e):d("LSMediaUrl.bs").AttachmentItem.previewUrl(e);f=f==null?d("LSMediaUrl.bs").Attachment.previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["I64","Int64Hooks","LSThreadAttributionStore","MWLSThread","useBlockedUserInterstitial","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.children;a=a.threadKey;return b(j(a))}function j(a){var b=c("useBlockedUserInterstitial")(),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),f=c("useCometRouterDispatcher")(),g=c("useMWChatOpenTabByThreadKey")(a,"chatInThread"),j=(i||(i=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(c,i){if(e){var k=d("MWLSThread").getThreadExn(j,a);return b(a,k,function(){var a=i.metaKey||i.ctrlKey||i.shiftKey;if(!a)return g()},"chatInThread")}else if(f!=null){k=d("MWLSThread").getThreadExn(j,a);return b(a,k,function(){d("LSThreadAttributionStore").setSource((h||(h=d("I64"))).to_string(a),"chatInThread"),f.go(c,{})},"chatInThread")}else return},[j,f,e,b,g,a])}g["default"]=a}),98);
__d("XmaEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5680");b=d("FalcoLoggerInternal").create("xma_events",a);e=b;g["default"]=e}),98);
__d("MessengerWebUXLoggerXMAEventLoggingImpl",["CometPassiveGetRouterStateContext","CometProductAttribution","I64","LsThreadType","WebUXLoggingEntryPointContextProvider","XmaEventsFalcoEvent","castToEnum","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useCallback,l=j.useContext,m=j.useInsertionEffect,n=j.useRef;function a(){var a=o("xma_redirect_to_fb");return k(function(b){a(b)},[a])}function b(a){var b=o("xma_impression");return c("useSinglePartialViewImpression")({onImpressionStart:function(){b(a)}})}function e(){var a=o("xma_click");return k(function(b){a(b)},[a])}function f(){var a=o("xma_fb_opened");return k(function(b){a(b)},[a])}function o(a){var b=l(d("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),e=n(b);m(function(){e.current=b});var f=l(c("CometPassiveGetRouterStateContext"));return k(function(b){var g=b.attachment.messageId,h=c("castToEnum")(b.threadType,c("LsThreadType"),null),j=b.attachment.threadKey,k=(i||(i=d("I64"))).to_string(j),l=e.current,m=p(b.attachment);c("XmaEventsFalcoEvent").log(function(){return{attribution_id_v2:d("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(f),click_category:b==null?void 0:b.clickCategory,click_target_type:m,entrypoint:l,event:(b==null?void 0:b.isDirectToExternal)===!0?"xma_redirect_to_external_app":a,is_facebook_installed:null,message_id:g,thread_id:k,thread_type:h}})},[a,f])}function p(a){var b=a.defaultCtaType,c=a.attachmentLoggingType;a=a.cta1Type;var d=35;b==="xma_rtc_missed_audio"?d=37:b==="xma_rtc_missed_video"?d=36:b==="xma_rtc_missed_group_audio"?d=67:b==="xma_rtc_missed_group_video"?d=66:b==="xma_rtc_audio"?d=17:b==="xma_rtc_video"?d=18:b==="xma_rtc_ended_audio"?d=57:b==="xma_rtc_ended_video"?d=56:b==="xma_rtc_new_audio_default"?d=68:b==="xma_live_location_sharing"?(d=38,a==="xma_live_location_sharing"&&(d=39)):b==="xma_shops_pdp"?d=61:b==="xma_open_native"?d=41:b==="xma_web_url"?d=35:c==="xma_open_contact_share"?d=64:b==="xma_customer_information"?d=65:c==="xma_appointment_confirmed"?d=70:b==="xma_montage_share"&&(d=82);return d}g.useXMAEventsRedirectDefaultToFBLogger=a;g.useXMAEventsImpressionLoggerRef=b;g.useXMAEventsClickLogger=e;g.useXMAEventOpenInFBLogger=f}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.cta,e=a.loggingDetails,f=a.source;if(e==null)return;a=b.actionContentBlob;var g=a!=null?i(a):"",l=a!=null?k(a):"",m=a!=null?j(a):"",n=e[1],o=e[0];c("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:l,id:(h||(h=d("I64"))).to_string(b.ctaId),name:"",source:f,type:n},message:{campaign_id:m,id:b.messageId,notification_token:g},page:{id:o},target:{id:o},thread:{id:o}}})}function i(a){try{a=JSON.parse(a);a=a.notification_message_token;return a!=null?a:""}catch(a){return""}}function j(a){try{a=JSON.parse(a);a=a.mbs_mm_campaign_id;return a!=null?a:""}catch(a){return""}}function k(a){try{a=JSON.parse(a);a=a.mm_cta_unique_id;return a!=null?a:""}catch(a){return""}}g.logXMACtaClicked=a}),98);
__d("CustomerInformationTemplateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5813");b=d("FalcoLoggerInternal").create("customer_information_template",a);e=b;g["default"]=e}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1746398");b=d("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e=b;g["default"]=e}),98);
__d("MWBuyerShippingAddressRootQuery",["MWBuyerShippingAddressRootQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MWBuyerShippingAddressRootQuery.graphql");c=a;g["default"]=c}),98);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e){c("promiseDone")(d("CometRelay").fetchQuery(c("CometRelayEnvironment"),i,{messageID:b,receiptID:a}).toPromise().then(function(a){if((a==null?void 0:a.receipt_data)!=null){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}}))};var i=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");g.fetch=a}),98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),b=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify"));var d=a[0];return i(function(a){a=a.id;if(c("gkx")("94"))return d({transferId:c("nullthrows")(a)},function(){});else return b({params:{rel:"dialog-post",uri:c("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:c("nullthrows")(a),is_sender_flow:!1})}},function(){})},[b])}g.useP2PPaymentTransactionInformationVerify=a}),98);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("useGetMWXMAMentorshipDialog",["JSResourceForInteraction","MentorshipMessengerLoggingUtils","react","recoverableViolation","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MentorshipLeaveSurveyDialog.react").__setRef("useGetMWXMAMentorshipDialog");function a(){var a=c("useMWXLazyDialog")(j),b=a[0];return i(function(a){var e=a.programID;if(e==null){c("recoverableViolation")("programID cannot be null","messenger_web_product");return}d("MentorshipMessengerLoggingUtils").logMessengerEvent({destContainer:"messenger_thread",destUnit:"leave_survey",displayName:"End Program",event:"click_unit",extraData:{content_id:a.promptID,prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT"},programID:e,unit:"prompt_unit"});return b({programID:e})},[b])}g["default"]=a}),98);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("useMWChatShowPIIForm",["CometRelay","JSResourceForInteraction","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("useMWChatShowPIIForm");function a(){var a=c("useMWXLazyDialog")(j),b=a[0],e=d("CometRelay").useRelayEnvironment();return i(function(a){var c=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;d("MWChatPIIFormStateQuery").fetch(i,e,function(a){d("MWChatPIIFormNuxQuery").fetch(e,i,c,function(k){if(g>1){d("MWChatPIIFormScreenQuery").fetch(i,c,1,e,function(d){return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:(d=d)!=null?d:void 0,state:a})});return}else return b({color:f,ctaType:null,currentIndex:h,firstScreen:j,formId:i,numScreens:g,nuxData:k,pageId:c,secondScreen:void 0,state:a})})})},[e,b])}g["default"]=a}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react")),k=g[0];return l(function(g){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,g).map(function(b){b=b.defaultCtaId;b=b!=null?b:(j||(j=d("I64"))).zero;b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("attachment_ctas")).getKeyRange(b),f.id+":45");if(b!=null)return b.nativeUrl})).then(function(a){a=(a=a)!=null?a:"";a=a.split(",");var c=a[0];a=a[1];k({latitude:c,longitude:a},function(){});return(h||(h=b("Promise"))).resolve()}))},[a,e,k])}g["default"]=a}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowAttachBankSlip",["react","useMWUIAttachBankSlipDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIAttachBankSlipDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useMWXEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a}),98);
__d("useMWLSShowCheckout",["react","useMWUICheckoutDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k(!1);var g=a[0],h=a[1];a=c("useMWUICheckoutDialog")(b);var l=a[0];i(function(){b!=null&&g&&l({orderID:b,pageID:e},function(){return h(!1)})},[b,e,g,l]);return j(function(){return function(a,b){h(function(){return!0});d(function(){return a});return f(function(){return b})}},[h,d])}g["default"]=a}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),b=c("useCometDynamicEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"));return i(function(c,e,f,g){if(c==null)return;g!=null&&g!=="0"?a({routeProps:{adminActivityID:g,groupID:e,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:e}):b({groupID:e,profileID:f,scale:d("WebPixelRatio").get()},{})},[a,b])}g["default"]=a}),98);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOffsiteBankTransfer",["react","useMWUIOffsiteBankTransferDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOffsiteBankTransferDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a})}g["default"]=a}),98);
__d("useMWLSShowOrderDetails",["react","useMWUIOrderDetailsDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k(!1);var e=a[0],f=a[1];a=c("useMWUIOrderDetailsDialog")(b);var g=a[0];i(function(){b!=null&&e&&g({orderID:b},function(){return f(!1)})},[b,e,g]);return j(function(){return function(a){f(function(){return!0});return d(function(){return a})}},[f,d])}g["default"]=a}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWXEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","useMWUIPaymentDetailsDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");var k=b.useEffect,l=b.useMemo,m=b.useState;function a(){var a=m(null),b=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a=c("useMWUIPaymentDetailsDialog")(b);var i=a[0],n=d("MWLSDatabaseLazySync").useSync((j||(j=d("LSIntEnum"))).ofNumber(15));k(function(){b!=null&&f&&i({title:h._("__JHASH__NIyxBo8HYXZ__JHASH__"),transactionID:b},function(){return g(!1)})},[b,f,i]);return l(function(){return function(a){c("promiseDone")(n());g(function(){return!0});return e(function(){return a})}},[g,e,n])}g["default"]=a}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useMWXEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{routeProps:{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1}});e=c("useMWXEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a}),98);
__d("useMWLSShowPendingPost",["react","useMWUIPendingPostDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(){var a=k(null),b=a[0],d=a[1];a=k("");var e=a[0],f=a[1];a=k("");var g=a[0],h=a[1];a=k("");var l=a[0],m=a[1];a=k("");var n=a[0],o=a[1];a=k(!1);var p=a[0],q=a[1];a=c("useMWUIPendingPostDialog")(b,e,g,l,n);var r=a[0];i(function(){b!=null&&p&&r({activityLogTarget:"Group",groupID:e},function(){return q(!1)})},[b,p]);return j(function(){return function(a,b,c,e,g){q(!0);d(a);f(b);h(c);m(e);return o(g)}},[q,d])}g["default"]=a}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useMakeRoomRingbackCommon",["cr:401"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("cr:401")()}g["default"]=a}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog")),b=a[0];return i(function(a){a!=null&&b({id:a},c("emptyFunction"))},[b])}g["default"]=a}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","Popup","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","cr:11076","emptyFunction","promiseDone","react","requireDeferred","useCometDynamicEntryPointDialog","useGetMWXMAMentorshipDialog","useMWChatShowPIIForm","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingbackCommon","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useCallback,k=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function l(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var c=a.receiptId;if(c!=null){d("MWChatReceiptDataQuery").fetch(c,a.messageId,function(a){var c=h._("__JHASH__PDJB6VYGeXn__JHASH__");return b({receipt:a,title:c})});return}},[b])}function m(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){var d;b({contentType:a.contentType.content_type,orderID:(d=a.orderID)!=null?d:"",pageID:a.pageID},c("emptyFunction"))},[b])}function n(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:a.actorId,event_type:"mw_xma_click",form_id:a.eeMessageId,page_id:a.pageId}});var f=d("CometRelay").loadQuery(e,c("MWBuyerShippingAddressRootQuery"),{id:a.pageId});b({actorId:a.actorId,eeMessageId:a.eeMessageId,initialQueryRef:f,messageId:a.messageId,pageId:a.pageId},function(){f.dispose()})},[e,b])}function o(){var a=d("CometRelay").useRelayEnvironment();return j(function(b){var e={environment:a};b=c("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:b.feedbackActionContentBlob,config:e});e=b.then(function(){d("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)},function(){d("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)});c("promiseDone")(e)},[a])}var p=c("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function q(){var a=c("useMWXLazyDialog")(p),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.feedbackFormId;d("MWChatCustomerFeedbackStateQuery").fetch(c,e,function(a){d("MWChatCustomerFeedbackFormDataQuery").fetch(c,e,function(c){return b({firstScreen:c.firstScreen,formId:c.formId,pageId:c.pageId,privacy:c.privacy,state:a})})})},[e,b])}function r(){var a=c("useMWXLazyDialog")(p),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;d("MWChatCustomerFeedbackStateQuery").fetch(f,e,function(a){return b({firstScreen:h,formId:f,pageId:c,privacy:g,state:a})})},[e,b])}function s(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0],e=d("CometRelay").useRelayEnvironment();return j(function(a){var c=a.nuxData,f=a.piiForm,g=f.pageId,h=f.color,i=f.numScreens,j=f.currentIndex,k=f.formId,l=f.firstScreen,m=a.ctaType;d("MWChatPIIFormStateQuery").fetch(k,e,function(a){if(i>1){d("MWChatPIIFormScreenQuery").fetch(k,g,1,e,function(d){return b({color:h,ctaType:m,currentIndex:j,firstScreen:l,formId:k,numScreens:i,nuxData:c,pageId:g,secondScreen:d,state:a},function(){})});return}else return b({color:h,ctaType:m,currentIndex:j,firstScreen:l,formId:k,numScreens:i,nuxData:c,pageId:g,secondScreen:void 0,state:a},function(){})})},[e,b])}function t(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){var a=h._("__JHASH__HFLlRGYwWh7__JHASH__").toString();b({htmlBlob:a})},[b])}function u(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({pageID:a.pageId,requestID:a.requestId})},[b])}function v(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({})},[b])}function w(){var a=c("useMWLSOpenStaticLocationDialog.react")();return j(function(b){return a(b.msgId)},[a])}function x(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({boardingPassDetail:a})},[b])}function y(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({itineraryPayload:a})},[b])}function z(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID},c("emptyFunction"))},[b])}function A(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRichWidgetExtension.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({actionLink:a.actionLink,pageID:a.pageID},c("emptyFunction"))},[b])}function B(a){return j(function(b){k.onReady(function(a){return a.logClick({component:"start_call_button",surface:"admin_message"})});return a(b.hasVideo,b.threadId,b.trigger)},[a])}function C(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({guestID:a.guestId,pageID:a.pageId})},[b])}function D(){return j(function(a){if(b("cr:11076")!=null)return b("cr:11076").$$process(a.ctaId,a.messageId)},[])}function E(a){d("Popup").open(a,1024,500)}function F(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(a){return b({linkUrl:a.linkUrl})},[b])}function G(){var a=c("useCometDynamicEntryPointDialog")(c("MarketplaceCometReviewOffersDialog.entrypoint"));return j(function(b){return a({listingId:b},void 0)},[a])}function H(){var a=c("useCometDynamicEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return j(function(b){return a({threadId:b},{threadId:b})},[a])}function I(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWInformationalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler")),b=a[0];return j(function(){return b({body:h._("__JHASH__jTsNVv7n_rW__JHASH__"),title:h._("__JHASH__g-wowo_Mm7M__JHASH__")})},[b])}function a(a,b){var e=l(),f=r(),g=q(),h=D(),i=s(),j=v(),k=w(),p=u(),J=x(),K=C(),L=y(),M=z(),N=A(),O=c("useMWP2PPaymentRequestCancelDialog")(),P=c("useP2PPaymentRequestConfirmDialog")(),Q=c("useP2PPaymentRequestDeclineDialog")(),R=c("useMWP2PPaymentTransactionDeclineDialog")(),S=c("useP2PPaymentMethodAddDialog")(),T=d("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),U=B(b),V=c("useMakeRoomRingbackCommon")(),W=F(),X=c("useGetMWXMAMentorshipDialog")(),Y=m(),Z=o(),$=c("useMWLSShowMemberRequest")(),aa=c("useMWLSShowPendingPost")(),ba=c("useMWLSShowCheckout")(),ca=c("useMWLSShowPaymentDetails")(),da=c("useMWLSShowOrderDetails")(),ea=c("useMWLSShowAttachBankSlip")(),fa=c("useMWLSShowOffsiteBankTransfer")(),ga=n(),ha=c("useMWLSMarketplaceXmaCtaHandler")(),ia=G(),ja=H(),ka=c("useMWChatShowPIIForm")(),la=t(),ma=I();return function(b){if(b.NAME==="P2PPaymentTransactionInformationVerify")return T(b.VAL);if(b.NAME==="P2PPaymentTransactionDecline")return R(b.VAL.id);if(b.NAME==="MakeWorkJoinableCallInvite"||b.NAME==="MakeRoomRingback")return V(b.VAL);if(b.NAME==="P2MCheckout"){var d=b.VAL;return ba(d.orderID,d.pageID)}if(b.NAME==="ShowCustomerFeedback")return f(b.VAL);if(b.NAME==="P2MInformationalMessageBottomSheet")return Y(b.VAL);if(b.NAME==="WorkplaceChatBotSubmitFeedback")return Z(b.VAL);if(b.NAME==="P2PPaymentRequestCancel")return O(b.VAL.id);if(b.NAME==="SendImagePostback"){d=b.VAL;var l=d.loggingDetails;l!=null&&c("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,cta:"button",index:String(l.index)},event_location:"unknown",page_id:l.page_id}});return a(d.message,d.platformToken,d.image)}if(b.NAME==="ShowMessengerExtensions")return M(b.VAL);if(b.NAME==="OpenAccountLink")return h(b.VAL);if(b.NAME==="ShowPIIForm")return ka(b.VAL);if(b.NAME==="P2MOffsiteBankTransferCTA")return fa(b.VAL.orderID);if(b.NAME==="P2PPaymentTransactionReceiveMoney")return S(b.VAL.id);if(b.NAME==="ShowBoardingPass")return J(b.VAL);if(b.NAME==="P2MOrderDetails")return da(b.VAL.orderID);if(b.NAME==="ShowStaticLocationDetails")return k(b.VAL);if(b.NAME==="P2PPaymentTransactionDetails")return ca(b.VAL.id);if(b.NAME==="P2PPaymentRequestDecline")return Q(b.VAL.id);if(b.NAME==="ShowMentorshipDialog")return X(b.VAL);if(b.NAME==="ShowBookingDetails")return p(b.VAL);if(b.NAME==="ShowOrderConfirmation")return e(b.VAL);if(b.NAME==="ShowCustomerFeedbackForm")return g(b.VAL);if(b.NAME==="ShowMessengerRichWidgetExtension")return N(b.VAL);if(b.NAME==="ShowItinerary")return L(b.VAL);if(b.NAME==="OpenAccountLinkUrl")return E(b.VAL);if(b.NAME==="MakeJoinRoomFromPortal")return W(b.VAL);if(b.NAME==="P2MAttachBankSlip")return ea(b.VAL.orderID);if(b.NAME==="BuyerShippingAddress")return ga(b.VAL);if(b.NAME==="AdmodChatsShowPendingPost"){d=b.VAL;return aa(d.targetId,d.groupId,d.authorId,d.postId,d.activityLogItemId)}if(b.NAME==="P2PPaymentRequestConfirm")return P(b.VAL.id);if(b.NAME==="MakeRtcCall")return U(b.VAL);if(b.NAME==="ProcessMarketplaceCallFunction"){d=b.VAL;var m=d.actionType,n=d.attachmentFbid,o=d.messageId;d=d.targetId;return ha(o,n,d,m)}if(b.NAME==="ShowPIIFormForFormBuilder")return i(b.VAL);if(b.NAME==="ShowLiveLocationDetails")return j(b.VAL);if(b.NAME==="AdmodChatsShowMemberRequest"){o=b.VAL;return $(o.targetId,o.groupId,o.profileId,o.activityLogItemId)}if(b.NAME==="ShowGuestChatHistory")return K(b.VAL);if(b.NAME==="ShowInThreadFormDetails")return la();if(b.NAME==="ShowPhoneVerificationDialog")return ma();n=b.VAL;d=n.threadId;m=n.listingId;switch(n.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(d!=null)return ja(d);else return;case"SHIPPED_OFFER_CANCEL":if(m!=null)return ia(m);else return;default:return}}}e=a;g.useHandler=e}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","MWCMIsAnyCMThread","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","promiseDone","react","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n(j.zero);var f=a[0],g=a[1];a=n(null);var h=a[0],i=a[1],p=c("usePrevious")(b),q=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var r=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var s=a[0],t=o(),u=d("MWLSThread").useThread(b,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});m(function(){u!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(f)&&p!==b&&q!==f&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",u?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),r({rollCallId:f,scrollToContributionMessageId:h,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(j.zero),i(null)}),c("promiseDone")(t(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&s({asCreator:!1,rendererStrategy:a})}))},[u,q,p,f,r,b,h,t,s]);return l(function(a,b,c){e(b),g(a),i(c)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","useIsReadOnlyFeatureLimitedWithThreadType","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=j||d("react"),o=n.useCallback,p=n.useRef;function a(a){var e=p(c("uuidv4")()).current;return o(function(f,g,h){var j="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:e});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function e(a,e,f){var g=p(c("uuidv4")()).current;return d("Int64Hooks").useCallbackInt64(function(h){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+g;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:g});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function q(a,b,e){a=r(a);var f,g=!1;if(a.length!==1)f=!1;else{var h,i=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&i!=null&&!(k||(k=d("I64"))).equal(i.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b)return[!1,!1];f=i!=null?(k||(k=d("I64"))).equal(i.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=i!=null?(b=d("LSContactBitOffset").has(0,i))!=null?b:!0:!0;h=i!=null?(h=d("LSContactBitOffset").has(1,i))!=null?h:!0:!0;g=e&&i!=null&&i.blockedSinceTimestampMs==null&&!f&&(!b||!h)}if(!f)return[!g,!g];return c("gkx")("1710932")?[a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}),a.every(function(a){return a==null?!0:d("LSContactBitOffset").has(16,a)})]:[!1,!1]}function r(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants"),["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts"),["contactType","blockedSinceTimestampMs","capabilities","capabilities2","blockedByViewerStatus"]).getKeyRange(a.contactId),f.id+":279")})},[b,a,e],f.id+":268")}function s(a){var b=a.folderName,e=a.threadKey,g=a.threadType,i=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(i.table("messages_ranges_v2__generated"),["threadKey"]).getKeyRange(e)},[i,e],f.id+":300")!=null,n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("participants"),["threadKey","contactId"]).getKeyRange(e,j)},[i,e,j],f.id+":309")!=null,o=d("LSThreadBitOffset").has(25,a),p=d("LSThreadBitOffset").has(24,a),r=d("LSMessagingThreadTypeUtil").isSecure(g),s=c("useIsReadOnlyFeatureLimitedWithThreadType")(g)&&(!r||c("isFeatureLimitEnabled")());a=q(e,a.threadType,r);var t=a[0];a=a[1];if(r&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("5709")))return[!1,!1];r=((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&n||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(15));n=d("MWChatIsMessageRequest").fn(b);g=!n&&m&&!s&&r;return g?[t&&o,a&&p]:[!1,!1]}g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=s}),98);
__d("useShouldTryWithMessengerDesktop",["MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","ODS","gkx","promiseDone","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=l(!1),b=a[0],e=a[1],f=k(!1),g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();j(function(){if(f.current)return;f.current=!0;if(g)return;if(c("gkx")("1987549")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;if(c("qex")._("45")!==!0)return;(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&(i||(i=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}g["default"]=a}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useShouldTryWithMessengerDesktop")(),b=d("MWLSStartPhoneCall").useMakeRTCCall();b=b[0];var e=d("MWStartRTCCallUtils").useStartDesktopCall(b);return a?e:b}g["default"]=a}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","ConstUriUtils","CurrentEnvironment","CustomerInformationTemplateFalcoEvent","I64","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSWebUrlCtaHandler","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","cr:5751","emptyFunction","gkx","isStringNullOrEmpty","justknobx","nullthrows","qex","useCometRouterDispatcher","useLSMessagingInitiatingSource","useLSMessagingSource","useMWChatPollXMAActionHandler","useRollcallContributionsXMAActionHandler","useStartRTCCall"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(f=(e=b("cr:4539"))!=null?e:b("cr:131"))!=null?f:c("emptyFunction"),j=(e=b("cr:5751"))!=null?e:c("emptyFunction"),k=(e=(f=b("cr:4538"))!=null?f:b("cr:236"))!=null?e:c("emptyFunction"),l=b("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function a(){var a=c("useLSMessagingInitiatingSource")(),b=c("useLSMessagingSource")(),e=d("Actor").useActor(),f=e[0];e=d("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(b,a);b=c("useStartRTCCall")();var g=d("MWChatXmaThirdPartyActionHandler").useHandler(e,b),m=d("MWLSPostbackCtaHandler").usePostbackCtaHandler(),n=c("useMWChatPollXMAActionHandler")(),o=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),p=d("MWLSWebUrlCtaHandler").useShowWebViewDialog(),q=c("useCometRouterDispatcher")();a=k();var r=i({onSuccess:(e=a)!=null?e:c("emptyFunction")}),s=j();return function(a){var b=a.actionUrl,e=a.platformToken,i=a.type_,j=a.title,k=a.messageId,t=a.threadKey,u=a.attachmentFbid,v=["Title: "+j,"Type: "+i,"PlatformTokenPresent: "+(e!=null).toString(),"ActionUrlPresent: "+(b!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", ");if(i==="xma_roll_call_open_viewer"||i==="xma_roll_call_add_yours")return a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){o(c("nullthrows")(a.targetId),t,null)},secondaryInfo:void 0};if(i==="xma_event_rsvp"&&c("gkx")("3170"))return{actionType:"BUTTON",primaryInfo:function(){},secondaryInfo:void 0};if(i==="xma_rtc_audio"||i==="xma_rtc_missed_audio"||i==="xma_rtc_new_audio_default"||i==="xma_rtc_ended_audio")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!1,threadId:(h||(h=d("I64"))).to_string(t),trigger:i}})},secondaryInfo:void 0};if(i==="xma_rtc_video"||i==="xma_rtc_new_video_default"||i==="xma_rtc_new_video_from_fb_share"||i==="xma_rtc_new_video_from_fb_video_share"||i==="xma_rtc_missed_video"||i==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(h||(h=d("I64"))).to_string(t),trigger:i}})},secondaryInfo:void 0};if(i==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return m(e,j)},secondaryInfo:[(h||(h=d("I64"))).to_string(t),31]};if(i==="xma_open_dialog"){var w;if(b==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};w=(w=d("ConstUriUtils").getUri(b))==null?void 0:w.getQueryData==null?void 0:w.getQueryData();if(w==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var x=String(w.page_id).toString(),y=String(w.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowGuestChatHistory",VAL:{guestId:y,pageId:x}})},secondaryInfo:void 0}}if(i==="xma_p2p_payment_details"||i==="xma_p2p_request_pay"||i==="xma_p2p_payment_details_receive_money"||i==="xma_p2p_verify_info"){var z=a.targetId;return z==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(h||(h=d("I64"))).to_string(z)}})},secondaryInfo:void 0}}if(i==="fill_in_thread_form"||i==="filled_in_thread_form_successfully"){var A=a.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(c("nullthrows")(A))})},secondaryInfo:void 0}}if(i==="xma_join_from_portal"&&b!=null)return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:b}})},secondaryInfo:void 0};if(i==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return g(a.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:k}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:k,titleString:j}})},secondaryInfo:void 0};var B=a.actionContentBlob,C=a.targetId;if(i==="xma_poll_details_button"||i==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return n(C,B)},secondaryInfo:void 0};if(i==="xma_otp_verification")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPhoneVerificationDialog",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:void 0};if(B!=null&&C!=null)try{var D=JSON.parse(B);if(i==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var a=D.activityLogItemID,b=D.groupID,c=D.profileID;return g({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",groupId:b!=null?JSON.stringify(b):"",profileId:c!=null?JSON.stringify(c):"",targetId:C!=null?(h||(h=d("I64"))).to_string(C):""}})},secondaryInfo:void 0};else if(i==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var a=D.activityLogItemID,b=D.authorID,c=D.groupID,e=D.postID;return g({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:a!=null?JSON.stringify(a):"",authorId:b!=null?JSON.stringify(b):"",groupId:c!=null?JSON.stringify(c):"",postId:e!=null?JSON.stringify(e):"",targetId:C!=null?(h||(h=d("I64"))).to_string(C):""}})},secondaryInfo:void 0}}catch(a){if(i!=="marketplace_xma_call_function"||!c("gkx")("5527"))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}w=a.targetId;if(w!=null){var E={orderID:(h||(h=d("I64"))).to_string(w)};if(i==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOrderDetails",VAL:E})},secondaryInfo:void 0};else if(i==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MAttachBankSlip",VAL:E})},secondaryInfo:void 0};else if(i==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MOffsiteBankTransferCTA",VAL:E})},secondaryInfo:void 0};if(i==="xma_p2m_checkout"){var F={orderID:(h||(h=d("I64"))).to_string(w),pageID:h.to_string(t)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MCheckout",VAL:F})},secondaryInfo:void 0}}if(i==="xma_p2m_informational_message_bottom_sheet"){var G={contentType:JSON.parse(c("nullthrows")(B)),orderID:(h||(h=d("I64"))).to_string(w),pageID:h.to_string(t)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"P2MInformationalMessageBottomSheet",VAL:G})},secondaryInfo:void 0}}}if(i==="xma_customer_information"){var H=(h||(h=d("I64"))).to_string(t);c("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:f,event_type:"mw_xma_impression",form_id:a.attachmentFbid,page_id:H}});if(c("qex")._("277")){var I={actorId:f,eeMessageId:a.attachmentFbid,messageId:a.messageId,pageId:H};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"BuyerShippingAddress",VAL:I})},secondaryInfo:void 0}}}if(B==null&&(i==="xma_direct_send"||i==="xma_biz_inbox_form_send"||i==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(i==="xma_direct_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIForm",VAL:JSON.parse(c("nullthrows")(B))})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),45]};if(i==="xma_biz_inbox_form_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:i,nuxData:{description:"",seen:!0,title:"",url:"",url_text:""},piiForm:JSON.parse(c("nullthrows")(B))}})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),45]};if(i==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:c("nullthrows")(B)}})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),69]};if(i==="xma_workplace_chat_bot_submit_feedback"){var J={feedbackActionContentBlob:c("nullthrows")(B)};return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"WorkplaceChatBotSubmitFeedback",VAL:J})},secondaryInfo:void 0}}if(i==="xma_account_link")return b==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenAccountLinkUrl",VAL:b})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),49]};if(i==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){var a;return g({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:(a=b)!=null?a:""}})},secondaryInfo:void 0};if(i==="xma_montage_share"){if(a.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};w=(w=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(h||(h=d("I64"))).to_string(a.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:w.setProtocol("https");return w==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:c("nullthrows")(w).toString(),secondaryInfo:void 0}}if(i==="marketplace_xma_call_function")return a.actionContentBlob==null||a.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:c("nullthrows")(a.actionContentBlob),attachmentFbid:u,messageId:k,targetId:c("nullthrows")(a.targetId)}})},secondaryInfo:void 0};if(i==="marketplace_xma_open_dialog"){if(b==null||a.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};w=d("ConstUriUtils").getUri(b);if(w==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var K=String(w.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"OpenMarketplaceDialog",VAL:{ctaType:c("nullthrows")(a.actionContentBlob),listingId:K,threadId:(h||(h=d("I64"))).to_string(t)}})},secondaryInfo:void 0}}if(i==="xma_ctm_in_thread_multiphoto_reply_image"){if(a.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{w=JSON.parse(a.actionContentBlob);var L=w.action_prefill,M=w.ad_id,N=w.customer_id,O=w.index,P=w.page_id,Q=w.reply_image_uri;if(L==null||Q==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var R='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"SendImagePostback",VAL:{image:Q,loggingDetails:{ad_id:M.toString(),consumer_id:N.toString(),index:O,page_id:P.toString()},message:L,platformToken:c("isStringNullOrEmpty")(e)?R:e}})},secondaryInfo:void 0}}catch(a){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(i==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(i==="xma_open_native"){w=a.nativeUrl;if(w!=null&&w.startsWith("fb-messenger://user-thread/")){var S=w.substr("fb-messenger://user-thread/".length);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(h||(h=d("I64"))).to_string(t),33],threadKey:h.of_string(S)}}}if(w!=null&&w.startsWith(l.SUBTHREAD_LINK)){try{S=new URL(w),w=S.searchParams.get("subthread_fbid")}catch(a){w=null}if(s!=null&&w!=null){var T=(h||(h=d("I64"))).of_string(w);return{actionType:"BUTTON",primaryInfo:function(){return s(T)},secondaryInfo:void 0}}}var U=a.actionContentBlob;if(U!=null)return{actionType:"BUTTON",primaryInfo:function(){return p(U)},secondaryInfo:void 0};if(b!=null)if(b.includes("://m.me/j/")&&c("gkx")("6970")){if(c("justknobx")._("159")&&a.targetId!=null){S=(h||(h=d("I64"))).to_string(a.targetId);var V=c("CurrentEnvironment").messengerdotcom?c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({thread_key:S}):c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:S});return{actionType:"BUTTON",primaryInfo:function(){return q==null?void 0:q.go(V,{})},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return r==null?void 0:r(b)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+v,secondaryInfo:"messenger_privacy_web"}}if(B!=null&&B.length>0&&B!=="{}"&&!B.includes("notification_message_token")&&!B.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return p(B)},secondaryInfo:void 0};if(b!=null){if(a.enableExtensions===!0){var W={actionLink:b,pageID:(h||(h=d("I64"))).to_string(t),sourceTitle:(w=j)!=null?w:"",userID:h.to_string(t)};if(i==="xma_open_rich_widget")return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerRichWidgetExtension",VAL:W})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]};else return{actionType:"BUTTON",primaryInfo:function(){return g({NAME:"ShowMessengerExtensions",VAL:W})},secondaryInfo:[(h||(h=d("I64"))).to_string(t),33]}}return{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(t),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+v,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){a===void 0&&(a="");a={ALTERED_MEDIA:h._("__JHASH__pK0fcBDpaEV__JHASH__",[h._param("attachment item title",a)]),ALTERED_PHOTO:h._("__JHASH__dJ_qZg1Bnj2__JHASH__",[h._param("attachment item title",a)]),FALSE_NEWS:h._("__JHASH__9UILySlE-wD__JHASH__",[h._param("attachment item title",a)]),MISLEADING_NEWS:h._("__JHASH__7LJaDiii2kF__JHASH__",[h._param("attachment item title",a)]),MISSING_CONTEXT:h._("__JHASH__JiWZCmbD51v__JHASH__",[h._param("attachment item title",a)]),SENSITIVE:h._("__JHASH__gmdVuVfF78Q__JHASH__",[h._param("attachment item title",a)])};return b==null||a[b]==null?h._("__JHASH__jBGVUqdMJ6C__JHASH__"):a[b]}g["default"]=a}),98);
__d("MWXMAAttachmentActionTriggerDefault.react",["I64","MWInboxRouteBuilder","MWLSThread","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","isCometRouterUrl","justknobx","logXMACtaClicked","react","recoverableViolation","useGetMWXMACtaRegistryHandler","useMWXMAInformedAttachmentLabel","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,g=a.children,j=(h||(h=c("useReStore")))(),m=e.defaultCtaId,n=e.defaultCtaType,o=e.threadKey;a=c("useMWXMAInformedAttachmentLabel")(e==null?void 0:e.titleText,b==null?void 0:b.gatingTitle);var p=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.table("attachment_ctas")).getKeyRange((a=m)!=null?a:(i||(i=d("I64"))).zero)},[j,m],f.id+":60"),q=c("useGetMWXMACtaRegistryHandler")(),r=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),s=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),t=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger(),u=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventOpenInFBLogger(),v=d("MWLSThread").useThread(o,function(a){return a.threadType});if(p==null)return g;q=q(p);switch(q.actionType){case"BUTTON":var w,x=q.primaryInfo,y=q.secondaryInfo;return k.jsx(c("MWXPressable.react"),{"aria-label":(w=e.titleText)!=null?w:e.defaultCtaTitle,onPress:function(){r==null?void 0:r({ctaType:n,eventName:"open_xma_attachment_cta",threadKey:o,threadType:v});d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:y,source:1});s==null?void 0:s({attachment:b,clickCategory:2,threadType:v});t({attachment:b,threadType:v});return x()},children:g});case"DISABLED_BUTTON":return k.jsx(c("MWXPressable.react"),{"aria-label":(w=e.titleText)!=null?w:"",disabled:!0,children:g});case"URL":e=q.primaryInfo;var z=c("isCometRouterUrl")(e);if(!(e.startsWith("http")||e.startsWith("/")))return g;var A=q.secondaryInfo;return k.jsx(c("MWXLink.react"),{href:e,label:a,onClick:function(){d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:A,source:1}),s==null?void 0:s({attachment:b,clickCategory:2,threadType:v}),t({attachment:b,isDirectToExternal:!z,threadType:v})},onNavigate:function(a){z&&a&&u({attachment:b,threadType:v})},target:c("justknobx")._("1677")?void 0:"_blank",xstyle:l.link,children:g});case"DEEPLINK":var B=function(){d("logXMACtaClicked").logXMACtaClicked({cta:p,loggingDetails:C,source:1}),s==null?void 0:s({attachment:b,clickCategory:2,threadType:v}),t==null?void 0:t({attachment:b,threadType:v})};w=q.primaryInfo;var C=w.loggingDetails;e=w.threadKey;var D=d("MWInboxRouteBuilder").buildURL({thread_key:(i||(i=d("I64"))).to_string(e)});return k.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:e,children:function(a){return k.jsx(c("MWXLink.react"),{href:D,onClick:function(b){a(D,b);return B()},preventLocalNavigation:!0,xstyle:l.link,children:g})}});case"CTA_ERROR":c("recoverableViolation")(q.primaryInfo,q.secondaryInfo,void 0,{trackOnly:!0});return g;case"NOT_SUPPORTED":return g}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,d=a.attachmentItem,e=a.children;a=a.isPressable;if(a)return i.jsx(c("MWXMAAttachmentActionTriggerDefault.react"),{attachment:b,attachmentItem:d,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=160,k=213,l={media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",objectFit:"xl1xv1r",$$css:!0},rollCallCard:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",filter:"xa5fk4t",height:"x1xx6w2s",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xq1dxzn",$$css:!0}};function a(a){a=a.attachmentItem;var b=a.previewUrl;a=a.playableUrl;if(!c("isStringNullOrEmpty")(a))return i.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:i.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xfh8nwu xoqspk4 x12v9rci x138vmkv xl1xv1r",height:k,muted:!0,src:a,width:j})});else if(!c("isStringNullOrEmpty")(b))return i.jsx("div",{className:"xfh8nwu xoqspk4 x12v9rci x138vmkv xa5fk4t x1xx6w2s x6ikm8r x10wlt62 xq1dxzn",children:i.jsx(c("BaseImage.react"),{height:k,src:b,width:j,xstyle:l.media})});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderUrlActionButton,t=a.threadKey,u=a.title,v=a.type,w=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(t,function(a){return a.threadType});var x=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:v,eventName:"xma_attachment_cta",threadKey:t,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var y=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(w.table("attachment_ctas")).getKeyRange(g)},[w,g],f.id+":132");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(v);a&&o.onReady(function(a){a.logImpression({surface:"admin_message"})})},[v]);if(y==null)return v==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:r(u)}):null;h=h(y);e=p(e);var z=null;switch(h.actionType){case"BUTTON":var A=h.secondaryInfo,B=h.primaryInfo,C=v==="xma_event_rsvp"&&c("gkx")("3170");b!=null&&t!=null&&!((a=a)!=null?a:!1)&&C?z=j(b,t,u,e,y,A):C||(z=l(u,e,y,A,B));break;case"URL":a=h.secondaryInfo;z=s(u,e,y,a,h.primaryInfo);break;case"DISABLED_BUTTON":z=r(u);break;case"DEEPLINK":j=h.primaryInfo;b=j.loggingDetails;t=j.threadKey;C=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(t)});z=q(u,t,y,b,C);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});z=null;break;case"NOT_SUPPORTED":z=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:x,children:z})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollsV1UICapability:d("LSThreadBitOffset").has(158,a)}}))!=null?a:{};a=a.pollsV1UICapability;return a===!0}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWXMAAttachmentItemCtaButton.react",["I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MDSButton.react","MWCMIsAnyCMThread","MWLSThread","MWXLazyPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","react","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("JSResourceForInteraction")("MWCMEventRSVPXMADropdownMenu.react").__setRef("MWXMAAttachmentItemCtaButton.react");function a(a){var b=a.attachmentId,e=a.ctaIconType,f=a.ctaId,g=a.messageId,h=a.threadKey,l=a.title;a=a.type;var m=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),n=d("MWLSThread").useThread(h,function(a){return a.threadType}),o={ctaType:a,eventName:"open_xma_attachment_cta",threadKey:h,threadType:n};n=c("useGetMWXMACtaRegistryHandler")();var p=c("useMWHasPollsVotingEnabled")(h),q=c("useMWCMPollsV1Enabled")(h),r=c("useMWCMPollsV2Enabled")(h),s=d("MWLSThread").useThread(h,function(a){return c("MWCMIsAnyCMThread")(a.threadType)}),t=d("MWLSThread").useThread(h,function(a){return d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)});if(!p&&(a==="xma_poll_details_button"||a==="xma_poll_details_card"))return null;return((p=s)!=null?p:!1)&&!q&&!r&&a==="xma_poll_details_button"?null:j.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:b,ctaIconType:e,ctaId:f,getCtaRegistryHandler:n,messageId:g,renderButtonActionEventButton:function(a,b,e,f,g,h){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"stretch",popoverProps:{eventId:(i||(i=d("I64"))).of_string(a),threadKey:b},popoverResource:k,popoverType:"menu",position:"above",preloadTrigger:"button",children:function(a,b,i,k,l,n){return j.jsx(c("MWXTooltip.react"),{tooltip:e,children:j.jsx(c("MDSButton.react"),{icon:f,label:e,onHoverIn:k,onHoverOut:l,onPress:function(){m==null?void 0:m(o);d("logXMACtaClicked").logXMACtaClicked({cta:g,loggingDetails:h,source:2});return b()},onPressIn:n,ref:a,type:"secondary"})})}})},renderButtonActionNonEventButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:t,icon:b,label:a,onPress:function(){m==null?void 0:m(o);d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2});return g()},type:"secondary"})})},renderDeeplinkActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:b,children:function(b){return j.jsx(c("MDSButton.react"),{label:a,linkProps:{preventLocalNavigation:!0,url:g},onPress:function(a){b(g,a);m==null?void 0:m(o);return d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})}})})},renderDisabledButtonActionButton:function(a){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{disabled:!0,label:a,type:"secondary"})})},renderUrlActionButton:function(a,b,e,f,g){return j.jsx(c("MWXTooltip.react"),{tooltip:a,children:j.jsx(c("MDSButton.react"),{icon:b,label:l,linkProps:{target:"_blank",url:g},onPress:function(){m==null?void 0:m(o),d("logXMACtaClicked").logXMACtaClicked({cta:e,loggingDetails:f,source:2})},type:"secondary"})})},threadKey:h,title:l,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;if(a==null)return null;return typeof a==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrl.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrl.bs").Attachment.listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx("ul",{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWPColorUtils","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){a=a.attachment;var b=c("useMWPThreadTheme")(),e=b.threadTheme.fallbackColor,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:function(a){return j.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:j.jsxs("div",{children:[j.jsx(c("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,optionId:a.id,overflowStyle:"overlayLastPhoto",size:"large"}),a.titleText!=null?j.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:j.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a.titleText})}):null]})},(i||(i=d("I64"))).to_string(a.id))},renderPercentageListItem:function(a,b){return j.jsxs("li",{className:"x14vqqas",children:[j.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?j.jsx(c("MWXText.react"),{numberOfLines:f==="Inbox"?3:1,type:"headline4",children:a.titleText}):null,j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("MWChatPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",optionId:a.id,size:"small"})})]}),j.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:j.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{backgroundColor:d("MWPColorUtils").int64ToHex(e),width:(i||(i=d("I64"))).to_string(b)+"%"}})})]},i.to_string(a.id))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2});f["default"]=a}),66);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","MDSTextPairing.react","MNLSXMALayoutType","MWCMSubthreadXMAIcons","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","MWXText.react","gkx","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={description:{paddingTop:"x889kno",$$css:!0},hscroll:{paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,paddingStart:"x16hj40l",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},subthreadDescription:{marginTop:"x1k70j0n",$$css:!0},subthreadXMADescriptionRow:{justifyContent:"x1nhvcw1",$$css:!0},subthreadXMARow:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},subtitleContainer:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},subtitleDecorationIconContainer:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginTop:"x1k70j0n",$$css:!0},titleText:{marginBottom:"xahult9",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}},o=c("gkx")("9072");function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.bodyLineLimit,j=a.facePileElement,p=a.getFaviconUrlXMA,q=a.headlineLineLimit,r=a.isHscroll;a.isStandalone;var s=a.outgoing;s=s===void 0?!1:s;var t=a.subtitleText,u=a.title;a=a.xmaLayout;b=(k||(k=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(k||(k=d("I64"))).zero,(l||(l=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));f=d("MWXMAIconParser.react").parse((p=p(e,f))!=null?p:"");p=h._("__JHASH__SFJQf-uN6yj__JHASH__");var v=h._("__JHASH__-LANapr3SYq__JHASH__");p=u!==""?b&&o?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[m.jsx(c("MWXText.react"),{color:s?"secondaryOnMedia":"secondary",type:"meta2",children:u}),m.jsx(d("MWCMSubthreadXMAIcons").ChevronRightIcon,{color:s?"white":"secondary"})]}):m.jsx(c("MDSTextPairing.react"),{headline:b?p:u,headlineLineLimit:q,level:4,testid:void 0}):null;j=t!==""?b&&o?m.jsxs("div",{className:(i||(i=c("stylex")))([n.subthreadXMARow,n.subthreadXMADescriptionRow]),children:[j,m.jsx("div",{className:"x1k70j0n",children:m.jsx(c("MWXText.react"),{color:s?"secondaryOnMedia":"secondary",type:"meta2",children:e.replyCount==null||(k||(k=d("I64"))).equal(e.replyCount,(k||(k=d("I64"))).zero)?t:(k||(k=d("I64"))).gt((u=e.replyCount)!=null?u:(k||(k=d("I64"))).zero,(k||(k=d("I64"))).of_int32(20))?h._("__JHASH__Dd3JSX2bl8X__JHASH__"):h._("__JHASH__J-X-Y424pwe__JHASH__",[h._plural((k||(k=d("I64"))).to_int32((q=e.replyCount)!=null?q:(k||(k=d("I64"))).zero),"number")])})})]}):m.jsx("div",{className:"x889kno",children:m.jsx(c("MDSTextPairing.react"),{body:b?v:t,bodyColor:"secondary",bodyLineLimit:g,level:4,testid:void 0})}):null;u=e.subtitleDecorationType!=null?m.jsx("div",{className:"x1emribx x1k70j0n",children:m.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:(s=e.subtitleDecorationType)!=null?s:(k||(k=d("I64"))).zero})}):null;q=e.captionBodyText!=null?m.jsx(c("MWXText.react"),{color:"primary",type:"meta3",children:e.captionBodyText}):null;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,f==null?r?n.hscroll:!1:n.withIcon),children:[a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&p!==null?m.jsx("div",{className:"xahult9",children:p}):p,q,m.jsxs("div",{className:"x6s0dn4 x78zum5",children:[u,j]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAEventFacepiles.react",["CometFacepile.react","I64","MWXText.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=j||d("react"),m={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=a.avatarText,e=a.count,g=a.ctaId,j=a.size;j=j===void 0?32:j;var n=a.urls;a=a.xstyle;var o=g!=null?(k||(k=d("I64"))).to_string(g):"",p=(h||(h=c("useReStore")))();o=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(p.table("attachment_ctas")).getKeyRange(g):d("ReQL").empty()},[p,o],f.id+":51");var q=e!=null?(k||(k=d("I64"))).le(e,(k||(k=d("I64"))).of_int32(9)):!1;o=q?void 0:{target:"_blank",url:o==null?void 0:o.actionUrl};q=q?n.map(function(a){return{source:{uri:a}}}):n.slice(0,9).map(function(a){return{source:{uri:a}}});var r=b==null?m.root_center_aligned:m.root_start_aligned,s=b!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:b}):void 0;return q.length>0?l.jsx("div",{className:(i||(i=c("stylex")))(r),"data-testid":void 0,children:l.jsx("div",{className:(i||(i=c("stylex")))(m.facepile,a),role:"gridcell",children:l.jsx(c("CometFacepile.react"),{count:e!=null?(k||(k=d("I64"))).to_int32(e):n.length,isOverlapping:!0,isTextInline:b!=null,items:q,linkProps:o,size:j,text:s})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.avatarViewUrlExpirationTimestampList,e=a.avatarViewUrlFallbackList;a=a.avatarViewUrlList;if(a==null)if(b!=null)return[];else if(e!=null)return e.split(", ");else return[];if(b==null)return[];if(e==null)return[];a=a.split(", ");var f=b.split(", "),g=e.split(", ");return a.map(function(a,b){var e;try{e=d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(f[b]))}catch(a){e=!0}if(e){return(e=c("rewriteFallbackUrl")(g[b]))!=null?e:""}else return a})}g["default"]=a}),98);
__d("MWXMAAttachmentItemBody.react",["I64","LSIntEnum","LSMediaUrl.bs","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIcon.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MWXMAIconParser.react","MessengerWebUXLoggerXMAEventLoggingImpl","getLSMediaAttachmentAvatarViewUrlList","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},descriptionSubtitleText:{display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"xwib8y2",paddingTop:"x889kno",$$css:!0},descriptionText:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},hasFavicon:{paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},secondaryDescriptionText:{marginBottom:"xod5an3",$$css:!0},subthreadFacepiles:{marginEnd:"xmo9yow",marginLeft:null,marginRight:null,paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginTop:"x14vqqas",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0}};function a(a){var b,e,f=a.attachment,g=a.attachmentItem,i=a.bodyLineLimit,q=a.getFaviconUrlXMA;a.getPreviewUrlXMA;var r=a.headlineLineLimit,s=a.isHscroll,t=a.isPressable,u=a.isStandalone,v=a.outgoing;v=v===void 0?!1:v;a=a.xmaLayout;b=d("MWXMAIconParser.react").parse((b=q(f,g))!=null?b:"");e=(j||(j=d("I64"))).equal((e=f.xmaLayoutType)!=null?e:(j||(j=d("I64"))).zero,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));var w=g.titleText==null&&g.subtitleText==null&&b==null,x=g.titleText!=null||!u?g.titleText:f.titleText,y=g.subtitleText!=null||!u?g.subtitleText:f.subtitleText,z=c("getLSMediaAttachmentAvatarViewUrlList")(f);e=z.length!==0&&!e?[l.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,urls:z})]:[];z=x==null&&y==null?[]:[l.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:f,attachmentItem:g,isPressable:t,children:l.jsxs("div",{className:(h||(h=c("stylex")))(m.description,b==null?!1:m.hasFavicon),children:[l.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:b}),l.jsx(c("MWXMAAttachmentItemMainText.react"),{attachment:f,attachmentItem:g,bodyLineLimit:i,facePileElement:(j||(j=d("I64"))).equal((t=f.avatarCount)!=null?t:(j||(j=d("I64"))).zero,(j||(j=d("I64"))).zero)?null:l.jsx(c("MWXMAEventFacepiles.react"),{avatarText:f.avatarViewContextText,count:f.avatarCount,ctaId:g.attachmentCta1Id,size:16,urls:z,xstyle:m.subthreadFacepiles}),getFaviconUrlXMA:q,headlineLineLimit:r,isHscroll:s,isStandalone:u,outgoing:v,subtitleText:(b=y)!=null?b:"",title:(t=x)!=null?t:"",xmaLayout:a})]})})];q=f.listItemsDescriptionText;s=f.listItemsDescriptionSubtitleText;u=f.cta2IconType;v=f.cta3IconType;y=f.listItemId1;b=f.listItemsSecondaryDescriptionText;x=f.messageId;t=f.threadKey;var A=g.attachmentCta1Id,B=g.attachmentCta2Id,C=g.attachmentCta3Id,D=g.cta1IconType,E=g.cta1Title,F=g.cta1Type,G=g.cta2Title,H=g.cta2Type,I=g.cta3Title,J=g.cta3Type;w=F!=null&&E!=null&&A!=null?[l.jsxs("div",{className:(h||(h=c("stylex")))(m.buttonsWrapper,w?m.buttonsOnly:!1),children:[l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:D,ctaId:A,messageId:x,threadKey:t,title:E,type:F}),H!=null&&G!=null&&B!=null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:f.attachmentFbid,ctaIconType:u,ctaId:B,messageId:x,threadKey:t,title:G,type:H}),J!=null&&I!=null&&C!=null?l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{ctaIconType:v,ctaId:C,messageId:x,threadKey:t,title:I,type:J}):null]}):null]})]:[];D=q!=null?[l.jsx(n,{headlineLineLimit:r,listItemsDescriptionText:q})]:[];A=s!=null?[l.jsx(o,{bodyLineLimit:i,value:s})]:[];E=y!=null?[l.jsx(c("MWXMAAttachmentItemListItems.react"),{attachment:f})]:[];F=b!=null?[l.jsx(p,{bodyLineLimit:i,listItemsSecondaryDescriptionText:b})]:[];u=[z,D,A,e,E,F,w].reduce(function(a,b){return a.concat(b)},[]);B=d("LSMediaUrl.bs").Attachment.previewUrl(f)!=null||d("LSMediaUrl.bs").AttachmentItem.previewUrl(g)!=null||d("LSMediaUrl.bs").AttachmentItem.playableUrl(g)!=null;G=d("MWLSThread").useThread(t,function(a){return a.threadType});H=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:f,clickCategory:1,threadType:G});return u.length===0?null:l.jsx("div",{className:(h||(h=c("stylex")))(m.root,a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?m.xmaUnifiedtyles:!1,a!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!B&&f.headerTitle!=null?m.rootWithHeaderAndNoMedia:!1),ref:H,children:u.map(function(a,b){return l.jsx(l.Fragment,{children:a},String(b))})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.headlineLineLimit;a=a.listItemsDescriptionText;return l.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:b,level:4,textAlign:"center"})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.bodyLineLimit;a=a.value;return l.jsx("div",{className:"x78zum5 xl56j7k xwib8y2 x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4,textAlign:"center"})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.bodyLineLimit;a=a.listItemsSecondaryDescriptionText;return l.jsx("div",{className:"xod5an3",children:l.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:b,level:4})})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemAttribution.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.attachment;a=a;var b=a.attributionAppIcon;a=a.attributionAppName;return b!=null&&a!=null?i.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[i.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1kky2od",src:b}),i.jsx("span",{className:"xzsf02u x1nxh6w3 x1mnrxsn x13faqbe",children:a})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAInformedTreatment.react",["fbt","CometBlurredBackgroundImage.react","EyeCrossFilled24.svg.react","InfoCircleFilled20.svg.react","MWXColumn.react","MWXColumnItem.react","MWXIcon.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","SVGIcon","WAArmadilloXMA.pb","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={blurry:{backgroundColor:"x18l40ae",bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,filter:"xtea3wc",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},center:{position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",transform:"x11lhmoz",width:"xh8yej3",$$css:!0},overlay:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0},topRight:{alignItems:"x6s0dn4",backgroundColor:"x1gevrdp",borderTopColor:"x1fk37vd",borderEndColor:"xdy0ngz",borderBottomColor:"xqb0rpr",borderStartColor:"x1tp0a3f",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xe80o0v",display:"x78zum5",end:"x1k3u6ij",left:null,right:null,rowGap:"xpse7mg",columnGap:"x1ihrfj4",height:"x10w6t97",paddingTop:"xyqdw3p",paddingEnd:"x1iji9kk",paddingBottom:"xg8j3zb",paddingStart:"x16hj40l",position:"x10l6tqk",top:"x1tk7jg1",whiteSpace:"xuxw1ft",wordWrap:"x1vvkbs",$$css:!0},warning:{display:"x78zum5",height:"x1m3v4wt",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},l={ALTERED_MEDIA:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__5H5N5-Xsncf__JHASH__")},ALTERED_PHOTO:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__MMwXoLKk349__JHASH__")},CRUEL:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__i1O1Uvt1vZ6__JHASH__")},FALSE_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__MnSycojlY-Q__JHASH__")},MISLEADING_NEWS:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__CYwjewQWzi8__JHASH__")},MISSING_CONTEXT:{icon:d("SVGIcon").svgIcon(c("InfoCircleFilled20.svg.react")),text:h._("__JHASH__RL7VH1G5kZU__JHASH__")},SENSITIVE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__sovQqayBAJd__JHASH__")},VIOLENCE:{icon:d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")),text:h._("__JHASH__sovQqayBAJd__JHASH__")}},m=h._("__JHASH__zDjOAdn9yE8__JHASH__");function a(a){var b=a.dimension,e=a.gatingTitle,f=a.gatingType,g=a.previewUrl,h=g===void 0?"":g,i=a.xstyle,n=c("gkx")("571"),o=function(a){var b;return((b=l[a])==null?void 0:b.icon)==null?d("SVGIcon").svgIcon(c("EyeCrossFilled24.svg.react")):l[a].icon},p=function(a){var b;return((b=l[a])==null?void 0:b.text)==null?null:l[a].text};g=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING_SCREENS:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:return j.jsx("div",{className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz xh8yej3",children:j.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXIcon.react"),{color:"white",icon:o(e),size:32})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:n?"bodyLink3":"bodyLink4",children:p(e)})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"white",type:n?"meta3":"meta4",children:m})})]})});case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsxs("div",{className:"x6s0dn4 x1gevrdp x1fk37vd xdy0ngz xqb0rpr x1tp0a3f x107yiy2 xv8uw2v x1tfwpuw x2g32xy x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xe80o0v x78zum5 x1k3u6ij xpse7mg x1ihrfj4 x10w6t97 xyqdw3p x1iji9kk xg8j3zb x16hj40l x10l6tqk x1tk7jg1 xuxw1ft x1vvkbs",children:[j.jsx(c("MWXIcon.react"),{color:"white",icon:o(e),size:24}),j.jsx(c("MWXText.react"),{align:"center",color:"white",type:n?"bodyLink3":"bodyLink4",children:p(e)})]});default:return null}};a=function(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return j.jsx("div",{style:b,children:j.jsx(c("MWXImage.react"),{alt:"",src:h,xstyle:k.post})});default:return j.jsxs(j.Fragment,{children:[j.jsx(c("CometBlurredBackgroundImage.react"),{alt:"",src:h,xstyle:[k.post,i,k.overlay]}),j.jsx("div",{className:"x18l40ae x1ey2m1c xds687c xtea3wc x47corl x10l6tqk x17qophe x13vifvy"})]})}};var q=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"});return j.jsxs("div",{className:"x78zum5 x1m3v4wt x1n2onr6 xh8yej3",ref:q,children:[a(parseInt(f,10)),g(parseInt(f,10))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemImage.react",["CometImageCover.react","I64","LSIntEnum","MNLSXMALayoutType","MWXMAInformedTreatment.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.cardWidth,g=a.isStandalone,h=a.previewUrl;a=a.xmaLayout;var l=e.previewWidth==null?0:(i||(i=d("I64"))).to_int32(e.previewWidth),m=e.previewHeight==null?0:(i||(i=d("I64"))).to_int32(e.previewHeight),n=e.defaultCtaType;n==="xma_montage_share"?n=!0:n=e.imageUrl==null?g:l===m;e=l!==0?m!==0?l/m:0:0;b.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(b.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))&&(e===0&&(e=2),n=!0);g=f;f={height:(e===0?106:g/e).toString()+"px",width:g.toString()+"px"};var o={};a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(m>l&&(f.height=g.toString()+"px",f.width=(e===0?106:g*e).toString()+"px"),o=babelHelpers["extends"]({aspectRatio:void 0,flexGrow:"0",margin:"auto"},f));if(h.length===0||h==="")return null;a={height:(e===0?g-106:g/e).toString()+"px",width:g.toString()+"px"};if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsx(c("MWXMAInformedTreatment.react"),{dimension:a,gatingTitle:b.gatingTitle,gatingType:b.gatingType,previewUrl:h});return n?k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",children:k.jsx("img",{alt:"",src:h,style:babelHelpers["extends"]({aspectRatio:e,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},o)})}):k.jsx("div",{className:"x78zum5 x1n2onr6 xh8yej3",style:f,children:k.jsx(c("CometImageCover.react"),{alt:"",src:h,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MDSGlimmer.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","MWXMAAttachmentItemImage.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultPreview.react")),l={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.cardWidth,h=a.getPlayableUrl,l=a.getPreviewUrlXMA,m=a.isPressable,o=a.isStandalone;a=a.xmaLayout;b=(b=e.shouldAutoplayVideo)!=null?b:!1;var p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();p=p==="Inbox";p=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:e,attachmentItem:f,getPreviewUrl:l,preferLargePreview:p});l=l(e,f);h=h(e,f);switch(p.type){case"Video":return h==null?null:j.jsxs(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:[j.jsx(n,{attachmentItem:f,children:j.jsx(k,{controls:b?"none":"mwchat",fbid:f.attachmentFbid,hideExpandButton:!1,originalHeight:f.previewHeight!=null?(i||(i=d("I64"))).to_int32(f.previewHeight):0,originalWidth:f.previewWidth!=null?(i||(i=d("I64"))).to_int32(f.previewWidth):0,sdSrc:h})}),b?j.jsx(c("MWXMAAttachmentItemAttribution.react"),{attachment:e}):null]});case"Image":return l==null?null:j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:f,isPressable:m,children:j.jsx(c("MWXMAAttachmentItemImage.react"),{attachment:e,attachmentItem:f,cardWidth:g,isStandalone:o,previewUrl:l,xmaLayout:a})});case"Unsupported":return null}}a.displayName=a.name+" [from "+f.id+"]";function m(){return j.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:l.glimmer})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b,e=a.attachmentItem;a=a.children;b=(i||(i=d("I64"))).to_int32((b=e.previewWidth)!=null?b:(i||(i=d("I64"))).zero);e=i.to_int32((e=e.previewHeight)!=null?e:(i||(i=d("I64"))).zero);b=b!==0?e!==0?b/e:0:0;e=e>250&&b<.8;return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e?.8:b,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(m,{}),children:a})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("MWXMAAttachmentItemHeaderIcon.react",["CometImageCover.react","CometSkittleIcon.react","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;if(typeof b==="string"){a=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px";return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message's header",src:b,style:{borderRadius:"50%",height:a,width:a}})})}return i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometSkittleIcon.react"),{color:b.color,icon:b.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemHeader.react",["ix","I64","LSIntEnum","LSVerifiedType","MWXIcon.react","MWXMAAttachmentItemHeaderIcon.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","fbicon","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},verifiedIconContainer:{display:"x78zum5",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.attachment,e=a.getHeaderUrlXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var f=b.headerTitle;if(f==null)return null;var g=b.headerSubtitleText;e=e(b);e=e==null?void 0:d("MWXMAIconParser.react").parse(e);var j=a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT;b=b.verifiedType!=null?(k||(k=d("I64"))).equal(b.verifiedType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;return m.jsxs("div",{className:(i||(i=c("stylex")))(n.root,j?n.withBorder:!1),children:[e!=null&&m.jsx(c("MWXMAAttachmentItemHeaderIcon.react"),{icon:e,xmaLayout:a}),j&&g!==null&&g!=null&&g!==""?m.jsx(c("MWXTextPairing.react"),{headline:f,level:4,meta:g}):m.jsx(c("MWXText.react"),{type:"bodyLink3",children:f}),b?m.jsx("div",{className:"x78zum5 xsgj6o6",children:m.jsx(c("MWXIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["LSIntEnum","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.attachmentItem,f=a.bodyLineLimit,g=a.cardWidth,h=a.getFaviconUrlXMA,k=a.getHeaderUrlXMA,l=a.getPlayableUrl,m=a.getPreviewUrlXMA,n=a.headlineLineLimit,o=a.isHscroll,p=a.isPressable,q=a.isStandalone,r=a.outgoing;r=r===void 0?!1:r;a=a.xmaLayout;var s=b.defaultCtaType,t=b.xmaLayoutType!==void 0&&(i||(i=d("LSIntEnum"))).toNumber(b.xmaLayoutType)===c("MNLSXMALayoutType").SHARED_STACK;if(t)return j.jsx(c("MWRollCallXMAAttachmentItem.react"),{attachmentItem:e});return s==="xma_montage_share"?j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:l,getPreviewUrlXMA:m,isPressable:p,isStandalone:q,xmaLayout:a}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:k,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemDefaultPreview.react"),{attachment:b,attachmentItem:e,cardWidth:g,getPlayableUrl:l,getPreviewUrlXMA:m,isPressable:p,isStandalone:q,xmaLayout:a}),j.jsx(c("MWXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:e,bodyLineLimit:f,getFaviconUrlXMA:h,getPreviewUrlXMA:m,headlineLineLimit:n,isHscroll:o,isPressable:p,isStandalone:q,outgoing:r,xmaLayout:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","MWXIcon.react","MWXMAAttachmentActionTrigger.react","MWXMAInformedTreatment.react","MWXText.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},privateBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1dr9wh",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0},publicBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"xzudefj",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1iu8u7t",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xh8yej3",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",maxWidth:"x193iq5w",minHeight:"xisnujt",minWidth:"x1jzhcrs",width:"xh8yej3",$$css:!0},sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getPreviewUrlXMA;e=e===void 0?c("emptyFunction"):e;a=a.isPressable;var f=b.defaultCtaType;e=e(b,d);if(b.gatingTitle!=null&&b.gatingType!=null)return k.jsxs(k.Fragment,{children:[k.jsx(c("MWXMAInformedTreatment.react"),{gatingTitle:b.gatingTitle,gatingType:b.gatingType,previewUrl:e,xstyle:l.sensitiveContent}),k.jsx(n,{attachment:b,attachmentItem:d,isPressable:a})]});return f==="xma_montage_share"?k.jsx(m,{attachment:b}):k.jsxs(k.Fragment,{children:[k.jsx(m,{attachment:b}),k.jsx(n,{attachment:b,attachmentItem:d,isPressable:a})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=a.attachment;var b=new(c("IconSource"))("FB",i("1423125"),32);a=a.defaultCtaType;if(a==="xma_montage_share")return k.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:b})})});a=h._("__JHASH__EXLuTpYr-at__JHASH__");return k.jsxs("div",{className:"x6s0dn4 x99fzhk xzudefj x78zum5 xdt5ytf x1iu8u7t xl56j7k x2b8uid xh8yej3",children:[k.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:k.jsx(c("MWXIcon.react"),{icon:b})}),k.jsx(c("MWXText.react"),{color:"white",type:"bodyLink4",children:a})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.attachment,d=a.attachmentItem;a=a.isPressable;return k.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:d,isPressable:a,children:k.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xw3qccf",children:k.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xq8finb xod5an3 x16n37ib x193iq5w xisnujt x1jzhcrs xh8yej3",children:k.jsx(c("MWXText.react"),{type:"meta4",children:h._("__JHASH__N1DOsSnTIti__JHASH__")})})})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItem.react",["I64","LSIntEnum","LSMediaUrl.bs","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react")),n=l.useCallback,o={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderEndColor:"x1y71gwh",borderBottomColor:"x1nb4dca",borderStartColor:"xu1343h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0}},p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var b,e=a.attachment,g=a.attachmentItem,l=a.bodyLineLimit;l=l===void 0?3:l;var r=a.cardWidth;r=r===void 0?300:r;var s=a.getFaviconUrlXMA,t=a.getHeaderUrlXMA;t=t===void 0?d("LSMediaUrl.bs").Attachment.headerImageUrl:t;var u=a.getPlayableUrl,v=a.getPreviewUrlXMA,w=a.headlineLineLimit;w=w===void 0?3:w;var x=a.isHscroll,y=a.isStandalone,z=a.outgoing;z=z===void 0?!1:z;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var A=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),B=A.rtcVideoCallEnabled;A=A.rtcVoiceCallEnabled;var C=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",D=n(function(a,b){a=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:b,preferLargePreview:C});switch(a.type){case"Video":case"Image":return a.url;case"Unsupported":return}},[C]),E=(h||(h=c("useReStore")))(),F=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(E.table("threads"),["threadType"]).getKeyRange(e.threadKey)},[E,e.threadKey],f.id+":110"),G=e.defaultCtaType;A=G!=null?q.has(G)&&!A||p.has(G)&&!B:!1;B=(G=e.shouldAutoplayVideo)!=null?G:!1;G=B&&e.attributionAppIcon!=null&&e.attributionAppName!=null;B=(k||(k=c("stylex")))(o.root,G?o.withBorder:!1);G=g.attachmentCta1Id!=null;var H=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();F=F?d("MWCMThreadTypes.react").isUnjoinedCMThread(F.threadType):!1;b=(i||(i=d("I64"))).equal((b=e.xmaLayoutType)!=null?b:(i||(i=d("I64"))).zero,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));F=F&&b||A;return m.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:e,attachmentItem:g,isPressable:!G&&!F,children:m.jsx("div",{className:B,"data-testid":void 0,children:H?m.jsx(c("MWXMAPrivateAttachment.react"),{attachment:e,attachmentItem:g,getPreviewUrlXMA:(b=v)!=null?b:D,isPressable:G&&!F}):m.jsx(c("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:e,attachmentItem:g,bodyLineLimit:l,cardWidth:r,getFaviconUrlXMA:(A=s)!=null?A:function(a,b){return(a=(a=d("LSMediaUrl.bs").Attachment.faviconUrl(a))!=null?a:d("LSMediaUrl.bs").AttachmentItem.faviconUrl(b))!=null?a:""},getHeaderUrlXMA:t,getPlayableUrl:(B=u)!=null?B:D,getPreviewUrlXMA:(H=v)!=null?H:D,headlineLineLimit:w,isHscroll:x,isPressable:G&&!F,isStandalone:y,outgoing:z,xmaLayout:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","CometHScroll.react","I64","MWXMAAttachmentItem.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=284,n={cardWrapper:{backgroundColor:"x2bj2ny",height:"x5yr21d",width:"xh8yej3",$$css:!0},flexibleContainer:{"@media (max-width: 1439px)_maxWidth":"x1bu0bv6","@media (min-width: 1440px)_maxWidth":"x6vbh5p",$$css:!0},spacer:{marginTop:"xvijh9v",$$css:!0},topElement:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0}};function a(a){var b=a.attachmentItems,e=a.fullWidthContainer;e=e===void 0?!1:e;var f=a.hasText,g=f===void 0?!1:f,k=a.xstyle;f=babelHelpers.objectWithoutPropertiesLoose(a,["attachmentItems","fullWidthContainer","hasText","xstyle"]);var o=f.cardWidth,p=babelHelpers.objectWithoutPropertiesLoose(f,["cardWidth"]);return l.jsx("div",{className:(i||(i=c("stylex")))(!e&&n.flexibleContainer),children:l.jsx(d("CometHScroll.react").Container,{accessibilityLabel:h._("__JHASH__grvWiY5ySlo__JHASH__"),cardWidth:o!=null?{type:"fixed",width:o}:{minWidth:m,type:"responsive"},gap:8,children:b.map(function(a,b){return l.jsx(d("CometHScroll.react").Child,{expanding:!0,children:l.jsx("div",{className:"x2bj2ny x5yr21d xh8yej3",children:l.jsx("div",{className:(i||(i=c("stylex")))(k,b===0&&g&&n.topElement,g&&n.spacer),children:l.jsx(c("MWXMAAttachmentItem.react"),babelHelpers["extends"]({},p,{attachmentItem:a,cardWidth:o,isStandalone:!1}))})})},(j||(j=d("I64"))).to_string(a.attachmentIndex))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrl.bs","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment,e=a.attachmentItems,f=a.getHeaderUrlXMA;f=f===void 0?d("LSMediaUrl.bs").Attachment.headerImageUrl:f;a=a.xstyle;var g=e[0];return j.jsx(c("MWXMAAttachmentActionTrigger.react"),{attachment:b,attachmentItem:g,isPressable:!0,children:j.jsxs("div",{className:(h||(h=c("stylex")))(a),"data-testid":void 0,children:[j.jsx(c("MWXMAAttachmentItemHeader.react"),{attachment:b,getHeaderUrlXMA:f}),j.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","useInterval"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useMemo,m=b.useState;function n(a){var b=1e3,c=b*60,d=c*60,e=d*24;a=a;var f=Math.floor(a/e);a-=f*e;e=Math.floor(a/d);a-=e*d;d=Math.floor(a/c);a-=d*c;c=Math.floor(a/b);a-=c*b;return{days:f,hours:e,minutes:d,seconds:c}}function a(a){var b=a.attachment;a=l(function(){var a;return(j||(j=d("I64"))).to_float((a=b.countdownTimestampMs)!=null?a:(j||(j=d("I64"))).zero)},[b.countdownTimestampMs]);var e=m(Date.now()),f=e[0],g=e[1];e=f>a;c("useInterval")(function(){g(Date.now())},e?6e4:1e3,[g]);if(!e){e=n(a-f);var i=e.minutes;e=e.seconds;i=("0"+i).slice(-2)+":"+("0"+e).slice(-2)}else if(b.cta1Type==="xma_roll_call_open_viewer")i=h._("__JHASH__iEcmesFoHMR__JHASH__");else{e=n(f-a);f=e.days;a=e.hours;e=e.minutes;f>30?i=h._("__JHASH__FgpGUEY9N0G__JHASH__"):f>0?i=h._("__JHASH__UZjF4IaHC-f__JHASH__",[h._param("days",f)]):a>0?i=h._("__JHASH__4LZO7x78s0P__JHASH__",[h._param("hours",a)]):i=h._("__JHASH__JXYYWJwIx9x__JHASH__",[h._param("minutes",Math.max(1,e))])}return k.jsx("div",{className:"x1h0vfkc x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k xkrivgy x1gryazu x1sxyh0 xurb0ha xeq5yr9",children:k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackFrontCard.react",["I64","LSAuthorityLevel","LSIntEnum","MWChatPollFacepile.react","MWLSThread","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","getLSMediaAttachmentAvatarViewUrlList","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={ctaContainer:{marginTop:"x1xmf6yo",$$css:!0},facepileContainer:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},frontCard:{backgroundColor:"x1jx94hy",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},titleContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=a.attachment;a=a.xstyle;var e=c("getLSMediaAttachmentAvatarViewUrlList")(b),f=b.countdownTimestampMs;f=f!=null&&!(j||(j=d("I64"))).equal(f,(j||(j=d("I64"))).of_int32(0))?l.jsx(c("MWRollCallTimerPill.react"),{attachment:b}):null;var g=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});g=d("MessengerWebUXLoggerXMAEventLoggingImpl")==null?void 0:d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef({attachment:b,clickCategory:1,threadType:g});var i=(k||(k=d("LSIntEnum"))).toNumber(b.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC;return l.jsxs("div",{className:(h||(h=c("stylex")))(m.frontCard,a),ref:g,children:[f,l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo",children:l.jsx(c("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:b.titleText})}),l.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu",children:i?l.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):l.jsx(c("MWChatPollFacepile.react"),{contacts:e.map(function(a){return{name:void 0,profile_picture_url:a}}),direction:"reversed",gap:"negative",size:"large"})}),l.jsx("div",{className:"x1xmf6yo",children:b.attachmentCta1Id!=null&&b.cta1Title!=null&&b.cta1Type!=null?l.jsx(c("MWXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaId:b.attachmentCta1Id,messageId:b.messageId,threadKey:b.threadKey,title:b.cta1Title,type:b.cta1Type}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackItem.react",["MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={stackItem:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",bottom:"x1ey2m1c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.index,g=a.totalItems;a=a.xstyle;var i=f%2===0?-4:4,l=0,m=0;switch(f){case 0:l=0;m=-12;break;case 1:l=58;m=-20;break;case 2:l=34;m=-28;break}return j.jsx("div",{className:(h||(h=c("stylex")))(k.stackItem,a),style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:"rotate("+i+"deg) translateX("+l+"px) translateY("+m+"px)",width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:g-f},children:e.previewUrl!=null&&j.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:e,cardWidth:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0},stackItem:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0},stackItemFront:{start:"x3f4u1h",left:null,right:null,$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItems,f=a.centered;f=f===void 0?!1:f;var g=a.children;a=a.xstyle;var i=e.slice(0,3);e=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+32;var l=d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.stackContainer,a,f&&k.centered),style:{height:e,width:l},children:[i.map(function(a,d){return j.jsx(c("MWXMAAttachmentSharedStackItem.react"),{attachment:b,attachmentItem:a,index:d,totalItems:i.length},d)}),j.jsx("div",{className:"x1ey2m1c x10l6tqk x3f4u1h",style:{height:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:d("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:i.length+1},children:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWPColorUtils","gkx","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},incoming:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){a.centered;var b=a.children,e=a.outgoing;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=c("gkx")("9072");e=e?{backgroundColor:d("MWPColorUtils").int64ToHex(f.threadTheme.fallbackColor),color:"white"}:void 0;return j.jsx("div",{className:(h||(h=c("stylex")))(a,k.centered,k.incoming),style:g?e:null,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={centered:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",$$css:!0},connectBottomIncoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectBottomOutgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},connectTopIncoming:{borderTopStartRadius:"x1lcm9me",$$css:!0},connectTopOutgoing:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=a.centered;b=b===void 0?!1:b;var e=a.children,f=a.connectBottom,g=a.connectTop,i=a.outgoing,l=a.xmaLayout;a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(a,g&&l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&k.connectTop,g&&i&&k.connectTopOutgoing,g&&!i&&k.connectTopIncoming,f&&i&&k.connectBottomOutgoing,f&&!i&&k.connectBottomIncoming,b&&k.centered),children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachment.react",["I64","Int64Hooks","LSIntEnum","MNLSXMALayoutType","MWLSThreadDisplayContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","ReQL","ReQLSuspense","react","recoverableViolation","stylex","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||d("react");function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}var o={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},outgoing_xma:{marginStart:"x1gryazu",marginLeft:null,marginRight:null,$$css:!0}},p={card:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function a(a){var b=a.attachment,e=a.bodyLineLimit,g=a.cardWidth,l=a.connectBottom,q=a.connectTop,r=a.fullWidthContainer;r=r===void 0?!1:r;var s=a.getFaviconUrlXMA,t=a.getHeaderUrlXMA,u=a.getPlayableUrl,v=a.getPreviewUrlXMA,w=a.hasText;w=w===void 0?!1:w;var x=a.headlineLineLimit,y=a.outgoing,z=a.xmaLayout;z=z===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:z;a=a.xstyle;var A=(h||(h=c("useReStore")))(),B=b.attachmentFbid,C=b.attachmentType,D=b.cta1Type,E=b.defaultCtaType,F=b.isBorderless,G=b.xmaContentType,H=b.xmaLayoutType,I=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(A.table("attachment_items")).getKeyRange(B)},[B,A],f.id+":145"),J=d("Int64Hooks").useMemoInt64(function(){return H!=null?[(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER)),(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE)),(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT)),(j||(j=d("I64"))).equal(H,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},[H]),K=J[0],L=J[1],M=J[2],N=J[3],O=J[4];J=J[5];var P=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),Q=null;N?Q=m.jsx(c("MWXMAAttachmentSharedStackLayout.react"),{attachment:b,attachmentItems:I,children:m.jsx(c("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:b})}):O?Q=m.jsx(c("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:y,xstyle:p.card,children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:I[0],bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPlayableUrl:u,getPreviewUrlXMA:v,headlineLineLimit:x,isHscroll:K,isStandalone:!0,outgoing:y,xmaLayout:z})}):K?Q=m.jsx(c("MWXMAAttachmentHorizontalItems.react"),{attachment:b,attachmentItems:I,bodyLineLimit:e,cardWidth:g,fullWidthContainer:r,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPlayableUrl:u,getPreviewUrlXMA:v,hasText:w,headlineLineLimit:x,isHscroll:K,xmaLayout:z,xstyle:[p.card,p.opaqueCard]}):M&&I.length===6?Q=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:q,outgoing:y,xmaLayout:z,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItemIgProfile.react"),{attachment:b,attachmentItems:I,getHeaderUrlXMA:t})}):L&&I.length===1?Q=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{centered:!0,connectBottom:l,connectTop:q,outgoing:y,xmaLayout:z,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:I[0],bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPlayableUrl:u,getPreviewUrlXMA:v,headlineLineLimit:x,isHscroll:K,isStandalone:!0,xmaLayout:z})}):I.length===0?Q=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:q,outgoing:y,xmaLayout:z,xstyle:[p.card,F!==!0&&p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:n(b),bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPlayableUrl:u,getPreviewUrlXMA:v,headlineLineLimit:x,isHscroll:K,isStandalone:!0,xmaLayout:z})}):I.length===1?Q=m.jsx(c("MWXMAAttachmentVerticalLayout.react"),{connectBottom:l,connectTop:q,outgoing:y,xmaLayout:z,xstyle:[p.card,p.opaqueCard],children:m.jsx(c("MWXMAAttachmentItem.react"),{attachment:b,attachmentItem:I[0],bodyLineLimit:e,cardWidth:g,getFaviconUrlXMA:s,getHeaderUrlXMA:t,getPlayableUrl:u,getPreviewUrlXMA:v,headlineLineLimit:x,isHscroll:K,isStandalone:!0,outgoing:y,xmaLayout:z})}):c("recoverableViolation")("Unknown combination of XMA items and layout. n Attachment Items: "+String(I.length)+", XMA Layout Type: "+(H==null?"na":(j||(j=d("I64"))).to_string(H))+", Attachment Type: "+(j||(j=d("I64"))).to_string(C)+",  XMA content Type: "+(G==null?"na":(j||(j=d("I64"))).to_string(G))+", default CTA type: "+(E==null?"na":E)+", CTA 1 type: "+(D==null?"na":D),"messenger_web_product",void 0,{trackOnly:!0});N=z===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[o.cardWidth,y&&o.outgoing_xma]:o.cardWidth;O=P==="ChatTab";r=J?O?o.cardWidthChatTab:o.cardWidth:a;return m.jsx("div",{className:(i||(i=c("stylex")))(K&&O&&p.rootForHScrollInChatTab,!K&&!L&&N,r),children:Q})}a.displayName=a.name+" [from "+f.id+"]";g.xmaCardStyles=o;g.MWXMAAttachment=a}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","I64","LSIntEnum","MWChatAttachmentMediaPreview.react","MWChatBubbleEmphasisRing.react","MWChatEphemeralButton.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWV2ChatImagesGrid.react","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","MWXSolidMessageBubble.react","RavenMessagingState","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,h=g===void 0?!1:g,l=a.message,m=a.navigateToRouteForMediaViewer,n=a.outgoing,o=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var p=g==="ChatTab"?180:void 0;return k.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:l,renderAudioAttachment:function(a){return k.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,isReply:c("MWPMessageIsReply")(l),outgoing:n})},renderEmphasisRing:f?function(a,b){return k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:e,hasXMA:a,outgoing:n,precedesXMA:!1,children:b})}:void 0,renderEphemeralMediaAttachment:function(a){var f=a.ephemeralMediaState;if(f!=null)if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").PERMANENT)))return k.jsx(c("MWChatAttachmentMediaPreview.react"),{attachment:a});else return k.jsx(c("MWChatEphemeralButton.react"),{attachment:a,connectBottom:b,connectTop:e,outgoing:n});else return null},renderFileAttachment:function(a){return k.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:n,style:{backgroundColor:"var(--chat-incoming-message-bubble-background-color)",padding:0},children:k.jsx(c("MWV2ChatFileV2.react"),{attachment:a})})},renderImageAttachment:function(c,b,a,e){return k.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:l,navigateToRouteForMediaViewer:m,outgoing:n,renderUnsupportedAttachment:e})},renderImageGrid:function(a){return k.jsx(c("MWV2ChatImagesGrid.react"),{attachments:a})},renderStickerAttachment:function(a){return k.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:a})},renderUnsupportedAttachment:function(a){return k.jsx(c("MWXSolidMessageBubble.react"),{connectBottom:b,connectTop:e,outgoing:n,style:{backgroundColor:"var(--comment-background)"},children:k.jsx(c("MWV2UnsupportedAttachment.react"),{attachment:a})})},renderVideoAttachment:function(a){return k.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:l,navigateToRouteForMediaViewer:m,outgoing:n})},renderXMAAttachment:function(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return k.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:o})},children:k.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:p,connectBottom:b,connectTop:e,hasText:h,outgoing:n,xstyle:o})})}})}a.displayName=a.name+" [from "+f.id+"]";b=k.memo(a);g["default"]=b}),98);
__d("MWV2MessageReactionButton.react",["I64","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsAction.react","MWV2MessageReactionHooks","ReQL","ReQLSuspense","isFeatureLimitEnabled","react","useIsReactionsV2Enabled","useIsReadOnlyFeatureLimitedWithThreadType","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useMemo;function a(a){var b=a.closeActionsMenu,e=a.message,g=a.onReactionsSendLogger,i=a.reactionsPopoverResource,n=a.setReactionsMenuOpen;a=a.threadType;var o=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(e),p=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e),q=d("LSMessagingThreadTypeUtil").isSecure(a),r=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,q,"reaction_tray"),s=c("useIsReadOnlyFeatureLimitedWithThreadType")(a);s=(!q||c("isFeatureLimitEnabled")())&&s;var t=(j||(j=d("I64"))).to_string(e.threadKey),u=j.to_string(e.timestampMs),v=m(function(){return d("MWChatMessageId").makeSent(t,e.messageId,u)},[t,e.messageId,u]),w=l(function(a,b){g&&g();return r(e.messageId,b?void 0:a,b?"remove_reaction":"reaction")},[r,e.messageId]),x=d("MWCMThreadTypes.react").isBroadcastThread(a);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var y=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(e.threadKey),z=(h||(h=c("useReStore")))(),A=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(z.table("reaction_v2_types"))},[z],f.id+":97")!=null;if(s||y&&!A)return null;else{return k.jsx(c("MWChatReactionsAction.react"),{closeActionsMenu:b,disableCustomReactions:y&&x,hasReactionsV2:y,isBroadcastChannel:a,isBroadcastThread:x,isSecure:q,messageID:v,onVisibilityChange:n,reactionsPopoverResource:i,selectedReactions:y?(s=p)!=null?s:void 0:o!=null?[o]:void 0,sendReaction:w})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchPluginUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=(a=a==null?void 0:(a=a.split("?")[1])==null?void 0:a.split("&"))!=null?a:[];if(a.length===0)return null;var b=[],c=[],d=[],e="",f="",g="";a.forEach(function(a){a=a.split("=");var h=a[0];a=a[1];a=decodeURIComponent(a);h.includes("source_titles")&&b.push(a.replaceAll("+"," "));h.includes("source_sub_titles")&&c.push(a.replaceAll("+"," "));h.includes("source_urls")&&d.push(a);h==="source_query"&&(e=a.replaceAll("+"," "));h==="source_query_url"&&(f=a);h==="header"&&(g=a)});return{header:g,source_query:e,source_query_url:f,source_sub_titles:c,source_titles:b,source_urls:d}}function b(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&a.cta2Type==="xma_gen_ai_search_plugin_response_sources"}f.useSearchPluginSources=a;f.isSearchPlugin=b}),66);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={mustacheContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},root:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=b.attachmentCta1Id;b=b.attachmentCta2Id;a=c("useMWPGetAttachmentCTA")(a);b=c("useMWPGetAttachmentCTA")(b);var h=d("MWSearchPluginUtils").useSearchPluginSources(b==null?void 0:b.nativeUrl),m=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var n=f[0];f=m?"highlight":"blueLink";m=m?"bodyLink4":"body4";var o=k(function(){var a;return{extraData:{botResponseId:(a=e)!=null?a:""},flowInstanceId:g}},[e,g]),p=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},o)),q=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),r=j(function(){q==null?void 0:q(babelHelpers["extends"]({eventName:"search_plugin_see_more"},o))},[q,o]),s=j(function(){h!=null&&(q==null?void 0:q(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},o)),n({botResponseId:e,sources:h}))},[e,o,q,n,h]);return i.jsxs(c("BaseView.react"),{ref:p,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:a==null?void 0:a.actionUrl},onPress:r,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:m,children:a!=null&&a.title})}),i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"}),i.jsx(c("MWXPressable.react"),{onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:m,children:b!=null&&b.title})})]}),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3});f["default"]=a}),66);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","useGroupsCometCMDisabledChatEntryPointDialog","useMWPGetAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0}};function o(a){var b=a.attachment;a=a.outgoing;b=b.mustacheText;return b==null||b===""?null:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:m.jsx("div",{className:(i||(i=c("stylex")))(n.row,a&&n.outgoing),children:m.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:h._("__JHASH__fTQoFWqjgLD__JHASH__",[h._param("quoted text",b)])})})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.outgoing,e=a.threadID,f=!0;a=c("useGroupsCometCMDisabledChatEntryPointDialog")({isGeoBlocked:f,threadID:e});var g=a[0];return m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:m.jsx("div",{className:(i||(i=c("stylex")))(n.row,b&&n.outgoing),children:m.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:m.jsx(c("MWXLink.react"),{display:"inline",onClick:function(){return g({isGeoBlocked:f,threadID:e})},children:h._("__JHASH__P-dEPoA1cwy__JHASH__")})})})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b,e=a.message;a=a.outgoing;b=(b=c("useMWPGetAttachments")(e))==null?void 0:b[0];var f=e.takedownState!=null&&(j||(j=d("I64"))).equal(e.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(f)return m.jsx(p,{outgoing:a,threadID:(j||(j=d("I64"))).to_string(e.threadKey)});return b!=null?m.jsx(o,{attachment:b,outgoing:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",{className:(h||(h=c("stylex")))(l.container,a),role:"none",children:[b.map(function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(l.items,d),role:"none",children:a},""+b)}),e?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction").get(e);f=d("MWChatInteraction").get(f);e=(e=e)!=null?e:f;if(e==null)return j.jsx("div",{className:(h||(h=c("stylex")))(a),children:b});else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._("__JHASH__hknrqEeMk6h__JHASH__");return a&&j.jsxs(j.Fragment,{children:[b!=null&&j.jsx("span",{className:"x1sdyfia",children:b}),j.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("threads"),["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=p(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:d("MWChatReactionsUtils").heartType1,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":56"));return a}function b(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e)},[b,g,e],f.id+":81");return a}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":97");return a}function s(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function t(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function u(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,u=g.messageId,v=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var w=a.setFocused,x=a.setIsDialogOpened,y=(i||(i=c("useReStore")))(),z=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(v);a=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v);var A=a?d("useIsMultiReactionEnabled").MAX_REACTION_COUNT:3,B=c("useIsReactionDialogEnabled")(v),C=r(new Map()),D=n(function(){z&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(y,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:v})},"issueReactionsV2DetailsUsersListFetch").then(function(){return C.current.forEach(function(a){return a()})}))},[y,z,g.messageId,v]),E=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(y.table("reactions_v2")).getKeyRange(v,u).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(y.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":206");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[y,v,u,p],f.id+":200");d("MWReactionUtils").useSortReactionsForBroadcastChat(E,v);A=m!=null&&z?t(Array.from(new Set(E.map(function(a){return(a=a.reactionLiteral)!=null?a:""}))).slice(0,A)):t(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,A));m=m!=null&&z?(j||(j=d("I64"))).to_int32(E.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;E=s(A,m);var F=r(null),G=q(function(){return e!=null?e:z?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,z]),H=q(function(){return{message:g,onLoadComplete:function(a){C.current.set(a,a);return function(){C.current["delete"](a)}},thread:{threadKey:v}}},[g,v]),I=n(function(){x(function(){return!1}),w(function(){return!0})},[w,x]);G=c("useMWXLazyDialog")(G);var J=G[0],K=n(function(a){x(function(){return!0}),J(babelHelpers["extends"]({},H,{initialTab:a}),I),h==null?void 0:h(),D()},[H,I,h,x,J,D]);return a||!B?b(A,m,k,g,v,K):l.jsx(c("MWXPressable.react"),{"aria-label":E,onPress:function(){return K()},overlayDisabled:!0,ref:F,children:b(A,m,k,g,v,K)})}u.displayName=u.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=u}),98);
__d("MWPinnedMessageDropdownButton.react",["fbt","ix","JSResourceForInteraction","MWXLazyPopoverTrigger.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden;a=a.message;return!b&&k.jsx("div",{className:"x1a87ojn x10l6tqk xwa60dl",children:k.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{message:a},popoverResource:l,children:function(a,b){return k.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),color:"secondary",icon:d("fbicon")._(i("484386"),16),onPress:b,ref:a})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=j(),d=j(),e=j(),f=j();return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("g",{filter:"url(#"+b+")",children:i.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),i.jsxs("defs",{children:[i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[i.jsx("stop",{stopColor:"#969495"}),i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[i.jsx("stop",{stopColor:"#666666"}),i.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=k(!1),e=d[0],f=d[1],g=j(a);d=b?l.mountAnimationOutgoing:l.mountAnimationIncoming;i(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignEnd:{end:"xds687c",left:null,right:null,transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",left:null,right:null,transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0},relative:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,i=f.shouldShow;f=f.unmountAnimation;return!i||b?j.jsx(j.Fragment,{children:d}):d&&j.jsxs("div",{className:"x1n2onr6",children:[j.jsx("div",{className:(h||(h=c("stylex")))([k.container,a?k.alignEnd:k.alignStart,e?g:f]),children:j.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":27");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=function(){return b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX")};function a(a){var b=a.isLastMessage,d=a.isOutgoing,e=a.isPinnedMessageList;a=a.message;var f=a.textHasLinks;a=c("useMWIsXMARoom")(a);d=!d&&(f||a)&&b&&!e;return!d?null:i.jsx(j,{})}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction").set(b,g);e!=null&&((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",(h||(h=d("I64"))).to_string(f));return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.startHeroInteractionTrace=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var m=d(e);function a(a){a=a.children;var b=l(),c=b[0],d=b[1];b=k(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWPVisibleMessageContext=m;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=c("useLSMessagingInitiatingSource")(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return i(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger").startHeroInteractionTrace(g,b,f,d("MWVersion").v2)})},[a,e,g,f])}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,h=a.outgoing,m=a.renderAttachment,n=a.renderExpiredMessage,o=a.renderGIF,p=a.renderMedia,q=a.renderPost,r=a.renderRemovedMessage,s=a.renderRollcallContribution,t=a.renderSticker,u=a.renderStory,v=a.renderTextMessage,w=a.renderUnavailableMessage;a=a.renderVideo;var x=g.replyAttachmentId,y=g.replyAttachmentType,z=g.replyMessageText;y!=null&&(!e||g.replyStatus!=null&&!(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)))?((i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=k.jsx(u,{isSecureMessage:f,message:g,outgoing:h}):x!=null?(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))?s!=null?e=k.jsx(s,{message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=k.jsx(a,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))?o!=null?e=k.jsx(o,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))?t!=null?e=k.jsx(t,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))?e=k.jsx(m,{message:g,outgoing:h}):q!=null?e=k.jsx(q,{message:g,outgoing:h}):e=c("recoverableViolation")("Unknown attachment type: "+(i||(i=d("I64"))).to_string(y),"messenger_comet"):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&t!=null?e=k.jsx(t,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&m!=null?z!=null&&z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):e=k.jsx(m,{message:g,outgoing:h}):e=null:x!=null?g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&z!=null&&z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))?r!=null?e=k.jsx(r,{outgoing:h}):e=null:g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))?n!=null?e=k.jsx(n,{outgoing:h}):e=null:g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?w!=null?e=k.jsx(w,{outgoing:h}):e=null:z!=null&&g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):e=k.jsx(m,{message:g,outgoing:h}):e=null;u=k.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var A=g.replySourceTimestampMs,B=g.replySourceId,C=c("useMWJumpToMessage")("Pinned");s=y!=null&&((i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION)));var D=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();a=c("useIsRollcallEnabled")(g.threadKey);if(B!=null&&A!=null&&b){o=function(){C(B,A)};if(s&&a){var E=(i||(i=d("I64"))).of_string((q=g.replyAttachmentExtra)!=null?q:"0"),F=g.threadKey,G=(t=g.replySourceId)!=null?t:null;o=function(){D(E,F,G)}}return k.jsx(c("MWXPressable.react"),{onPress:o,overlayDisabled:!0,xstyle:function(){return[l.pressable]},children:u})}else return u}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyTo.react",["fbt","CometScreenReaderText.react","MWXSolidMessageBubble.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.xstyle;a=a===void 0?!1:a;return k.jsxs(c("MWXSolidMessageBubble.react"),{connectBottom:!0,connectTop:!1,outgoing:d,precedesXMA:!1,style:{backgroundColor:"var(--chat-replied-message-background-color)"},children:[k.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:k.jsx("div",{className:(i||(i=c("stylex")))(l.content,a),"data-testid":void 0,children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return k.jsx(c("MWV2ReplyTo.react"),{outgoing:a,children:k.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,k.jsx("span",{className:"x1lliihq x1i64zmx",children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWLSThreadDisplayContext","MWPStableImage.react","MWPThreadCapabilitiesContext","cr:4509","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.imageAlt;f=f===void 0?"":f;var g=a.isSticker;g=g===void 0?!1:g;var j=a.outgoing,m=a.src;a=a.width;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();n=n==="ChatTab";var o=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();o=o.blurMediaEnabled;o=c("gkx")("1581")&&o;j=g?!1:j?l.outgoing:l.incoming;f=k.jsx(d("MWPStableImage.react").MWPStableImage,{alt:f,className:(h||(h=c("stylex")))(l.root,g&&l.rootHasSticker,j),height:e!=null?(i||(i=d("I64"))).to_float(e):void 0,maxHeight:100,maxWidth:n?180:300,src:m,width:a!=null?(i||(i=d("I64"))).to_float(a):void 0});return b("cr:4509")!=null&&o&&!g?k.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:m,xstyle:[l.root,j],children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","cr:6930","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function n(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var k=(i||(i=c("useReStore")))(),n=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(g.threadKey,b,(j||(j=d("I64"))).to_string(a))},[k,g],f.id+":44"),o;n!=null&&(b("cr:6930")==null||!e?o=d("LSMediaUrl.bs").Attachment.previewUrl(n):o=b("cr:6930").getAttachmentBlobNonOptional(n.attachmentFbid));if(o!=null&&o!=="")return l.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:o,width:g.replyMediaPreviewWidth});else return l.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:m.italic,children:h._("__JHASH__kPmtZiB6viN__JHASH__")})}n.displayName=n.name+" [from "+f.id+"]";function a(a){return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(n,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometIcon.react","CometPlaceholder.react","I64","IconSource","MWRepliesImage.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:6930","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||d("react"),n={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},postBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"x18aeczl",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",height:"xpyat2d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"x1exxlbk",$$css:!0},storyBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1wkxgih",justifyContent:"xl56j7k",opacity:"x197sbye",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function o(a){var e=a.isSecureMessage,g=a.message;a=a.outgoing;var l=h._("__JHASH__bznTdd53oJN__JHASH__"),o=(j||(j=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){var a=g.replyAttachmentId,b=g.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(o.table("attachments")).getKeyRange(g.threadKey,b,(k||(k=d("I64"))).to_string(a)):d("ReQL").empty()},[o,g],f.id+":84"),q=p!=null&&p.hasXma&&e&&p.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(p!=null&&p.hasXma&&e){var r;r=(r=p.defaultCtaType)!=null?r:""}else r="";var s=new(c("IconSource"))("FB",i("1423124"),28);if(q)if(r==="xma_montage_share")return m.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",children:m.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:m.jsx(c("CometIcon.react"),{icon:s})})});else return m.jsx("div",{className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",children:m.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:m.jsx(c("CometIcon.react"),{icon:s})})});q=b("cr:6930")!=null&&e?function(a){return p!=null&&p.hasXma?a.replyAttachmentId!=null?b("cr:6930").getInfoUrlXMA(p,"preview"):void 0:a.replyAttachmentId!=null?b("cr:6930").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId)):void 0}:c("getLSMediaMessageReplyMediaUrl");r=q(g);return r!=null&&r!==""?m.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,imageAlt:h._("__JHASH__eNDXc9eUfIy__JHASH__"),outgoing:a,src:r,width:g.replyMediaPreviewWidth}):m.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:n.italic,children:l})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(o,{isSecureMessage:b,message:d,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRollcallContribution.react",["fbt","CometBlurredBackgroundImage.react","CometImageCover.react","CometPlaceholder.react","I64","Int64Hooks","LSFactory","LSIssuePointQueryForRollCallConversion","MWV2ReplyTo.react","ReQL","ReQLSuspense","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=213,o=213,p={blurredImage:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(q,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b,e=a.message;a=a.outgoing;var g=h._("__JHASH__-iobVkYmlUt__JHASH__"),l=(i||(i=c("useReStore")))(),q=(k||(k=d("I64"))).of_string((b=e.replyAttachmentExtra)!=null?b:"0"),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("roll_calls")).getKeyRange(q)},[l,q],f.id+":76"),s=e.threadKey;d("Int64Hooks").useEffectInt64(function(){r||c("promiseDone")(l.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversion")(s,q,c("LSFactory")(a))},"readwrite"))},[r,q,s,l]);b=(b=r==null?void 0:r.isBlurred)!=null?b:!1;var t=c("getLSMediaMessageReplyMediaUrl")(e),u=e.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(e.replyMediaPreviewHeight):0;e=e.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(e.replyMediaPreviewWidth):0;var v=Math.min(1,n/u),w=Math.min(1,o/e);u=Math.round(u*Math.min(v,w));e=Math.round(e*Math.min(v,w));return!c("isStringNullOrEmpty")(t)?b?m.jsx("div",{style:{height:u,width:e},children:m.jsx(c("CometBlurredBackgroundImage.react"),{src:t,xstyle:[p.blurredImage,a&&p.outgoing]})}):m.jsx("div",{className:(j||(j=c("stylex")))([p.unblurredImageContainer,a&&p.outgoing]),style:{height:u,width:e},children:m.jsx(c("CometImageCover.react"),{alt:"",src:t})}):m.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:p.italic,children:g})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.react","MWV2Sticker.react","ReQL","ReQLSuspense","cr:2472","cr:6930","cr:6931","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e,g=a.isSecureMessage;g=g===void 0?!1:g;var k=a.message;a=a.outgoing;var n=h._("__JHASH__13yhS1gywbZ__JHASH__"),o=(i||(i=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(o.table("attachments")).getKeyRange(k.threadKey,b,(j||(j=d("I64"))).to_string(a)):d("ReQL").empty()},[o,k],f.id+":59");e=(e=k.replyMessageText)!=null?e:"";e=(b("cr:2472")!=null?b("cr:2472").unvault(e):e)==="\ud83d\udc4d";if(e)if(b("cr:6931")==null)return null;else return l.jsx(b("cr:6931"),{xstyle:m.replyHotLikeSticker});e=c("getLSMediaMessageReplyMediaUrl")(k);if(e!=null&&p==null)return l.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,outgoing:a,src:e,width:k.replyMediaPreviewWidth});if(p==null)return l.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:m.italic,children:n});b("cr:6930")==null||!g?e=function(a){return d("LSMediaUrl.bs").Attachment.previewUrl(a)}:e=function(a){return b("cr:6930").getAttachmentBlobNonOptional(a.attachmentFbid)};return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MWV2Sticker.react"),{attachment:p,getPreviewUrl:e,scale:.6,xstyle:m.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","I64","MWRepliesImage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:6930","getLSMediaMessageReplyMediaUrl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:6930")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:6930").getAttachmentBlobNonOptional((j||(j=d("I64"))).to_string(a.replyAttachmentId)):null}:c("getLSMediaMessageReplyMediaUrl");e=e(f);return e==null?null:k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:k.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextTransform","MWV2ReplyTo.react","MWXMessageTextWithEntities.react","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.outgoing,f=a.text;a=j(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").replyRenderer]}},[]);var g=j(function(){return d("MWChatTextFormatting").getFormattingRanges(f)},[f]),h=b("cr:2472")==null?f:b("cr:2472").unvault(f);return i.jsx(c("MWV2ReplyTo.react"),{outgoing:e,children:i.jsx("div",{className:"xi81zsa x126k92a",children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:g,renderers:a,text:h,transforms:d("MWChatTextTransform").epdTextTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__3TzRhHHRgwV__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesVideo.react",["fbt","ix","CometImage.react","CometPlaceholder.react","I64","LSMediaUrl.bs","MWLSThreadDisplayContext","MWPStableImage.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","cr:6930","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||d("react"),n={italic:{fontStyle:"x1k4tb9n",$$css:!0},playButtonContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{position:"x1n2onr6",$$css:!0}};function o(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="ChatTab";var o=(j||(j=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(o.table("attachments")).getKeyRange(g.threadKey,b,(k||(k=d("I64"))).to_string(a))},[o,g],f.id+":69"),q;p!=null&&(b("cr:6930")==null||!e?q=d("LSMediaUrl.bs").Attachment.previewUrl(p):q=b("cr:6930").getAttachmentBlobNonOptional(p.attachmentFbid));if(q==null)return m.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:n.italic,children:h._("__JHASH__7WGJ1daCkBD__JHASH__")});e=g.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewHeight):void 0;a=g.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewWidth):void 0;var r=100;l=l?180:300;(p==null?void 0:p.previewUrlMimeType)!=null?p=m.jsx(d("MWPStableImage.react").MWPStableImage,{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e,maxHeight:r,maxWidth:l,src:q,width:a}):p=m.jsx("video",{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e!=null&&e>r?"100%":e,src:q,style:{maxHeight:r,maxWidth:l},width:a!=null&&a>l?"100%":a});return m.jsxs("div",{className:"x1n2onr6",children:[p,m.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3",children:m.jsx(c("CometImage.react"),{src:i("354763")})})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(o,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:b,message:d,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderVideo:c("MWRepliesVideo.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("I64"))).equal(a.replySourceTypeV2,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var e=c("useMWPIsMessagePinned")(a),f=d("MWPMessageAuthor.react").useAuthorName();f=f[0];var g=d("Actor").useActor();g=g[0];g=g===(i||(i=d("I64"))).to_string(a.senderId);var j=c("useMWIsReplyToAuthor")(a);return!e||g||j?a.replySnippet:b?h._("__JHASH__lpeJtmI6peT__JHASH__").toString():h._("__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",f)]).toString()}g["default"]=a}),98);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","MWEditedEyebrow.react","MWPEditMessageUtil","react","useMWReplySnippetContent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={container:{alignItems:"x6s0dn4",color:"x12scifz",display:"x78zum5",fontSize:"x1pg5gke",paddingBottom:"xg8j3zb",paddingTop:"x1nn3v0j",$$css:!0},separator:{paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,paddingStart:"x1e558r4",$$css:!0},text:{paddingStart:"x1h0ha7o",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a){a=a.replySourceType;if(a==null)return null;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)))return k.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16});else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return k.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16});return null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message;a=a.outgoing;a=c("useMWReplySnippetContent")(b,a);if(a==null||a.trim().length===0)return null;var e=d("MWPEditMessageUtil").isEditedMessage(b);return k.jsxs("div",{className:"x6s0dn4 x12scifz x78zum5 x1pg5gke xg8j3zb x1nn3v0j","data-testid":void 0,children:[k.jsx(m,{replySourceType:b==null?void 0:b.replySourceTypeV2}),k.jsx("div",{className:"x1h0ha7o",children:a}),e&&k.jsx(c("MWEditedEyebrow.react"),{hasSeparator:!0,xstyle:l.separator})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTextUtils",["MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g])}g.useRanges=a}),98);
__d("MWV2ChatText.react",["MWV2ChatTextUtils","MWXMessageListText.react","cr:2472","react","useMWTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.isSecureMessage,f=a.message;a=a.outgoing;var g=c("useMWTextRenderers")(e),h=f.text,k=j(function(){if(b("cr:2472")==null||h==null)return h;return e?b("cr:2472").unvaultOrThrow(h):b("cr:2472").unvault(h,!0)},[e,h]),l=d("MWV2ChatTextUtils").useRanges(k,f);return i.jsx(c("MWXMessageListText.react"),{message:f,outgoing:a,ranges:l,renderers:g,text:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometEntryPointPopoverTrigger.react","CometImageCover.react","I64","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWLSThread","MWPActor.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXIcon.react","MWXPressable.react","MWXTooltip.react","ReQLSuspense","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},noProfilePhoto:{width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,g=a.isCMAdmin,h=g===void 0?!1:g,k=a.isGroupThread;g=a.isLastMessageInGroup;var o=a.message;a=a.nickname;var p=d("MWPActor.react").useActor(),q=(i||(i=c("useReStore")))(),r=d("MWLSThread").useThread(o.threadKey,function(a){return a==null?void 0:a.parentThreadKey}),s=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(q,(a=r)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[q,r],f.id+":79");if(!g)return l.jsx("div",{className:"xgd8bvy"});if(o.takedownState!=null)g=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIcon.react"),{alt:m,icon:d("SVGIcon").legacySVGIcon(function(){return l.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&c("getLSMediaContactProfilePictureUrl")(e)!==""){var t;a=a!=null?a+" ("+e.name+")":e.name;var u=(t=d("LSContactBitOffset").has(77,e))!=null?t:!1;t=(t=d("LSContactBitOffset").has(84,e))!=null?t:!1;var v=l.jsx(c("CometImageCover.react"),{alt:e.name,src:c("getLSMediaContactProfilePictureUrl")(e),style:{borderRadius:"50%"}});g=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:a,children:c("qex")._("384")&&!t?l.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((e=s)!=null?e:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(p)},otherProps:{message:o},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,d,e,f,g){return k&&(!u||h)?l.jsx(c("MWXPressable.react"),{onHoverIn:e,onHoverOut:f,onPress:function(){return b()},onPressIn:g,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v}):v}}):v})}else g=l.jsx(c("MDSGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isCMAdmin;e=e===void 0?!1:e;var f=a.isGroupThread,g=a.isLastMessageInGroup;a=a.message;var h=d("MWPContactContext.react").useMWPContactStableContext(),j=h.contact;h=h.nickname;return i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:j,isCMAdmin:e,isGroupThread:f,isLastMessageInGroup:g,message:a,nickname:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","MercuryTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return k.jsxs("div",{children:[k.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(b)))])}),k.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:h._("__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometMiddot.react","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatGutterItem.react","MWChatMessageUnreadIndicator.react","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWForwardedContent.react","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageDisplayContext.react","MWMessageListAttachmentContainer.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageReactionsContainer.react","MWMessageRowActions.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPMessageFooter.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils","MWPMessagePinnedText.react","MWPMessageReactions.react","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWRepliedMessage.react","MWReplySnippet.react","MWSearchPluginUtils","MWShowMessagePromptPopoverContext.react","MWV2ChatAdminMessage.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2MessageEndOfGroupContent.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","MWV2MessageTimestampTooltip.react","MWV2ReplyError.react","MWXPressable.react","MWXText.react","QE2Logger","ReQL","asyncToGeneratorRuntime","cr:120","cr:3932","cr:5476","cr:808","deferredLoadComponent","gkx","justknobx","promiseDone","qex","react","requireDeferredForDisplay","stylex","useIsMultiReactionEnabled","useMWIsReplyToAuthor","useMWPEditMessageDeemphasizer","useMWPGetAttachments","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));a=l;e=a.memo;var n=a.startTransition,o=a.useCallback,p=a.useId,q=a.useMemo,r=a.useState,s=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRow.react")),t={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0},alignEnd:{alignItems:"xuk3077",marginEnd:"x1c0yhlu",marginLeft:null,marginRight:null,$$css:!0},emptyGutter:{width:"x51ohtg",$$css:!0},emptyGutterForTextReceipts:{width:"x1xc55vz",$$css:!0},gutter:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xw4jnvo",$$css:!0},multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0},reply:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},replyMargin:{marginBottom:"x1q5jw98",minHeight:"xvnwnnf",$$css:!0}},u=e(function(a){var e=a.hasClickState,f=e===void 0?!1:e,g=a.hasMessageEmphasisRing;e=a.isFirstMessageInGroup;var i=a.isLastMessageInGroup,k=a.isSearchPluginAttachment,l=k===void 0?!1:k,n=a.isSecureMessage,o=a.message,p=a.navigateToRouteForMediaViewer,q=a.nextMessage,r=a.offlineAttachmentId,s=a.outgoing,t=a.prevMessage,u=a.reactions,v=a.reactionsV2,w=a.renderAttachment;k=a.threadType;a=c("MWClickedMessageContext.react").useHook();var x=a.clickedMessageId,y=a.fetchMessageSeenCount,z=a.hasError,A=a.setClickedMessageId,B=(h||(h=c("useReStore")))(),C=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(k),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(o.threadKey),E=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(B.table("threads")).getKeyRange(o.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(B.table("community_folders")).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:o.messageId},community_id:(j||(j=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:j.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:j.to_string(a.threadKey)});if(x===o.messageId&&!z)return A(null);else return y(o.threadKey,o.messageId,b)})())},[B,x,o.messageId,o.threadKey,z,A,y]);return m.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:e,isLastMessageInGroup:i,isSearchPluginAttachment:l,message:o,nextMessage:q,outgoing:s,prevMessage:t,reactions:u,reactionsV2:v,renderAttachment:function(a,b,d){if(l)return null;return w!=null&&n?w(o,t,q,s):m.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:b,connectTop:a,hasEmphasisRing:g,hasText:d,message:o,navigateToRouteForMediaViewer:p,outgoing:s})},renderEmoji:function(){return m.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:g,isSecureMessage:n,message:o})},renderMessageBubble:function(a,b,d,e){return m.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:g,message:o,outgoing:s,precedesXMA:e,children:m.jsx(c("MWV2ChatText.react"),{isSecureMessage:n,message:o,outgoing:s})})},renderMessageContainer:function(a,d){var e;e=m.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:o.messageId,optimisticMessageId:(e=r)!=null?e:o.offlineThreadingId,xstyle:f?[!1]:d,children:C&&b("cr:120")?m.jsx(b("cr:120"),{message:o,children:a}):m.jsx(c("MWV2MessageTimestampTooltip.react"),{message:o,children:a})});if(f)return m.jsx(c("MWXPressable.react"),{onPress:E,overlayDisabled:!0,xstyle:d,children:e});else return e},renderMessageFooter:function(){if(D)return null;var a=v!=null&&v.length>0;return m.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:s,children:!a&&u.length<1?null:m.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:o,outgoing:s,reactions:u,reactionsV2:a?v:void 0,children:function(b,d,e,f,g){return m.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?v:void 0,threadKey:g})}})})},renderUnsentMessage:function(){return m.jsx(c("MWV2MessageTimestampTooltip.react"),{message:o,children:m.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:n,message:o,outgoing:s})})}})});function v(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return q(function(){var b=c("gkx")("571")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}var w=m.memo(c("MWPMessageRowCalculateStatus.react"));function x(a){var b=a.message,c=a.nextMessage;a=babelHelpers.objectWithoutPropertiesLoose(a,["message","nextMessage"]);return m.jsx(w,babelHelpers["extends"]({message:d("Int64Hooks").usePickInt64(b,["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2"]),nextMessage:d("Int64Hooks").usePickInt64(c,["senderId","timestampMs","isAdminMessage"])},a))}x.displayName=x.name+" [from "+f.id+"]";a=e(function(a){var e=a.domElementRef,f=a.hasMessageEmphasisRing,g=a.isCMAdmin,h=g===void 0?!1:g,l=a.isModal,q=a.isSecureMessage;g=a.lastEbMessageTime;var w=a.message,y=a.navigateToRouteForMediaViewer,z=a.nextMessage,A=a.prevMessage,B=a.renderAttachment,C=a.shouldRenderUnreadIndicator,D=a.stopHoveringRef,E=a.threadType;a=a.useReactionsV2;var aa=a===void 0?!1:a;a=(a=d("MWMessageDisplayContext.react").useMWMessageDisplayContext())!=null?a:"standard";var F=a==="standard",G=a==="pinnedMessages";a=d("MWPActor.react").useActor();var H=c("MWClickedMessageContext.react").useHook(),ba=H.clickedMessageId,I=G||d("MWPMessageParsingUtils").isStartOfGroup(w,A),J=G||d("MWPMessageParsingUtils").isEndOfGroup(w,z),ca=c("MWCMIsAnyCMThread")(E),K=d("MWCMThreadTypes.react").isBroadcastThread(E);H=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(E);var L=d("LSMessagingThreadTypeUtil").isGroup(E),da=d("LSMessagingThreadTypeUtil").isSecure(E),M=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();M=M.seenCountV2Enabled;var N=!1;if(da){var O;N=(O=c("qex")._("891"))!=null?O:!1;d("QE2Logger").logExposureForUser("messenger_armadillo_web_message_states")}else N=c("justknobx")._("1250");var P=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w.threadKey);O=!w.isUnsent&&M;var Q=O&&!H&&!d("LSMessagingThreadTypeUtil").isCMSubthread(E),R=!G&&(j||(j=d("I64"))).equal(w.senderId,a),S=z==null,T=d("MWPMessageReactions.react").useReactions(w),U=d("MWPMessageReactions.react").useReactionsV2(w),ea=P&&U.some(function(a){return(j||(j=d("I64"))).to_int32(a.count)>0});M=r(!1);var V=M[0],fa=M[1];O=r(!1);var ga=O[0],ha=O[1],ia=o(function(a){return n(function(){return ha(a)})},[ha,n]),ja=o(function(a){return n(function(){return fa(a)})},[fa,n]),ka=p();a=r(!1);var W=a[0],la=a[1],ma=!R,na=ma&&L,X=c("MWPMessageIsReply")(w),oa=(T.length>0||U.length>0)&&!P;M=c("useMWIsReplyToAuthor")(w);var pa=M||w.replySourceId==null?!1:w.replyMediaExpirationTimestampMs!=null?(j||(j=d("I64"))).gt(w.replyMediaExpirationTimestampMs,(j||(j=d("I64"))).zero):!0,qa=K&&c("gkx")("6159")||G||H||N,ra=function(a){return m.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},sa=v();O=C===!0?m.jsx(c("MWV2MessageRowSimple.react"),{children:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:m.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null;a=g!=null&&(j||(j=d("I64"))).gt(g,w.timestampMs)&&(z==null||(j||(j=d("I64"))).lt(g,z.timestampMs));M=a===!0&&b("cr:5476")?m.jsx(c("MWV2MessageRowSimple.react"),{children:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:m.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:m.jsx(b("cr:5476"),{})})})}):null;var Y,Z=c("useMWPGetAttachments")(w);C=Z.length>0;var $=C&&d("MWSearchPluginUtils").isSearchPlugin(Z[0]),ta=d("MWMessageListLoggingContext").useFlowInstanceId();g=Z.length>0&&Z[0].xmaLayoutType!=null&&(j||(j=d("I64"))).equal(Z[0].xmaLayoutType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));a=Z.length>0&&Z[0].xmaLayoutType!=null&&(j||(j=d("I64"))).equal(Z[0].xmaLayoutType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK));C=c("useMWPEditMessageDeemphasizer")();var ua=d("LSMessagingThreadTypeUtil").isCMSubthread(E)&&w.subthreadKey!=null;if(w.isAdminMessage){var va=m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:m.jsxs(c("BaseView.react"),{xstyle:[C,t.adminMessageContainer],children:[m.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:w,nextMessage:z,prevMessage:A}),m.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:w,outgoing:R,xstyle:t.adminMessageAttachment})]})});w.adminMsgCtaType==null?Y=m.jsx(c("MWV2MessageRowSimple.react"),{children:va}):Y=m.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:I?void 0:e,isDialogOpened:W,isFocused:V,isModal:l,message:w,messageDomID:ka,nextMessage:z,outgoing:R,prevMessage:A,setFocused:ja,setHovered:ia,setIsDialogOpened:la,stopHoveringRef:D,theme:sa,children:va})}else g||a?Y=m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:m.jsx(c("MWV2MessageRowSimple.react"),{children:m.jsx(c("BaseView.react"),{xstyle:C,children:m.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:w,outgoing:R,xstyle:t.adminMessageAttachment})})})}):Y=m.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:m.jsxs(m.Fragment,{children:[O,I&&F?m.jsx(c("MWV2MessageStartOfGroupContent.react"),{domElementRef:e,message:w,prevMessage:A}):null,m.jsx(x,{isBroadcastChannel:H,isBroadcastThread:K,isLargeGroup:!1,isSecureGroupThread:da&&L,message:w,nextMessage:z,children:function(a){return m.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:I?void 0:e,isDialogOpened:W,isFocused:V,isModal:l,message:w,messageDomID:ka,nextMessage:z,outgoing:R,prevMessage:A,setFocused:ja,setHovered:ia,setIsDialogOpened:la,stopHoveringRef:D,theme:sa,children:[m.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:G,isAnyCMThread:ca,isFirstMessageInGroup:I,isGroupThread:L,message:w,outgoing:R,renderForwardSnippet:function(){return m.jsx(c("MWForwardedContent.react"),{message:w,outgoing:R})},renderPinnedText:function(a,b){return F?m.jsx(c("MWPMessagePinnedText.react"),{divider:b&&m.jsx(c("CometMiddot.react"),{}),message:w}):null},renderReplySnippet:function(){return m.jsx(c("MWReplySnippet.react"),{message:w,outgoing:R})},renderTextWrapper:function(a){return m.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:G?ra:void 0}),m.jsxs(m.Fragment,{children:[I&&!na?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,X&&m.jsx("div",{className:(i||(i=c("stylex")))(t.reply,R?t.alignEnd:!1,pa?t.replyMargin:!1),role:"none",children:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:m.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return m.jsx(c("MWV2ReplyError.react"),{outgoing:R})},children:F?m.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:w,outgoing:R,children:m.jsx(c("MWRepliedMessage.react"),{isSecureMessage:q,message:w,outgoing:R})}):m.jsx(c("MWRepliedMessage.react"),{isSecureMessage:q,message:w,outgoing:R})})})}),m.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:oa,message:w,outgoing:R,renderGutterItem:function(){return qa?m.jsx("div",{className:(i||(i=c("stylex")))(N?t.emptyGutterForTextReceipts:t.emptyGutter),role:"none"}):m.jsx(c("MWChatGutterItem.react"),{errorMessage:w.subscriptErrorMessage!=null&&ca?w.subscriptErrorMessage:void 0,incoming:!1,status:a,xstyle:t.gutter})},renderMessageActions:function(){return F?m.jsx(c("MWMessageRowActions.react"),{ariaHidden:l===!1,focused:V||W||l,hasReactions:oa,hovered:ga,message:w,outgoing:R,shouldHideHoverMenuReact:ea,threadType:E}):G?m.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!ga&&!V,message:w}):null},renderMultiReactions:function(){if(w.isUnsent)return null;var a=U!=null&&U.length>0;return!P||!a?null:m.jsx("div",{className:(i||(i=c("stylex")))(t.multiReactContainer,R?t.multiReactContainerOutgoing:!1),children:m.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:w,outgoing:R,reactions:T,reactionsV2:U,children:function(a,b,d,e,f,g){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(s,{emojis:a,message:e,onOpenDialog:g,outgoing:R,reactionsV2:U})})}})})},renderProfile:function(){return m.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:L?!l:!0,isCMAdmin:h,isGroupThread:L,isLastMessageInGroup:J,message:w})},children:m.jsxs(c("CometErrorBoundary.react"),{fallback:function(a){return m.jsx(c("MWV2ChatErrorBubble.react"),{isReply:X})},children:[m.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:Z,message:w,children:G?m.jsx(u,{hasClickState:Q,hasMessageEmphasisRing:f,isFirstMessageInGroup:I,isLastMessageInGroup:J,isSearchPluginAttachment:$,isSecureMessage:q,message:w,nextMessage:z,offlineAttachmentId:Z&&Z.length>0?Z[0].offlineAttachmentId:null,outgoing:R,prevMessage:A,reactions:T,reactionsV2:aa?U:void 0,renderAttachment:B,threadType:E}):m.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:X,message:w,outgoing:R,children:m.jsx(u,{hasClickState:Q,hasMessageEmphasisRing:f,isFirstMessageInGroup:I,isLastMessageInGroup:J,isSearchPluginAttachment:$,isSecureMessage:q,message:w,navigateToRouteForMediaViewer:y,nextMessage:z,offlineAttachmentId:Z&&Z.length>0?Z[0].offlineAttachmentId:null,outgoing:R,prevMessage:A,reactions:T,reactionsV2:aa?U:void 0,renderAttachment:B,threadType:E})})}),$&&m.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:Z[0],botResponseId:w.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRow.react"),flowInstanceId:ta.current})]})}),m.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:S,isOutgoing:R,isPinnedMessageList:G,message:w}),m.jsx(c("MWMustacheText"),{message:w,outgoing:R}),m.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:z}),Q&&ba===w.messageId?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):J&&!N?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):J&&!S?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null]}),F?m.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:w,nextMessage:z,showContent:Q||d("MWMessageDeliveryStatus").isAlwaysShownStatus(a)&&N,children:function(){return m.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:Q&&ma,hasTextBasedMessageReceipts:N,isLastMessage:S,isOutgoing:R,isTextOnly:K,message:w,status:a})}}):null]})}}),I&&F&&ua&&w.subthreadKey!=null&&b("cr:808")!=null?m.jsx(b("cr:808"),{domElementRef:e,message:w,nextMessage:z,subthreadKey:w.subthreadKey}):null]})});return m.jsxs(m.Fragment,{children:[Y,M,b("cr:3932")==null?null:m.jsx(b("cr:3932"),{})]})});g.MessageComponent=u;g.useTheme=v;g.MWMessageRow=a}),98);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getThreadBannerQuery(b,a)},[b,a],f.id+":31"),g=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(b,a)},[b,a],f.id+":36");return{banner:e,pwSettings:g}}g["default"]=a}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.banner,c=a.ignoreDismissTime,e=a.isPWDismissTimeSet,f=a.pwSettings,g=a.threadKey;return d("Int64Hooks").useMemoInt64(function(){if(f==null||b==null)return;var a=f.context,i=f.entryPoint,j=f.storyLocation,k=f.suspectId,l=f.tag,m=b.bannerId,n=b.cta1Title,o=b.cta2Title,p=b.heading,q=b.titleSectionOne;if(!((Boolean(c)||e)&&(h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).of_string("7"))))return;if(k!=null&&a!=null&&j!=null&&i!=null&&l!=null&&p!=null&&o!=null&&n!=null&&q!=null)return{context:a,cta1Title:n,cta2Title:o,description:q,falco_event_data:{data:{entry_point:(h||(h=d("I64"))).to_int32(i),feedback_tags:[l],surface:h.to_int32(j)},impersonatedUser:{id:0},otherUser:{id:h.to_int32(k)},reportedUser:{id:0},thread:{id:h.to_string(g),type:1}},header:p,threadKey:g}},[g,b,f,e,c])}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useMWLSProactiveWarningTables")(),g=f.banner;f=f.pwSettings;b=b!=null&&(h||(h=d("I64"))).equal((b=b.proactiveWarningDismissTime)!=null?b:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero);return c("useMWProactiveWarningPayloadMemo")({banner:g,ignoreDismissTime:a,isPWDismissTimeSet:b,pwSettings:f,threadKey:e})}g["default"]=a}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWXTooltip.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mask:{backgroundColor:"xcrg951",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=c("useMWPThreadTheme")(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,d("MWPThreadThemeGradientUtils").isGradient(f)?k.mask:!1),"data-testid":void 0,children:j.jsx("div",{className:h([k.singleSeenHeadRow,a]),children:j.jsx(c("MWXTooltip.react"),{align:g==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:j.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("MWChatFilePreProcessingErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return{body:a===75?h._("__JHASH__tncNGvtAhMp__JHASH__"):h._("__JHASH__BNDx1mX2nlz__JHASH__"),title:h._("__JHASH__GVmFuh2jycz__JHASH__")}};g.maxFileSizeExceeded=a}),98);
__d("MDBCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169,KEEP_EDITING_BUTTON_TAPPED:170,THREAD_TOMBSTONE_IMPRESSION:171,VIEW_PAGE_STATUS_PRESSED:172,FIRST_CREATE_FULLSCREEN_NUX_RENDERED:173,FIRST_CREATE_FULLSCREEN_NUX_TAPPED:174,DIRECTORY_SEARCH_NULLSTATE_IMPRESSION:175,DIRECTORY_PEOPLE_TAB_IMPRESSION:176,DIRECTORY_OPEN:177,DIRECTORY_FEED_QP_IMPRESSION:178,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:179,SHARE_BUTTON_ON_THREAD_HEADER:180,DIRECTORY_FEED_SEE_ALL_TAPPED:181,CHANNELS_WAITLIST_RENDERED:182,REQUEST_ACCESS_ATTEMPT:183,LEARN_MORE_TAPPED:184,REQUEST_ACCESS_SUCCESS:185,CHANNELS_SURVERY_RENDERED:186,SUBMIT_SURVEY_ATTEMPT:187,SUBMIT_SURVEY_SUCCESS:188,ALREADY_REGISTERED_VIEW_RENDERED:189,NOT_ELIGIBLE_VIEW_RENDERED:190,LOGGED_OUT_VIEW_RENDERED:191,DISCOVER_CHANNELS_TAPPED:192,CHANNELS_WAITLIST_ACCOUNT_SWITCH_RENDERED:193,WAITLIST_ACCOUNT_SWITCH_ATTEMPT:194,ALREADY_HAS_ACCESS_VIEW_RENDERED:195,MBS_CHANNELS_TAB_IMPRESSION:196,MBS_CHANNELS_TAB_TAPPED:197,MBS_CHANNELS_ENTRYPOINT_BUTTON_IMPRESSION:198,MBS_CHANNELS_ENTRYPOINT_BUTTON_TAPPED:199,WEB_SUBSCRIBE_TO_THREAD_CREATION_STATUS_TABLE:200,WEB_THREAD_CREATION_STATUS_PENDING:201,WEB_SUBSCRIBE_TO_THREADS_TABLE_DURING_CREATE:202,WEB_THREAD_CREATED_WAITING_FOR_THREAD_LINK:203,JOIN_CHAT_NUX_CONFIRM:204,JOIN_CHAT_NUX_CANCEL:205,JOIN_CHAT_NUX_RENDERED:206,MUTE_ON_LEAVE_DIALOG_RENDERED:207,DIRECTORY_FEED_QP_PREVIEW_TAPPED:208,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:209,INVITED_CHANNELS_SCREEN_IMPRESSION:210});c=a;f["default"]=c}),66);
__d("MWLogBroadcastChannelFalcoEvent",["I64","emptyFunction","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),j=new Set([4,119]),k=5*60*1e3,l=null,m=null;function a(a){if(a.current)return c("emptyFunction");a.current=!0;return function(a){return n(a)}}function n(a){var b=a.action,e=b===void 0?1:b,f=a.clientExtras,g=a.event;b=a.parentSurface;var n=b===void 0?3:b,o=a.source,p=a.surface,q=a.threadFbid,r=a.recipientId;i.onReady(function(a){var b=Date.now();(l==null||m!=null&&b-m>k||j.has(g))&&(l=c("uuidv4")());m=b;a.log(function(){return{action:e,action_name:e,event:g,event_name:g,extra:f,parent_surface:n,parent_surface_name:n,recipient_id:r,session_id:l,source:o,source_name:o,surface:p,surface_name:p,thread_id:q!=null?(h||(h=d("I64"))).to_string(q):void 0}})})}g.useLogBroadcastChannelFalcoEventWithRef=a;g.logBroadcastChannelFalcoEvent=n}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWLSThread","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useMemo,l=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}},m={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=a.editor,f=a.isAiBotMentionsEnabled,g=a.participants,h=a.threadFBID,n=l((i||(i=d("I64"))).of_string(h));a=k(function(){return{isAiBotMentionsEnabled:f,participants:g,threadFBID:h,triggerParticipantsSearch:n}},[f,g,h,n]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var o=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view}),p=d("MWLSThread").useThreadExn(i.of_string(h)),q=c("useCommunityFolder")(p);d("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(e,p.threadKey,f);if(b("cr:2600")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(p.threadType)&&q||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(p.threadType))){var r;return j.jsx(b("cr:2600"),{editor:e,fbGroupId:(r=q==null?void 0:q.fbGroupId)!=null?r:p.threadKey,folderId:(r=q==null?void 0:q.folderId)!=null?r:p.threadKey,threadFBID:h})}else return j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","I64","LSMessagingThreadTypeUtil","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","MWLSThread","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","cr:7192","gkx","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useMemo,n=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),o=c("gkx")("6943"),p={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginLeft:null,marginRight:null,marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl",$$css:!0}},q=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,i=a.handlePastedFiles,r=a.isAiBotMentionsEnabled,s=a.isSecureThread,t=a.participants,u=a.placeholderText;u=u===void 0?"Aa":u;var v=a.policyProduct,w=a.startContent,x=a.style,y=a.surface,z=a.testId,A=a.threadID,B=a.topContent;a=a.useMentionsPlugin;var C=d("MWLSThread").useThread((j||(j=d("I64"))).of_string(A),function(a){return a.threadSubtype}),D=l(function(a){a=(a=a)!=null?a:null;if(!o){var b=f.current;if(a==null||b===a)return}f.current=a;g.setRootElement(a)},[f,g]),E=d("LexicalComposerContext").createLexicalComposerContext(),F=m(function(){return[g,E]},[g,E]);e=k.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:q,contentEditableRef:D,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:z,xstyle:p.editor});D=k.jsx(c("CometLexicalPlaceholder.react"),{children:u});z=!(d("LSMessagingThreadTypeUtil").isPageToUserThread(C)&&b("cr:7192"))&&!Boolean(s);u=c("useDeferredModuleOnReady")(n);return k.jsxs("div",{className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 x1iyjqo2 xeuugli",style:x,children:[k.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:v,surface:y}),B,k.jsxs("div",{className:"x78zum5 x1a02dak x13a6bvl",children:[w,k.jsx("div",{className:"x78zum5 x1iyjqo2 x1gja9t x16n37ib x1xmf6yo x1e56ztr xeuugli x1n2onr6",children:k.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:F,children:[k.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:e,placeholder:D}),k.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}),h]}),a&&k.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,isAiBotMentionsEnabled:r,participants:t,threadFBID:A}),z&&b("cr:1948")!=null&&k.jsx(b("cr:1948"),{editor:g}),d("LSMessagingThreadTypeUtil").isPageToUserThread(C)&&b("cr:7192")&&k.jsx(b("cr:7192"),{editor:g}),u==null?null:k.jsx(u,{editor:g,handlePastedFiles:i})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMMentionsDataSourceResolverConfig",["I64","Int64Hooks","LSClearCommunityMembersAndRangeStoredProcedure","LSFactory","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","Promise","asyncToGeneratorRuntime","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","pageID","promiseDone","react","useCometMentionsDataSourceResolverConfig","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useMemo,m=e.useRef;function a(a,e,f){var g=(i||(i=c("useReStore")))(),k=m(null),n=m([]),o=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield g.runInTransaction(function(a){return c("LSClearCommunityMembersAndRangeStoredProcedure")(c("LSFactory")(a),{requestId:c("pageID"),source:(j||(j=d("I64"))).of_int32(8)})},"readwrite"),yield g.runInTransaction(function(f){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(f),{communityId:a,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(j||(j=d("I64"))).zero,nextPageCursor:"",requestId:c("pageID"),roles:c("LSVec").ofArray([j.of_int32(0)]),searchText:b,source:j.of_int32(8),threadKey:e,threadRoles:c("LSVec").ofArray([])})},"readwrite")});return function(a){return f.apply(this,arguments)}}(),[g,a,e]),p=l(function(){return[{dataSource:{bootstrap:function(){},fetchCache:function(){return{entries:[],params:{query:""}}},fetchNetwork:function(a){return new(h||(h=b("Promise")))(function(b){(a.query!==k.current||a.query===""&&k.current!=="")&&(k.current=a.query,c("promiseDone")(o(k.current))),f.length!==0&&(n.current=f),b({entries:f.length===0?n.current:f,params:a})})}},matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[f,o]);return c("useCometMentionsDataSourceResolverConfig")(p,!1)}g["default"]=a}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWChatComposerMentionsViewItem.react","ReQL","ReQLSuspense","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","useCometTypeaheadViewListStrategy","useCommunityMembers","useMWCMMentionsDataSourceResolverConfig","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useEffect,m={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var b=a.editor,e=a.fbGroupId,g=a.folderId;a=a.threadFBID;var j=(h||(h=c("useReStore")))(),n=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(j.table("community_members").index("communitySource")).getKeyRange(e,(i||(i=d("I64"))).of_int32(8),c("pageID")).take(6).map(function(a){var b,c;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.table("contextual_profile_v1")).getKeyRange(a.contactId,g),f.id+":57"))==null?void 0:b.profileName;return{key:(i||(i=d("I64"))).to_string(a.contactId),label:(c=b)!=null?c:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:b!=null?a.name:a.subtitle},type:"entry"}})},[j,e,g]);a=c("useMWCMMentionsDataSourceResolverConfig")(e,(i||(i=d("I64"))).of_string(a),n);n=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view});var o=d("useCommunityMembers").useClearMemberList(8);l(function(){return function(){c("promiseDone")(o(c("pageID")))}},[o]);return k.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.createElement,n=b.useCallback,o=b.useRef,p=e({current:{enabled:!0,handler:null}});function q(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return m(p.Provider,{children:b,value:a})}var r={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function s(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function t(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function u(a,b){var d=t(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite"))}function v(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var w=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var k=o({enabled:!1,handler:null}),m=o(null),p=(i||(i=c("useReStore")))(),t=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(56,g):!1;g=!c("gkx")("1835569");var x=e===!0||g||t;e=function(a){var b;return((b=k.current)==null?void 0:b.handler)==null?!1:!s(a).some(function(a){return w.has(a)})};g=c("useFileDragEvents")(function(){return!1},void 0,e);e=n(function(a){var b;if(((b=k.current)==null?void 0:b.enabled)===!1)return;b=(b=k.current)==null?void 0:b.handler;if(b==null){if(!t){var d=k.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(v):d;d.length!==a.length&&u(p,d.length);!x&&a.length!==0&&b(a)},[f,x,t,p]);c("useFileDragEvents")(e,m.current,function(a){return!0});return l.jsxs("div",{className:(j||(j=c("stylex")))(r.root,(e=a)!=null?e:!1),ref:m,children:[l.jsx(q,{fileUploadHandlerConfigRef:k,children:b}),!x&&g?l.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:l.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=p;g.MWV2FileDropzone=a}),98);
__d("MWV2ComposerEditView.react",["fbt","ix","CometErrorBoundary.react","MAWEditMessageContext.react","MWXIcon.react","MWXText.react","fbicon","logMAWEditMessage","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=a.actorID,e=a.threadKey,f=a.threadType;a=l(d("MAWEditMessageContext.react").Context);var g=a.setEditMessageData,j=h._("__JHASH__36XeYdlCuO8__JHASH__");return k.jsxs("div",{className:"x1cy8zhl xcrg951 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o xqy66fx","data-testid":void 0,children:[k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWXText.react"),{type:"body4",children:j})},children:k.jsx(c("MWXText.react"),{type:"body4",children:j})}),k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__NFQuJJERXoJ__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){g(null),c("logMAWEditMessage")(f,e,b,92)}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEditContainer.react",["fbt","ix","CometComponentWithKeyCommands.react","CometTextArea.react","LSMessagingThreadTypeUtil","MAWEditMessageContext.react","MAWVault","MWPActor.react","MWPEditMessageUtil","MWV2ComposerEditView.react","MWXIcon.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","ReQL","ReQLSuspense","emptyFunction","fbicon","logMAWEditMessage","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useState;function a(a){var b,e=a.editMessageData,g=a.threadType,k=(j||(j=c("useReStore")))();a=m(d("MAWEditMessageContext.react").Context);var o=a.setEditMessageData,p=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.table("messages")).getKeyRange(e==null?void 0:e.threadKey,e==null?void 0:e.timestampMs,e==null?void 0:e.messageId)},[k,e==null?void 0:e.messageId,e==null?void 0:e.threadKey,e==null?void 0:e.timestampMs],f.id+":48");b=n(d("MAWVault").unvault((b=a==null?void 0:a.text)!=null?b:""));var q=b[0],r=b[1],s=d("MWPEditMessageUtil").useGetSendEditActionforOpen();a=d("MAWVault").unvault((b=a==null?void 0:a.text)!=null?b:"").trim();var t=q.trim(),u=t.length!==0&&t!==a;b=function(){if(e!=null&&!u)return;d("LSMessagingThreadTypeUtil").isSecure(g)?c("emptyFunction")():s(e.messageId,t);c("logMAWEditMessage")(g,e.threadKey,p,90);o(null)};a=d("MWPEditMessageUtil").useEditMessageButtonKeyCommands(b);var v=h._("__JHASH__645ugDJYeSD__JHASH__");return l.jsxs(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,children:[l.jsx(c("MWV2ComposerEditView.react"),{actorID:p,threadKey:e.threadKey,threadType:g}),l.jsxs(c("MWXRow.react"),{paddingVertical:12,children:[l.jsx(c("MWXRowItem.react"),{expanding:!0,children:l.jsx(c("CometTextArea.react"),{expandable:!0,label:v,labelIsHidden:!0,maxRows:6,onChange:function(a){r(a.target.value)},rows:1,style:{backgroundColor:"var(--comment-background)",backgroundImage:"none",border:"0px",borderRadius:"20px",fontWeight:"400"},testid:void 0,value:q})}),l.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:l.jsx(c("MWXPressable.react"),{disabled:!u,label:v,onPress:b,testid:void 0,children:l.jsx(c("MWXIcon.react"),{color:u?"blueLink":"disabled",icon:d("fbicon")._(i("498145"),16),size:24})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWCMIsAnyCMThread","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon.react","MWXText.react","MWXTextPairing.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","cr:6796","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useContext,p=e.useEffect;function q(a,e,f){var g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&((l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");if(a.text!=null&&a.text!==""){return n.jsx(c("MWChatReplyText.react"),{isHotLike:g,text:(e=a.text)!=null?e:h._("__JHASH__C1Hm6KH3mNE__JHASH__")})}if(f!=null){if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");return(l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function r(a,b,d,e){if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",n.jsx(c("MWXText.react"),{type:"headlineEmphasized5",children:e?b.name:(e=(a=d)!=null?a:b.firstName)!=null?e:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")])}function s(a){var b=a.isSecureThread,e=a.message;a=a.useContactFullname;var g=(j||(j=c("useReStore")))(),h=d("MWPActor.react").useActor(),i=(l||(l=d("I64"))).equal(e.senderId,h),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e.senderId)},[g,e.senderId],f.id+":217");h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(e.threadKey,e.messageId)},[g,e.messageId,e.threadKey],f.id+":223");var m=d("ReQLSuspense").useFirst(function(){return k!=null&&!i?d("ReQL").fromTableAscending(g.table("threads")).getKeyRange(e.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;return!c("MWCMIsAnyCMThread")(a)?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("community_folders")).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a,k.id).map(function(a){return a.profileName}),f.id+":245")}),f.id+":241")}):d("ReQL").empty()},[g,e.threadKey,k,i],f.id+":232");p(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}})},[]);b=q(e,b,h);h=r(i,k,m,a);return n.jsx("div",{className:"xmo9yow",children:n.jsx(c("MWXTextPairing.react"),{body:b,headline:h,level:4})})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var e=a.isSecureThread;e=e===void 0?!1:e;var f=a.message;a=a.useContactFullname;var g=o(d("MWPReplyContext.react").MWPReplyContext),j=g.clearReply,k=o(c("CometTriggerAccessibilityAlertContext"));g=(g=b("cr:6796")(!0))==null?void 0:g.backgroundColor;return n.jsxs("div",{className:"x1cy8zhl xcrg951 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,style:g!=null?{backgroundColor:g}:void 0,children:[n.jsx(c("CometErrorBoundary.react"),{fallback:function(){return n.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:n.jsx(s,{isSecureThread:e,message:f,useContactFullname:a})}),n.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){j(f.threadKey,!0),k(h._("__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}})]})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp,g=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var h=(j||(j=c("useReStore")))(),i=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("messages")).getKeyRange(g.threadKey,e,b)},[h,g.threadKey,b,e],f.id+":349");if(k!=null)return n.jsx(t,{isSecureThread:i,message:k,useContactFullname:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerReplyViewContainer=t;g.MWV2ComposerReplyView=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"};function y(a,d,e){a===void 0&&(a=60);d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=c("emptyFunction"));var f=n(w,x),g=f[0],i=f[1],j=c("useIsMountedRef")(),k=o(),p=o([]),q=o([]),r=o(),s=o(),t=o(),u=o(),v=o(c("emptyFunction")),y=l(function(a){var b=a[0],c=a[1];if(!j.current)return;a=URL.createObjectURL(b);t.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){s.current=d;var a=d.duration;i({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};u.current=a;v.current(a)});d.addEventListener("timeupdate",function(){var a;a=(a=s.current)==null?void 0:a.currentTime;a!=null&&i({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=s.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&i({duration:a,type:"UpdateDuration"})})},[j]),z=l(function(){if(k.current==null||r.current==null)return;r.current.postMessage({buffersL:p.current,buffersR:q.current,sampleRate:k.current})},[]);m(function(){if(g.stage!=="Recording")return;p.current=[];q.current=[];var a=c("AudioContextSingleton").get(),b=a.destination;k.current=a.sampleRate;var e=g.mediaStream,f=a.createScriptProcessor(4096,2,2);a=a.createMediaStreamSource(e);r.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(y).setAllowCrossPageTransition(!0).execute();var h=function(a){g.stage==="Recording"&&a instanceof AudioProcessingEvent&&(p.current.push(a.inputBuffer.getChannelData(0).slice()),q.current.push(a.inputBuffer.getChannelData(1).slice()))};f.addEventListener("audioprocess",h);a.connect(f);f.connect(b);d();return function(){e.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),f.removeEventListener("audioprocess",h)}},[y,d,g.stage,g.mediaStream]);var A=c("usePrevious")(g);m(function(){(A==null?void 0:A.stage)==="Recording"&&g.stage==="Recorded"&&z()},[A==null?void 0:A.stage,z,g.stage]);m(function(){if(g.stage!=="Recording")return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a){i({recordingTimeout:a,type:"RecordingTimeout"});return}i({duration:f,type:"UpdateDuration"});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[a,g.stage]);f=l(function(b){i({mediaStream:b,recordingTimeout:a,type:"Start"})},[a]);var B=l(function(){var a;i({type:"Reset"});(a=s.current)==null?void 0:a.pause();s.current=void 0;u.current=void 0;k.current=void 0;a=t.current;a!=null&&(URL.revokeObjectURL(a),t.current=void 0)},[]),C=l(function(){var a=function(){i({type:"Toggle"})},b=s.current;if(b==null){a();return}switch(g.stage){case"Unopen":case"Recording":a();break;case"Recorded":b.play().then(a)["catch"](e);break;case"Playing":b.pause();a();break}},[e,g.stage]),D=l(function(){return new(h||(h=b("Promise")))(function(a){var b=u.current;if(b!=null)return a(b);v.current=a;if(g.stage==="Recording")return C()})},[g,C]);return{audioEl:s,getVoiceClip:D,reset:B,start:f,state:g,toggle:C}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=y}),98);
__d("MWAudioRecorder.react",["MWAudioPlayer.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPThreadThemeGradientUtils","MWPUseVoiceRecorder","react","requireDeferred","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){var b;a=a.voiceRecorder;var e=a.audioEl,f=a.state,g=a.toggle;a=c("useMWPThreadTheme")();a=d("MWPThreadThemeGradientUtils").getBottomGradientColor(a);var i=k(),m=d("MWPAudioPlayerUtils").useResetHighlightProgress(i),n=(b=d("MWPUseVoiceRecorder")).hasScrubber(f),o=function(){g();switch(f.stage){case"Unopen":return;case"Recording":l.onReady(function(a){return a.logClickStopRecording(0)});return;case"Recorded":var a=f.currentTime,b=f.duration;a===0?l.onReady(function(a){return a.logPlaybackStart(b)}):l.onReady(function(c){return c.logPlaybackResume(b,a)});return;case"Playing":var c=f.currentTime,d=f.duration;l.onReady(function(a){return a.logPlaybackPause(d,c)});return}};b=d("MWPAudioPlayerUtils").useProgressLiveUpdate(b.getDuration(f),e,b.getCurrentTime(f),b.isProgressing(f),!1,b.isCompleted(f));var p=d("MWAudioPlayer.react").useHighlightStyles(!0),q=function(){switch(f.stage){case"Unopen":case"Recording":return null;case"Recorded":case"Playing":return j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:f.currentTime,duration:f.duration})}}();return j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:e,hasScrubber:n,scrubberRef:i,style:{backgroundColor:a,borderRadius:"18px"},testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:e,children:[j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:b,xstyle:p}),q,j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:i,xstyle:p}),j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),onMouseMove:n?m:void 0,children:j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:d("MWPUseVoiceRecorder").getPlaybackIcon(f,a),label:d("MWPUseVoiceRecorder").getPlaybackLabel(f),onPress:o})}),j.jsx(c("MWPAudioPlayerTimer.react"),{time:d("MWPUseVoiceRecorder").getTimerTime(f)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UseMWV2ComposerOnPressVoiceClip",["$InternalEnum","BrowserFeatureInstrumentation","JSResourceForInteraction","emptyFunction","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=c("requireDeferred")("MWChatAudioLog").__setRef("UseMWV2ComposerOnPressVoiceClip"),k=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=i(k.AWAITING),d=b[0],e=b[1];b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("UseMWV2ComposerOnPressVoiceClip"));var f=b[0],g=function(){return f({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},h=function(){var b;c("BrowserFeatureInstrumentation")("microphone","MWV2ComposerPlusButton");(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:!0,video:!1}).then(function(b){e(k.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(e(k.DENIED),g()):e(k.FAILED),j.onReady(function(a){return a.logBrowserDenyAccess()})})},l=function(){return f({contentType:"askForAccess",onAllow:function(){return h()}},c("emptyFunction"))};return function(){var a;switch(d){case k.AWAITING:a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;switch(a){case"denied":e(k.DENIED);g();break;case"granted":h();break;case"prompt":l();break;default:l()}})["catch"](function(){l()}):(h(),j.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case k.DENIED:return g();case k.GRANTED:case k.FAILED:return h()}}}g.useOnPressVoiceClip=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","UseMWV2ComposerOnPressVoiceClip","emptyFunction","gkx","isStickerEnabled","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useState,m=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),n={plusButtonFDS:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.canSendAudioClip,e=a.canSendFile,f=a.canSendPayment,g=a.color,i=a.editor,o=a.hasAudioClipsCapability,p=a.hasGIFCapability,q=a.hasPaymentCapability,r=a.hasPollCreationCapability,s=a.hasRollcallCapability,t=a.hasStickerCapability,u=a.isInputExpanded,v=a.isSecureThread,w=a.onAttachmentsAdded,x=a.onSendMessage,y=a.renderExtraOverflowMenuItems,z=a.supportedFileTypes,A=a.threadKey,B=a.threadType,C=a.voiceRecorder,D=c("emptyFunction");a=l(!1);var E=a[0],F=a[1];a=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(B);B=function(a){return F(a)};v=c("isStickerEnabled")()&&v;q=q&&!c("gkx")("1787591")&&f;f=r&&(!a||c("gkx")("5181"));r=o&&!c("gkx")("1787585")&&b;a=p&&!c("gkx")("1787594")&&u;o=e&&u;b=!c("gkx")("1787596")&&(t||v)&&u;p=c("gkx")("358");e=c("gkx")("4931");t=k(function(){if(y!=null)return y(g,D,w);else return[]},[y,g,D,w]);v=d("UseMWV2ComposerOnPressVoiceClip").useOnPressVoiceClip(C);var G=C.state.stage!=="Unopen",H=G?h._("__JHASH__gaxHiFwvIGk__JHASH__"):E?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__"),I=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();u=q||f||r||a||o||b||p||e||s||t.length>0;var J=!u;return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:B,popoverProps:{color:g,editor:i,extraItems:t,onAttachmentsAdded:w,onClose:D,onPressVoiceClip:v,onSendMessage:x,showCreatePoll:f,showCreatePrompt:s,showFile:o,showGenAICreate:p,showGenAICreateVideo:e,showGif:a,showPayment:q,showSendVoiceClip:r,showSticker:b,supportedFileTypes:z,threadKey:A},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,h,i){return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:H,children:j.jsx(c("MWXPressable.react"),{"aria-label":H,disabled:J,onHoverIn:f,onHoverOut:h,onPress:function(){if(G){C.reset();m.onReady(function(a){return a.logDeleteRecording()});I==null?void 0:I({eventName:"composer_close_audio_recorder"});return}else I==null?void 0:I({eventName:"composer_open_overflow_menu"}),b()},onPressIn:i,overlayDisabled:J,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?n.plusButtonMDS:n.plusButtonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:J?void 0:g,isRotated:G,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(36,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWReQLComposerPlusButton.react",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWV2ComposerPlusButton.react","react","useMWHasPollsCreationEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,h=a.color,j=a.editor,k=a.isInputExpanded,l=a.onAttachmentsAdded,m=a.onSendMessage,n=a.renderExtraOverflowMenuItems,o=a.supportedFileTypes,p=a.thread;a=a.voiceRecorder;var q=c("useMWHasPollsCreationEnabled")(p.threadKey);b={hasAudioClipsCapability:(b=d("LSThreadBitOffset")).has(14,p),hasGIFCapability:b.has(4,p),hasPaymentCapability:b.has(0,p),hasPollCreationCapability:q,hasRollcallCapability:b.has(152,p),hasStickerCapability:b.has(3,p)};return i.jsx(c("MWV2ComposerPlusButton.react"),babelHelpers["extends"]({canSendAudioClip:e,canSendFile:f,canSendPayment:g,color:h,editor:j,hasPollCreationCapability:q,isInputExpanded:k,isSecureThread:d("LSMessagingThreadTypeUtil").isSecure(p.threadType),onAttachmentsAdded:l,onSendMessage:m,renderExtraOverflowMenuItems:n,supportedFileTypes:o,threadKey:p.threadKey,threadType:p.threadType,voiceRecorder:a},b))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","CometEmoji.react","EmojiRenderer","I64","LSHotEmojiSize","LSIntEnum","MWLikeSvgIcon.react","MWXPressable.react","MWXTooltip.react","StickerConstants","gkx","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m={customEmojiButtonFDS:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingLeft:null,paddingRight:null,paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingLeft:null,paddingRight:null,paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},fillGrey:{fill:"xsrhx6k",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=h._("__JHASH__OzQk4bc7gK8__JHASH__"),o=(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL),p=(k||(k=d("I64"))).of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID);function a(a){var b=a.color,e=a.customEmoji,f=a.disabled;f=f===void 0?!1:f;var g=a.onSendMessage;a=function(){!c("isStringNullOrEmpty")(e)?g(e,void 0,void 0,o,void 0,void 0,void 0,void 0,void 0,void 0):g(void 0,void 0,p,o,void 0,void 0,void 0,void 0,void 0,void 0)};if(!c("isStringNullOrEmpty")(e)){var i=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",e)]),j=function(a){var b=d("EmojiRenderer").parse(e).map(function(a){return a.emoji});if(b.length!==1)return l.jsx("span",{children:e});b=b[0];return l.jsx(c("CometEmoji.react"),{emoji:b,size:a})},k=h._("__JHASH__7OvMJwHRigG__JHASH__");k=l.jsxs(l.Fragment,{children:[l.jsxs("span",{children:[k," "]}),j(16)]});return l.jsx(c("MWXTooltip.react"),{align:"middle",label:n,position:"above",tooltip:k,children:l.jsx(c("MWXPressable.react"),{"aria-label":i,disabled:f,onPress:a,overlayDisabled:f,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?m.customEmojiButtonMDS:m.customEmojiButtonFDS]},children:j(20)})})}return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:n,children:l.jsx(c("MWXPressable.react"),{"aria-label":n,disabled:f,onPress:a,overlayDisabled:f,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?m.hotlikeButtonMDS:m.hotlikeButtonFDS]},children:l.jsx(c("MWLikeSvgIcon.react"),{className:"xsrhx6k",color:b,size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._("__JHASH__HXazdxq92Fj__JHASH__"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function a(a){var e=a.color,f=a.editor;a=function(a){c("promiseDone")(n.load().then(function(c){c(a,f,16);return(i||(i=b("Promise"))).resolve()}))};var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),children:function(a,b,f,h,i,j,o){return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{"aria-label":l,onHoverIn:h,onHoverOut:i,onPress:function(a){b(),n.preload(),g==null?void 0:g({eventName:"composer_open_emoji_picker"})},onPressIn:j,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?m.buttonMDS:m.buttonFDS]},children:k.jsx(d("MWChatComposerIcons").MWChatComposerIconsEmoji,{fill:e,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerFileButton.react",["fbt","CometFileSelector.react","MWChatComposerIcons","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=h._("__JHASH__irWVZkNfl97__JHASH__");function a(a){var b=a.color,e=a.disabled,f=a.onAttachmentsAdded;a=a.supportedFileTypes;f=c("useMWV2ComposerOnFilesSelected")(f);var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return j.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:f,children:function(a){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:j.jsx(c("MWXPressable.react"),{"aria-label":l,disabled:e,onPress:function(){a(),g==null?void 0:g({eventName:"composer_open_file_picker"})},overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsPhoto,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),l={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},m=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=a.color,e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a);var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:f,onSelect:a,testid:"mw_gif_picker"},popoverResource:k,position:"above",children:function(a,f,h,i,k,n,o){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:j.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:e,onHoverIn:i,onHoverOut:k,onPress:function(){f(),g==null?void 0:g({eventName:"composer_open_gif_picker"})},onPressIn:n,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?l.buttonMDS:l.buttonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsGif,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIcon.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStagingItem.react",["fbt","ix","CometImageCover.react","I64","LSIntEnum","MWChatFileIcon.react","MWV2ComposerMediaProgressBar.react","MWXCircleButton.react","MWXIconCross","MWXImage.react","MWXText.react","MessagingAttachmentType","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=k||(k=d("react")),o=k.useCallback,p={button:{end:"xoo4vsp",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},file:{alignItems:"x6s0dn4",display:"x78zum5",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",userSelect:"x87ps6o",$$css:!0},fileContainer:{width:"x2pejg6",$$css:!0},fileContent:{flexGrow:"x1iyjqo2",$$css:!0},filePreviewContainer:{backgroundColor:"x1vtvx1t",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},playIcon:{marginStart:"x16hk5td",marginLeft:null,marginRight:null,marginTop:"x7wgvq7",position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,top:"xwa60dl",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0},video:{objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=o(function(){return e(b.offlineAttachmentId)},[b.offlineAttachmentId,e]);var f=!(l||(l=d("I64"))).equal(b.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(l||(l=d("I64"))).equal(b.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!q(b);return n.jsxs("div",{className:(j||(j=c("stylex")))(p.itemContainer,f&&p.fileContainer),children:[n.jsxs("div",{className:j(p.previewContainer,f&&p.filePreviewContainer),children:[n.jsx(r,{mediaStaging:b}),n.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:b})]}),n.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:n.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:a,size:24,type:"overlay"})})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function r(a){a=a.mediaStaging;var b=a.attachmentType,e=a.previewUrl;if(q(a)||(l||(l=d("I64"))).equal(b,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))if(e!=null)return n.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null;if((l||(l=d("I64"))).equal(b,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))if(e!=null)return n.jsxs(n.Fragment,{children:[n.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),n.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:n.jsx(c("MWXImage.react"),{src:i("354763")})})]});else return null;return n.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[n.jsx(c("MWChatFileIcon.react"),{}),n.jsx("div",{className:"x1iyjqo2",children:n.jsx(c("MWXText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.react",["fbt","ix","CometFileSelector.react","MWV2ComposerMediaStagingItem.react","MWXIcon.react","MWXPressable.react","fbicon","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={container:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexWrap:"xozqiw3",justifyContent:"x1nhvcw1",overflowX:"xw2csxc",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xh8yej3",$$css:!0},uploadPlaceholderRoot:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",marginLeft:null,marginRight:null,position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function m(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=c("useMWV2ComposerOnFilesSelected")(b);return k.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:b,children:function(a){return k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(){return a()},xstyle:l.uploadPlaceholderRoot,children:k.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;return b.length===0?null:k.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[k.jsx(m,{onAttachmentsAdded:e,supportedFileTypes:a}),b.map(function(a){return k.jsx(c("MWV2ComposerMediaStagingItem.react"),{mediaStaging:a,onAttachmentRemoved:d},a.offlineAttachmentId)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["fbt","I64","JSResourceForInteraction","MWChatChatButtonColorConstants","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","emptyFunction","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m=h._("__JHASH__2kGg_y6m8FS__JHASH__"),n={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=e===void 0?!1:e,g=a.onSendMessage;e=a.threadKey;a=function(a){var b=a.id;a=a.title;return g(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0)};return l.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:c("emptyFunction"),onSelect:a,pageId:(k||(k=d("I64"))).to_string(e)},popoverResource:c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),children:function(a,e){return l.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:m,children:l.jsx(c("MWXPressable.react"),{disabled:f,label:m,onPress:e,overlayDisabled:f,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?n.buttonMDS:n.buttonFDS]},children:l.jsx("svg",{"aria-hidden":"true",className:(i||(i=c("stylex")))(d("MWChatChatButtonColorConstants").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:l.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[l.jsx("path",{d:"M1.5,1.5 H22.5"}),l.jsx("path",{d:"M1.5,9 H22.5"}),l.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerSendButton.react",["fbt","Locale","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");b=c("gkx")("6934");e=c("UserAgent").isPlatform("Mac OS X");var l=b?e?h._("__JHASH__rZOmP6eifIV__JHASH__"):h._("__JHASH__ylwhpFdWk4l__JHASH__"):h._("__JHASH__7975gRkNyLl__JHASH__"),m={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},reverse:{transform:"xpk2tj9",$$css:!0}};function a(a,b){var e=a.color,f=a.disabled,g=a.onPress,h=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{disabled:f,label:l,onPress:function(){g(),h==null?void 0:h({eventName:"composer_send_message"})},overlayDisabled:f,overlayRadius:"50%",ref:b,testid:void 0,xstyle:function(){return[c("gkx")("571")?m.buttonMDS:m.buttonFDS,d("Locale").isRTL()&&m.reverse]},children:k.jsxs("svg",{className:(i||(i=c("stylex")))(d("MWChatChatButtonColorConstants").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:[k.jsx("title",{children:l}),k.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:e})]})})})}a.displayName=a.name+" [from "+f.id+"]";b=k.forwardRef(a);g["default"]=b}),98);
__d("MWV2ComposerStickerButton.react",["cr:1084","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:1084")}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":42"),a]})},[g,b],f.id+":36"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["CometMessengerComposerInner.react","CometPlaceholder.react","FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWPThreadThemeGradientUtils","MWPUseVoiceRecorder","MWReQLComposerPlusButton.react","MWV2ChatHotlikeButton.react","MWV2ComposerEmojiButton.react","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","MWV2ComposerStickerButton.react","MWV2IsTabFocusedContext.react","MWXTooltipGroup.react","Promise","cr:3891","cr:6794","cr:793","emptyFunction","gkx","isStickerEnabled","react","requireDeferred","stylex","useCurrentDisplayMode","useDeferredModuleOnReady","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPThreadTheme","useParticipantsExcludingViewer","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.useId,o=e.useRef,p=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerView.react"),q=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),r=(e=b("cr:6794"))!=null?e:c("emptyFunction"),s=(e=b("cr:3891"))!=null?e:b("cr:793"),t={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},composerExtraPadding:{paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},emojiButton:{end:"xds687c",left:null,right:null,$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},genAIButtonFDS:{end:"xjhd3uw",left:null,right:null,$$css:!0},genAIButtonMDS:{end:"x84fkku",left:null,right:null,$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function u(a){var b=c("useDeferredModuleOnReady")(q);m(function(){if(b!=null)return b(a,16)},[a,b])}function v(){p.onReady(function(a){return a.logClickStartRecording()})}function w(){p.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var e,f=a.canSendAudioClip;f=f===void 0?!0:f;var g=a.canSendFile;g=g===void 0?!0:g;var k=a.canSendGif;k=k===void 0?!0:k;var p=a.canSendPayment;p=p===void 0?!1:p;var q=a.canSendSticker;q=q===void 0?!0:q;var x=a.composerLinkPreview,y=a.editor,z=a.editorElementRef,A=a.hasStuffToSend,B=a.isAiBotMentionsEnabled,C=a.isMentionsPluginEnabled;C=C===void 0?!0:C;var D=a.isSendDisabled;D=D===void 0?!1:D;var E=a.localTimezoneInformation,F=a.maxAudioDuration,G=a.mediaStaging,aa=a.onAttachmentRemoved,H=a.onAttachmentsAdded,I=a.onSendMessage,ba=a.placeholderText,ca=a.policyProduct,da=a.renderExtraOverflowMenuItems,ea=a.sendMessage,J=a.supportedFileTypes,fa=a.surface;a=a.thread;k=k&&d("LSThreadBitOffset").has(4,a)&&!c("gkx")("1787594");var K=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),L=d("LSMessagingThreadTypeUtil").isAiBot(a.threadType);g=g&&(K||L?!c("gkx")("1787595")&&d("LSThreadBitOffset").has(56,a):!c("gkx")("1787595"));K=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);L=c("isStickerEnabled")()&&K;q=q&&!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(3,a)||L);var M=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),N=c("useMWEntrypoint")(),O=r(M||N==="inbox"),P=c("useMWPThreadTheme")();P=d("MWPThreadThemeGradientUtils").getBottomGradientColor(P);e=(e=O==null?void 0:O.buttonColor)!=null?e:P;P=c("useCurrentDisplayMode")();P=P==="dark"&&K?"var(--always-white)":e;e=D||!M&&!c("gkx")("1969")?void 0:P;var Q=d("MWPUseVoiceRecorder").useVoiceRecorder(F,v,w),ga=c("useMWFalcoFeatureEventLogger")(a.threadKey,a.threadType),R=Q.state.stage!=="Unopen";M=function(){Q.getVoiceClip().then(function(a){Q.reset();I(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0);return(j||(j=b("Promise"))).resolve()})["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Failed to send voice clip in messenger composer ");return(j||(j=b("Promise"))).reject(a)})};var S=o(null),T=c("usePrevious")(R);m(function(){if(R===!0&&T===!1){var a;(a=S.current)==null?void 0:a.focus()}},[R,S,T]);P=c("useParticipantsExcludingViewer")({threadKey:a.threadKey});F=d("LSThreadBitOffset").has(43,a);var U=d("Locale").isRTL(),V=c("gkx")("571"),W=V?[36,8]:[32,4],X=W[0];W=W[1];var Y=0+X|0,Z=d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);N=A||Z&&N==="inbox";var $=Y+X|0,ha=U?{right:0..toString()+"px"}:{left:0..toString()+"px"};Y=U?{right:Y.toString()+"px"}:{left:Y.toString()+"px"};var ia=U?{right:$.toString()+"px"}:{left:$.toString()+"px"};U=U?{marginRight:N?V?8..toString()+"px":"0":(($+X|0)+W|0).toString()+"px"}:{marginLeft:N?V?8..toString()+"px":"0":(($+X|0)+W|0).toString()+"px"};$=c("useMWComposerAriaDescribedBy")(a);X=n();u(y);var ja=c("useMWEntrypoint")();W=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var ka=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");ga(ja,c)};return l.jsxs("div",{className:"xuk3077 x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,style:(O==null?void 0:O.backgroundColor)!=null?{backgroundColor:O.backgroundColor}:void 0,children:[l.jsx(c("MWReQLComposerPlusButton.react"),{canSendAudioClip:f,canSendFile:g,canSendPayment:p,color:e,editor:y,isInputExpanded:N,onAttachmentsAdded:H,onSendMessage:I,renderExtraOverflowMenuItems:da,supportedFileTypes:J,thread:a,voiceRecorder:Q}),R?l.jsxs(l.Fragment,{children:[l.jsx(c("MWAudioRecorder.react"),{voiceRecorder:Q}),l.jsx(c("MWV2ComposerSendButton.react"),{color:e,disabled:D,onPress:M,ref:S})]}):null,l.jsxs("div",{className:(h||(h=c("stylex")))(R?t.hidden:!1,t.container),children:[l.jsxs(c("MWXTooltipGroup.react"),{children:[l.jsx("div",{className:h(t.button,V?t.buttonMDS:t.buttonFDS,N?t.buttonHidden:t.buttonShown,N?t.fileButtonHidden:t.fileButtonShown),style:ha,children:l.jsx(c("MWV2ComposerFileButton.react"),{color:e,disabled:!g,onAttachmentsAdded:H,supportedFileTypes:J})}),l.jsx("div",{className:h(t.button,V?t.buttonMDS:t.buttonFDS,N?t.buttonHidden:t.buttonShown,N?t.stickerButtonHidden:t.stickerButtonShown),style:Y,children:l.jsx(c("MWV2ComposerStickerButton.react"),{color:e,disabled:!q,onSelectStickerPack:ka,onSendMessage:I,useSecureSend:L})}),l.jsx("div",{className:h(t.button,V?t.buttonMDS:t.buttonFDS,N?t.buttonHidden:t.buttonShown,N?t.gifButtonHidden:t.gifButtonShown),style:ia,children:l.jsx(c("MWV2ComposerGifButton.react"),{color:e,disabled:!k,isSecureThread:K,onSendMessage:I})})]}),E!=null?l.jsx(c("CometPlaceholder.react"),{fallback:null,children:E}):null,x!=null?l.jsx(c("CometPlaceholder.react"),{fallback:null,children:x}):null,l.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:U,children:[l.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:X,children:$}),l.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:X,contentEditableRef:z,editor:y,handlePastedFiles:g?H:c("emptyFunction"),isAiBotMentionsEnabled:B,isSecureThread:K,participants:P,placeholderText:ba,policyProduct:ca,style:{backgroundColor:O==null?void 0:O.inputBackgroundColor},surface:fa,testId:"chat_input:rich-input",threadID:(i||(i=d("I64"))).to_string(Z?a.parentThreadKey:a.threadKey),topContent:l.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:G,onAttachmentRemoved:aa,onAttachmentsAdded:H,supportedFileTypes:J}),useMentionsPlugin:C&&(B===!0?!0:F&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType))})]}),l.jsx("div",{className:h(R?t.hidden:!1,t.button,V?t.buttonMDS:t.buttonFDS,t.emojiButton),children:l.jsx(c("MWV2ComposerEmojiButton.react"),{color:e,editor:y})}),s!=null&&l.jsx("div",{className:(h||(h=c("stylex")))(R?t.hidden:!1,t.button,V?t.buttonMDS:t.buttonFDS,V?t.genAIButtonMDS:t.genAIButtonFDS),children:l.jsx(s,{editor:y,threadId:a.threadKey})})]}),R?null:A?l.jsx(c("MWV2ComposerSendButton.react"),{color:e,disabled:D,onPress:ea}):a.hasPersistentMenu?l.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:e,disabled:D,onSendMessage:I,threadKey:a.threadKey}):W?l.jsx("span",{className:"x1e558r4 x150jy0e"}):l.jsx(c("MWV2ChatHotlikeButton.react"),{color:e,customEmoji:a.customEmoji,disabled:D,onSendMessage:I})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerView=a}),98);
__d("MWSharedMediaManagerUtils",["I64","LSIntEnum","LSMailboxType","MWPComposerMediaUploadUtil","MWPreloadableQueries","Promise","ReQLSuspense","asyncToGeneratorRuntime","justknobx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return new(k||(k=b("Promise")))(function(b){var c=new Image();c.onload=function(){return b({previewHeight:c.height,previewWidth:c.width})};c.onerror=function(){return b()};c.src=a})}function m(a){return new(k||(k=b("Promise")))(function(b){var c=document.createElement("video");c.onloadedmetadata=function(){return b({previewHeight:c.videoHeight,previewWidth:c.videoWidth})};c.onerror=function(){return b()};c.src=a})}function n(a,b){if(b==null||a==null)return;var c=Math.floor(a.previewHeight*b.previewWidth/a.previewWidth);return c>=b.previewHeight?{previewHeight:(i||(i=d("I64"))).of_float(c),previewWidth:i.of_float(b.previewWidth)}:{previewHeight:(i||(i=d("I64"))).of_float(b.previewHeight),previewWidth:i.of_float(a.previewWidth*b.previewHeight/a.previewHeight)}}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield (k||(k=b("Promise"))).all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var e=URL.createObjectURL(b),g;c("justknobx")._("1704")===!0&&b.type.includes("video/")?g=(yield m(e)):g=(yield l(e));return[{attachmentType:d("MWPComposerMediaUploadUtil").getAttachmentType(b),durationMs:void 0,fbid:void 0,filename:b.name,fileSize:(i||(i=d("I64"))).of_int32(b.size),hasError:!1,isSent:!1,mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),mimeType:b.type,offlineAttachmentId:a,offlineThreadingId:void 0,previewUrl:e,progress:0,threadKey:f},g]});return function(b){return a.apply(this,arguments)}}())));yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield a.table("sync_groups").get((i||(i=d("I64"))).of_float(1))),e;if((c==null?void 0:c.syncParams)!=null){c=JSON.parse(c.syncParams);var f=c.preview_height;c=c.preview_width;e={previewHeight:f,previewWidth:c}}yield (k||(k=b("Promise"))).all(g.map(function(b){var c=b[0];b=b[1];return a.table("media_staging").add(babelHelpers["extends"]({},c,n(b,e)))}))});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return o.apply(this,arguments)}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"](b)},"readwrite")}function p(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").getMediaStagingQuery(b,a.threadKey)},[b,a.threadKey],f.id+":167")}g.insertMediaStaging=a;g.deleteMediaStaging=e;g.useMediaStaging=p}),98);
__d("MWMediaManager",["FBLogger","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorDialog.react","MWSharedMediaManagerUtils","Promise","cr:4095","cr:6986","emptyFunction","gkx","promiseDone","requireDeferred","useMWXAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWOpenMediaManagerUtils").__setRef("MWMediaManager"),k=function(){if(b("cr:6986")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return(i||(i=b("Promise"))).resolve(null)}return b("cr:6986").load()},l=c("gkx")("1147754")?75:25;function m(a,c){if(c)return k().then(function(c){return(c=c==null?void 0:c.preprocess(a))!=null?c:(i||(i=b("Promise"))).resolve([])});else return j.load().then(function(b){return b.preprocess(a)})}function n(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b(d);if(d.size>e*1024*1024)return e}return null}function a(a){var e=a.chatSupportUserId,f=a.chatSupportUserNonce,g=a.getMaxAttachmentSizeInMB;g=g===void 0?function(){return l}:g;var o=a.isChatSupportUser,p=a.isLargeAttachmentSendingEnabled,q=a.onUploadFailure,r=a.onUploadStart,s=a.onUploadSuccess,t=a.showUploadFailureToast,u=a.thread,v=p!=null&&p?function(){return 75}:g,w=(h||(h=c("useReStore")))(),x=c("useMWXAlertDialog")({onClose:c("emptyFunction")}),y=d("LSMessagingThreadTypeUtil").isSecure(u.threadType),z=d("MWSharedMediaManagerUtils").useMediaStaging(u);a=function(a){var g=n(a,v);if(g!=null){x(b("cr:4095").maxFileSizeExceeded(g),c("emptyFunction"));return}c("promiseDone")(m(a,y)["catch"](function(){x(d("MWChatFilePreProcessingErrorDialog.react").invalidFileFormat,c("emptyFunction"));return(i||(i=b("Promise"))).resolve([])}).then(function(a){c("promiseDone")(d("MWSharedMediaManagerUtils").insertMediaStaging(w,a,u.threadKey));var b=u.threadKey;return y?k().then(function(c){return c==null?void 0:c.upload(w,b,a)}):j.load().then(function(c){return c.upload(w,b,a,t,r,s,q,o,e,f)})}))};p=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils").deleteMediaStaging(w,a).then(function(){if(y&&b("cr:6986")!=null)return b("cr:6986").load().then(function(b){b.MAWMediaManagerAttachments["delete"](a)})}))};g=function(){var a=z.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils").deleteMediaStaging(w,a)["catch"](function(a){c("FBLogger")("MWMediaManager").catching(a).mustfix("Error deletting media staging.")})});y&&b("cr:6986")!=null&&c("promiseDone")(b("cr:6986").load().then(function(b){b.clearAttachments(a)}))};return{handleFileRemove:p,handleFileSelect:a,mediaStaging:z,resetAttachments:g}}g.useMediaManager=a}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){return i(function(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})},[])}g["default"]=a}),98);
__d("useMWMediaManager",["LSIntEnum","MWMediaManager","MWPComposerMediaUploadUtil","MessagingAttachmentType","qex","useMWMediaManagerUploadFailedToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=25;function a(a){var b=a.onUploadFailure;a=a.thread;var e=c("useMWMediaManagerUploadFailedToast")();return d("MWMediaManager").useMediaManager({getMaxAttachmentSizeInMB:j,onUploadFailure:b,showUploadFailureToast:e,thread:a})}function j(a){if(c("qex")._("406")!==!0)return i;a=d("MWPComposerMediaUploadUtil").getAttachmentType(a);if((h||(h=d("LSIntEnum"))).toNumber(a)===c("MessagingAttachmentType").FILE){return(a=c("qex")._("413"))!=null?a:i}else{return(a=c("qex")._("414"))!=null?a:i}}g["default"]=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a)){f=a.getEntity();c.push({id:f.commandId,length:a.getTextContent().length,offset:e,type:a.getRangeType()})}e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useMemo;function a(a,b){var c=j(function(){return b.current},[b]);i(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState;function a(a,b,c){c=j((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];i(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatFocusComposerContext","MWChatMessagesOnChatTabLoadTracker","MWPActor.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPReplyContext.react","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.react","MWV2IsTabFocusedContext.react","WALoggerDeferred","cr:4146","deepEquals","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useJSON","useLexicalInitializeEditor__DEPRECATED","useMWLSUpdateDraftMessage","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","useMWXLexicalOnTypingChanged","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useMemo,n=e.useRef,o=[];function p(a,b){l(function(){b(a.getEditorState())},[a,b]),l(function(){return a.registerUpdateListener(function(a){return b(a.editorState,a.prevEditorState)})},[b,a])}var q=["MWPComposerEditor","Composer"];function r(a,b){var e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.reply,g=c("usePrevious")(f);l(function(){var a=g==null?f!=null:!c("deepEquals")(g,f);a&&b()},[a,f,g,b])}var s=b("cr:4146")==null?function(a){}:b("cr:4146").useHook,t=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.autoFocus,e=b===void 0?!0:b,f=a.customizedRanges,g=a.deleteComposerStateForUserIdByThreadKey;b=a.getEditorState;var h=a.getTextFromEditorState,u=h===void 0?t:h;h=a.isPreviewThread;var v=h===void 0?!1:h;h=a.isSendDisabled;var w=h===void 0?!1:h;h=a.mediaStaging;h=h===void 0?o:h;var x=a.onSendEmptyMessage,y=a.onSendMessage,z=a.onTypingStateChanged,A=a.persistEditorState,B=a.threadKey,C=a.useMWPComposerPrepopulateEditorState,D=a.clearFormatAfterSend,E=a.messageLengthLimit,F=a.onMessageLengthLimitExceeded,G=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext();a=k(c("MWPreloadedText"));a=a.text!=null?a.text:G!=null?G.current:d("MWPComposerDraftMessages").getDraftMessage(B);var H=n(a),I=n(null);s(I.current);var J=m(function(){return c("mwpLexicalCreateEditor")()},[]);b=b!=null?b((i||(i=d("I64"))).to_string(B)):JSON.stringify(J.getEditorState());var K=c("useJSON")(b),L=c("useJSON")("{}");b=b!=null?K:L;var M=c("useMWLSUpdateDraftMessage")(J,A),N=c("useDebounced")(M,500),O=n();K=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var P=K.shouldClearDraftMessageRef,Q=K.hasContentRef,R=j(function(){var a;a=(a=document.activeElement)==null?void 0:(a=a.attributes.getNamedItem("id"))==null?void 0:a.value;if(a==null?void 0:a.includes("prevent-composer-focus-steal"))return;return J.focus(function(){})},[J]);l(function(){return function(){Boolean(P==null?void 0:P.current)&&M(B,"");var a=O.current;a!=null&&M(B,a)}},[]);L=d("Int64Hooks").useCallbackInt64(function(a,b){a=a.read(function(){return d("LexicalText").$rootTextContent()});if(E!=null&&a.length>E&&b!=null){J.setEditorState(b);F&&F();return}O.current=a;Q!=null&&(Q.current=a!=="");N(B,a);if(v&&G!=null){G.current=a;return}},[E,Q,N,B,v,G,J,F]);p(J,L);c("useMWXLexicalOnTypingChanged")({editor:J,onTypingStateChanged:z});A=a!=null?a.trim()==="":!0;K=c("useMWPLexicalIsTextContentEmpty")(J,!0,A);L=h.length>0;var S=!K||L,T=h.filter(function(a){return!a.isSent}).length;z=k(d("MWChatFocusComposerContext").context);var U=z.setFocusComposer;l(function(){e&&U(function(){return R()})},[e,J,R,U]);l(function(){T>0&&R()},[J,R,T]);var V=d("MWV2IsTabFocusedContext.react").useIsTabFocused();l(function(){V&&!v&&R()},[J,V,v,R]);r(J,R);c("useMWPCometComposerPrepopulateDraftMessage")(J,H);C==null?void 0:C(J,b);var W=d("MWPActor.react").useActor();a=j(function(){var a=function(a,b,e,f,h,j,k,l,m){g!=null&&g((i||(i=d("I64"))).to_string(B),i.to_string(W));c("promiseDone")(d("WALoggerDeferred").logWithTags(q,["Calling MAWSendSecureMessageV2.useOnSendSecureMessage in MWPComposerEditor"],"LOG"));y(a,b,e,f,h,j,k,l,m,void 0);return R()},b={contents:function(){return J.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}};if(w)return;if(S){c("promiseDone")(d("WALoggerDeferred").logWithTags(q,["Calling onSendMessage"],"LOG"));var e=f!=null?f(J,(i||(i=d("I64"))).to_string(B)):c("MWV2ChatComposerGetViewContent").getRanges(J),h=J.getEditorState();h=u(h);d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(B);a(h,e)}else x==null?void 0:x();O.current="";b.contents();return},[w,S,g,y,R,B,W,f,J,u,x]);c("useMWPLexicalCommitMessageOnEnter")(J,a);c("useLexicalInitializeEditor__DEPRECATED")(J);c("useMWPLexicalClearEditor")(J,D);return{editor:J,editorElementRef:I,hasStuffToSend:S,sendMessage:a}}g["default"]=a}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){b.current.enabled=!0;b.current.handler=a;return function(){b.current.enabled=!0,b.current.handler=null}},[b,a])}g["default"]=a}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSMessagingThreadTypeUtil","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)){c("promiseDone")(b.runInTransaction(function(c){var f;return(f=d("ReQL")).firstAsync(f.mergeJoin(f.fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),f.fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,e)})).then(function(a){if(a==null)return;a=a[1];var b=babelHelpers["extends"]({},a,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});return c.table("contacts").upsert([a.id],b)})},"readwrite"));return}}g.call=a}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWPActor.react","MWPReplyContext.react","MessagePowerUp","MultipleTabsLogger","asyncToGeneratorRuntime","gkx","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(k||(k=d("I64"))).minus_one,tags:b}))});return n.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.onOptimisticMessageCreation,g=a.skipUrlPreviewGen,i=a.threadKey,n=a.threadType,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var q=a.reply,r=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var h=a.afterSend,l=a.attributionAppId,s=a.dataTraceId,t=a.externalAttachmentUrl,u=a.hotEmojiSize,v=a.logSendPoint,w=a.mentionData,x=a.messageText,y=a.messageTypeParams,z=a.optimisticAttachmentPreview,A=a.platformToken,B=a.profileRanges,C=a.sendFirstMessageSeparately,D=C===void 0?!1:C,E=a.setupS2SLogging,F=a.source,G=a.stickerID;return o.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),o=c("gkx")("7566");yield m(a,(k||(k=d("I64"))).to_string(i),s);a=(yield d("MultipleTabsLogger").hasMultipleTabs());var C=y.hasAttachment,H=y.hasGif,I=y.hasLinks,J=y.hasSticker,K=y.hasText;b=(yield c("LSOptimisticSendMessageV2StoredProcedure")(b,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:l,calculate_denormalizations:!1,data_trace_id:(b=s)!=null?b:void 0,external_attachment_url:t,hot_emoji_size:u,initiating_source:r,mark_read:k.ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:w,multitab_env:a,optimistic_attachment_preview:z,platform_token:A,power_up_style:j.ofNumber(c("MessagePowerUp").NONE),reply_source_id:q==null?void 0:q.messageId,reply_source_type:q!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:q!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:F,sticker_id:G,text_has_links:I&&o}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:p,text:x,threadKey:i,threadType:n}));v("create_optimistic_message_success");if(!C){a=b[0];E(a)}f!=null&&f({TAG:0,hasLink:I,hasMention:B!=null&&B.length>0,isGIF:H,isReply:!!(q&&q.messageId!==""),isSticker:J,isText:K,offlineThreadingId:b[0]});o=b[0];h!=null&&h(o);return D===!0?null:b});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")},[o,i,n,e,p,r,q,g,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onOptimisticMessageCreation,d=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,onOptimisticMessageCreation:b,skipUrlPreviewGen:d,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}g.log=a}),98);
__d("useMWV2SendOpenStagedMedia",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","asyncToGeneratorRuntime","gkx","react","sendToSentQPLLogger","updateAndFlushLSDataTrace","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(k||(k=d("I64"))).minus_one,tags:b}))});return p.apply(this,arguments)}function a(a){var e=a.onOptimisticMessageCreation,f=a.thread,g=(h||(h=c("useReStore")))(),i=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var n=a.reply,p=c("useLSMessagingInitiatingSource")(),q=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(a){var h=a.firstAttachmentTypeContents,l=a.isFirstMessage,r=l===void 0?!1:l,s=a.isFirstMessageText,t=a.mediaStagings;l=a.sendFirstMessageSeparately;var u=l===void 0?!1:l,v=a.setupS2SLogging,w=a.source;return g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),l={contents:h},x=t[0];if(t.length===0){d("MWPSendMessageLogger").log(g,f.threadKey,f.threadType,i,void 0,[],w,l.contents,n!=null);return}var y={contents:!0};l.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(x.attachmentType);x=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(t,q);for(var z=0;z<x.length;z++)if(u===!1||z===0&&r===!0&&s===!1||r===!1){var A=x[z],B=c("LSGenerateTraceId")(),C=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(b,{attachments:c("LSVec").ofArray(A.map(d("LSShape").ofRecord)),replySourceId:n==null?void 0:n.messageId,replySourceType:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:i,threadKey:f.threadKey,threadType:f.threadType})),D=C[0];z===0&&v(D);yield a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:p,markThreadRead:!1,messageId:void 0,offlineThreadingId:D,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(k||(k=d("I64"))).of_string(D),threadAttributionSource:w,threadKey:f.threadKey});e!==void 0&&e({TAG:2,numberOfAttachments:A.length,offlineThreadingId:D});yield m(a,B,k.of_int32(A.length),l.contents);C=function*(e){var g=A[e];yield c("LSInsertNewMediaSendStoredProcedure")(b,{attachmentType:g.attachment_type,inMessageIndex:(k||(k=d("I64"))).of_int32(e),isSecure:!1,offlineAttachmentId:g.attachment_fbid,offlineThreadingId:D,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});e=t.find(function(a){return a.offlineAttachmentId===g.offline_attachment_id});if(e!=null){var h=e.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:h,offlineAttachmentId:g.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(a,g.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(a,f.threadKey,D,g.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(k||(k=d("I64"))).to_string(h)})}))}y.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(a,g.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(a,f.threadKey,D,g.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var E=0;E<A.length;E++)yield* C(E);d("MWPSendMessageLogger").log(g,f.threadKey,f.threadType,i,D,A.map(function(a){return a.attachment_fbid}),w,l.contents,n!=null);yield d("MWPOpenComposerUtils").resumeSendJob(b,D,(C=B)!=null?C:void 0);yield o(a,k.to_string(f.threadKey),B);yield c("updateAndFlushLSDataTrace")(a,B)}E=(k||(k=d("I64"))).to_string(f.threadKey);C=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[E,null]:[null,E];var F=C[0],G=C[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:y.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:G,thread_fbid:F}})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")},[g,q,f.threadKey,f.threadType,i,n,p,e,d("sendToSentQPLLogger").addSendToSentAnnotations])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["I64","Int64Hooks","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","promiseDone","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,i=a.onUploadSuccess,n=a.skipUrlPreviewGen,p=a.thread,q=(h||(h=c("useReStore")))(),r=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var s=a.reply,t=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var h=a.dataTraceId,l=a.setupS2SLogging,u=a.source,v=a.voiceClip;return q.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var w=c("LSFactory")(a),x=d("OfflineThreadingId").createOfflineThreadingID(),y=d("MWPComposerMediaUploadUtil").getAudioAttachment(x,v.file,v.duration,v.waveformData);yield m(a,h,(k||(k=d("I64"))).one,2);var z=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(w,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(y)]),replySourceId:s==null?void 0:s.messageId,replySourceType:s!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:s!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:r,threadKey:p.threadKey,threadType:p.threadType})),A=z[0];l(A);yield a.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:t,markThreadRead:!1,messageId:void 0,offlineThreadingId:A,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:n,taskId:k.of_string(A),threadAttributionSource:u,threadKey:p.threadKey});e!=null&&e({TAG:1,offlineThreadingId:A});yield c("LSInsertNewMediaSendStoredProcedure")(w,{attachmentType:y.attachment_type,inMessageIndex:k.zero,isSecure:!1,offlineAttachmentId:x,offlineThreadingId:A,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});z=function(a,e){if(e==null)return;c("promiseDone")(q.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSFactory")(a);yield c("LSMarkSubJobCompletedV2StoredProcedure")(a,{fbid:(k||(k=d("I64"))).of_float(e),offlineAttachmentId:x});yield d("MWPOpenComposerUtils").resumeSendJob(a,A,h);o(y.playable_url,e,q,p.threadKey)});return function(b){return a.apply(this,arguments)}}(),"readwrite"));d("MWPSendMessageLogger").log(q,p.threadKey,p.threadType,r,A,[(k||(k=d("I64"))).to_string(k.of_float(e))],u,d("MessagingLoggingUtils").convertI64ToAttachmentType(y.attachment_type),s!=null);i&&i(a)};a=function(a,b){if(f){f((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)}};d("MWPComposerMediaUploadUtil").startUpload(g,void 0,z,a,!0,[v.file],[x],void 0,void 0,v.waveformData,void 0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")},[p,t,q,s,r,n,e,g,i,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWChatInteraction","MWLSLogSend","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","cr:7099","err","gkx","promiseDone","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWLSUpdateDraftMessage","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useContext,m=function(a){a=d("MWChatInteraction").get(d("MWChatInteraction").s2sKey(a));return a!=null?Number(a):null};function n(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function o(a){var b=m(a);b!=null&&n(b,a)}function p(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,c("err")("fail_to_send_message")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function q(a){var b=m(a);b!=null&&p(b,a)}function r(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function s(a){a=m(a);a!=null&&r(a)}function a(a){var e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,k=a.onUploadSuccess,m=a.skipUrlPreviewGen,t=a.thread,u=(h||(h=c("useReStore")))();a=l(d("MWPReplyContext.react").MWPReplyContext);var v=a.reply,w=c("useLSMessagingInitiatingSource")(),x=c("useMWLSDefaultThreadSource")(),y=c("useMWLSUpdateDraftMessage")(),z=c("useMWV2SendOpenVoiceClip")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:k,skipUrlPreviewGen:m,thread:t}),A=c("useMWV2SendOpenStagedMedia")({onOptimisticMessageCreation:e,thread:t}),B=c("useMWV2SendOpenMessageImpl")({onOptimisticMessageCreation:e,skipUrlPreviewGen:m,thread:t}),C=d("LSMessagingThreadTypeUtil").isMessageRequest(t);b("cr:7099")==null?void 0:b("cr:7099")(t.threadKey,o,q,s);return d("Int64Hooks").useCallbackInt64(function(a,e,f,g,h,k,l,m,o,q,s,D,E,F){s===void 0&&(s=!1);D===void 0&&(D=!1);var G=!1;function H(a){E.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(F,a)}var I=x(t.threadKey),J=c("LSGenerateTraceId")(),K={contents:1},L={initiatingSource:w,isCommunityEvent:t.eventStartTimestampMs!=null,isMessageRequest:C,mwVersion:d("MWVersion").v2,threadType:t.threadType};function M(a){d("MWLSLogSend").logSentHeroInteraction(E,a,L);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(F));d("sendToSentQPLLogger").addSendToSentAnnotations(F,{string:babelHelpers["extends"]({},d("MWLSLogSend").getMessageSendAnnotations(L))});if(c("gkx")("10731")){d("sendToSentQPLLogger").addSendToSentAnnotations(F,{bool:{subscription_points_gk:!0}});var e=!1,f=d("ReQL").fromTableAscending(u.table("messages").index("optimistic")).getKeyRange(a),g=d("ReQLSubscribe").subscribeToFirst(f,function(b){b!=null&&(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2))?(e=!0,n(F,a),g()):b!=null&&(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))?(e=!0,p(F,a),g()):b!=null&&(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1))&&r(F)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!e){var a=(yield d("ReQL").firstAsync(f));e||d("sendToSentQPLLogger").addSendToSentAnnotations(F,{string:{status_after_10s:a?""+(j||(j=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){g()},6e4)}}y(t.threadKey,"");return u.runInTransaction(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("media_staging")).filter(function(a){return!a.isSent&&(i||(i=d("I64"))).equal(a.threadKey,t.threadKey)})));var j=d("MWSharedMsgLogUtils").getMessageTypeParams(a,g,v,f,k,m,b);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(E,j,t,w);d("sendToSentQPLLogger").addSendToSentAnnotations(F,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(t,j,w));if(m!=null){c("promiseDone")(z({dataTraceId:J,setupS2SLogging:M,source:I,voiceClip:m}));return}var n=j.hasGif,p=j.hasSticker,r=j.hasText;p?K.contents=4:n&&(K.contents=6);var u=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;H("before_create_optimistic_message");r||p||n?(G=!0,(s===!1||D===!0)&&c("promiseDone")(B({afterSend:q,attributionAppId:h,dataTraceId:J,externalAttachmentUrl:k,hotEmojiSize:g,logSendPoint:H,mentionData:u,messageText:a,messageTypeParams:j,optimisticAttachmentPreview:l,platformToken:o,profileRanges:e,sendFirstMessageSeparately:s,setupS2SLogging:M,source:I,stickerID:f}))):q!=null&&q();c("promiseDone")(A({firstAttachmentTypeContents:K.contents,isFirstMessage:D,isFirstMessageText:G,mediaStagings:b,sendFirstMessageSeparately:s,setupS2SLogging:M,source:I}))});return function(a){return j.apply(this,arguments)}}(),"readwrite","ui")},[x,t,w,C,y,u,v,A,z,B])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWLSUpdateDraftMessage","useMWV2SendOpenMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useContext,l=b.useMemo;function a(a){var b=a.afterSendMessage,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,j=a.onUploadSuccess,m=a.skipUrlPreviewGen,n=a.thread,o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var q=a.clearReply,r=n.threadSubtype,s=l(function(){return{is_community_event:(n.eventStartTimestampMs!=null).toString(),isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(n.threadKey),thread_subtype:r&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(r)?(i||(i=d("I64"))).to_string(r):"",thread_type:i.to_string(n.threadType)}},[n,r]),t=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,s),u=c("useMWLSUpdateDraftMessage")(),v=c("useMWV2SendOpenMessage")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:j,skipUrlPreviewGen:m,thread:n});return d("Int64Hooks").useCallbackInt64(function(a,e,f,g,h,i,j,k,l,m,r,w){r===void 0&&(r=!1);w===void 0&&(w=!1);var x=d("LSMessagingThreadTypeUtil").isMessageRequest(n);return t(function(t){var y=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:s});u(n.threadKey,"");c("promiseDone")(v(a,e,f,g,h,i,j,k,l,m,r,w,t,y),function(){b(),q(n.threadKey,!1),d("MAWOptimisticUpdateContactRelationship").call(n,o,p),x&&d("MessageRequestsLog").logActionConfirmed(n,1)})})},[n,t,d("sendToSentQPLLogger").markSendToSentStart,d("sendToSentQPLLogger").addSendToSentAnnotations,s,u,v,b,q,o,p])}g["default"]=a}),98);
__d("MWV2OpenComposer.react",["Int64Hooks","LSMessagingThreadTypeUtil","MWPEditMessageUtil","MWPReplyContext.react","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","WebUXLoggingSurfaceContextProvider","cr:5001","cr:5118","emptyFunction","gkx","react","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=c("gkx")("5404");function a(a){var e=a.afterSendMessage,f=e===void 0?c("emptyFunction"):e;e=a.isPreviewThread;var g=a.onSendEmptyMessage;g=g===void 0?c("emptyFunction"):g;a=a.thread;var h=j(d("MWPReplyContext.react").MWPReplyContext);h=h.reply;var l=b("cr:5001")==null?void 0:b("cr:5001").useMWAdmodOnboardingSuggestedActionsContext(),m=d("MWPEditMessageUtil").useGetEditMessageData(),n=c("useMWMediaManager")({thread:a}),o=n.handleFileRemove,p=n.handleFileSelect;n=n.mediaStaging;var q=d("Int64Hooks").useCallbackInt64(function(){f(),l==null?void 0:l.setShowWelcomeMessageSuggestion(!1)},[f,l]);q=c("useMWV2OnSendOpenMessage")({afterSendMessage:q,skipUrlPreviewGen:!1,thread:a});var r=c("useMWOnTypingStateChanged")(a);c("useMWV2FileDropzoneRegisterHandler")(p);var s=d("LSMessagingThreadTypeUtil").isAiBotSummoning(a);e=c("useMWPComposerEditor")({isPreviewThread:e,mediaStaging:n,onSendEmptyMessage:g,onSendMessage:q,onTypingStateChanged:r,threadKey:a.threadKey});g=e.editor;r=e.editorElementRef;var t=e.hasStuffToSend;e=e.sendMessage;return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:i.jsxs("div",{children:[b("cr:5118")&&(l==null?void 0:l.showWelcomeMessageSuggestion)?i.jsx(b("cr:5118"),{}):h!=null?i.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:h.messageId,messageTimestamp:h.timestampMs,thread:a}):null,m!=null&&i.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:m,threadType:a.threadType}),m!=null?null:i.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:g,editorElementRef:r,hasStuffToSend:t,isAiBotMentionsEnabled:s&&k&&!c("MessengerMSplitFlag").is_msplit_account,mediaStaging:n,onAttachmentRemoved:o,onAttachmentsAdded:p,onSendMessage:q,policyProduct:"messaging_lightswitch",sendMessage:e,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","cr:8061"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("cr:8061"))!=null?c:function(a,b){return[!1,!0,null]};function a(a){var b=h(a.threadKey,a.threadType),c=b[0];b[1];b[2];return d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&c}g["default"]=a}),98);
__d("useMWDefaultE2eeComposerConfiguration",["JSResourceForInteraction","lazyLoadComponent","react","useIsDefaultE2eeOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function a(a){var b=c("useIsDefaultE2eeOpenThread")(a);if(b)return i.jsx(j,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a}),66);
__d("getMWPUnavailableComposerConfiguration",["LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null){b=!e.isPage&&(!e.hasMessageCapability||!e.hasReplyMessageCapability);if(e.blockedSinceTimestampMs==null&&b)return i.jsx(c("MWChatUnavailableComposer.react"),{reason:e.hasMessageCapability?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:a}})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;k||d("react");function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=(i||(i=d("I64"))).equal(e,a.threadKey),k=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!(i||(i=d("I64"))).equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":33");if(k==null)return;return c("getMWPUnavailableComposerConfiguration")(a.threadKey,a.threadType,{blockedSinceTimestampMs:k==null?void 0:k.blockedSinceTimestampMs,hasMessageCapability:d("LSContactBitOffset").has(0,k),hasReplyMessageCapability:d("LSContactBitOffset").has(1,k),isPage:i.equal(k.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a,b,c,e,f){if(f&&(!d("LSMessagingThreadTypeUtil").isOneToOne(b)||c!=null))return e?i.jsx(k,{otherUser:c,thread:{threadKey:a}}):i.jsx(j,{reason:c!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,thread:{threadKey:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","useMWCutoverComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a],f.id+":31"),g=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(128,a),i=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a.threadKey);return c("useMWCutoverComposerConfiguration")(a.threadKey,a.threadType,e,i,g)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:6984","emptyFunction","react","useMWDefaultE2eeComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWReQLCutoverComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.memo;function k(a){return[c("useMWPReQLNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(a),c("useMWReQLCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPReQLUnavailableComposerConfiguration")(a),c("useMWDefaultE2eeComposerConfiguration")(a)]}function a(a){var e=a.afterSendMessage,f=a.isPreviewThread,g=a.onSendEmptyMessage;g=g===void 0?c("emptyFunction"):g;a=a.thread;var h=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);if(b("cr:6984")!=null&&h)return i.jsx(b("cr:6984"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a});else return i.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a})}a.displayName=a.name+" [from "+f.id+"]";var l=j(a);function e(a){var b=a.afterSendMessage;a.isMessengerInbox;var d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=k(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:function(){return i.jsx(l,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";function m(a){var b=a.afterSendMessage;a.isMessengerInbox;var d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=k(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return i.jsx(l,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}m.displayName=m.name+" [from "+f.id+"]";g.MWChatComposerGating=e;g.MWInboxComposerGating=m}),98);
__d("MWV2ComposerStickerButtonLegacy.react",["JSResourceForInteraction","MWChatComposerIcons","MWV2ComposerStickerCommon","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("JSResourceForInteraction")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButtonLegacy.react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=a.onSelectStickerPack,g=a.onSendMessage;a=a.useSecureSend;g=c("useMWV2ComposerOnStickerSelect")(g,a);var h=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{className:"x1fepime",onSelectStickerPack:f,onStickerSelect:g,shouldAlwaysShowAvatarPack:a,shouldHideDefaultPacks:a},popoverResource:j,position:"above",children:function(a,f,g,j,l,m,n){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:i.jsx(c("MWXPressable.react"),{"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:e,onHoverIn:j,onHoverOut:l,onPress:function(){f(),h==null?void 0:h({eventName:"composer_open_sticker_picker"})},onPressIn:m,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a,b,c,d,e){b=b.toString();return{data:{decorType:"regular",handle:b,key:a,label:b,rawData:{icon:d,subtitle:c.toString()},type:"entry"},rangeType:e}}e=[a("silent",h._("__JHASH__fM-I8ly761K__JHASH__"),h._("__JHASH__bcTzx6eBHE9__JHASH__"),d("fbicon")._(i("549627"),16),"s")];f=e.map(function(a){return a.data});var j=e.reduce(function(a,b){var c;a[(c=b.data.handle)!=null?c:b.data.key]=b.rangeType;return a},{});function b(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command %s used. Please add the command to the mapping in MWCommandsComposerPluginCommandList",a);return"n"}return b}g.commands=f;g.commandToRangeType=b}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d,e=a.commandId,f=a.commandPrefix,g=a.handle;a=a.rangeType;d=b.call(this,""+((d=f)!=null?d:"")+g,c)||this;d.__handle=g;d.__commandId=e;d.__rangeType=a;d.__commandPrefix=f;return d}a.getType=function(){return"command"};a.clone=function(b){var c,d=b.getEntity();return new a({commandId:d.commandId,commandPrefix:(c=b.__commandPrefix)!=null?c:"",handle:d.handle,rangeType:d.rangeType},b.__key)};a.importJSON=function(a){return i({commandId:a.commandId,handle:a.handle,rangeType:a.rangeType})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}};c.getRangeType=function(){return this.__rangeType};c.getCommandId=function(){return this.__commandId};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginCommandList","MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){var b;return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:"0",commandPrefix:"/",handle:c("cometMentionsDataEntryText")(a),rangeType:d("MWCommandsComposerPluginCommandList").commandToRangeType((b=a.handle)!=null?b:a.key)})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={view:{minWidth:"x1jzhcrs",$$css:!0}},m=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return(h||(h=b("Promise"))).resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(k(function(){return[{dataSource:new m(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:l.view});return j.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useAckMessageServerReceived",["I64","Int64Hooks","LSIntEnum","ReQL","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(a,b,e,f){var g=(j||(j=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableDescending(g.table("messages")).getKeyRange(a).subscribe(function(a,c){if(c.operation==="add"||c.operation==="put"){a=c.value;c=a.sendStatusV2;(h||(h=d("I64"))).equal(c,(i||(i=d("LSIntEnum"))).ofNumber(2))?b(a.offlineThreadingId):(h||(h=d("I64"))).equal(c,(i||(i=d("LSIntEnum"))).ofNumber(4))?e(a.offlineThreadingId):(h||(h=d("I64"))).equal(c,(i||(i=d("LSIntEnum"))).ofNumber(1))&&f(a.offlineThreadingId)}})},[g,e,b,f,a])};b=a;g["default"]=b}),98);
__d("MAWMediaManagerUtilsDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWMediaManagerUtils").__setRef("MAWMediaManagerUtilsDeferred");b=a;g["default"]=b}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExistsStoredProcedure","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useState;function q(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function r(a){var e=a.memberRequests,f=a.setWasClosed;a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var g=a.isExpanded,j=a.isOnMemberRequestsPageRef,k=a.pushMemberRequestsPage,l=a.setIsExpanded,m=a.setShouldNavToMemberRequests;return n.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:n.jsx(c("CometContextualMessage.react"),{addOnPrimary:n.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){j.current!==!0&&(g===!0?k():(m(!0),l(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:q(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:n.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var e=a.threadKey;a=p(!1);var g=a[0],h=a[1],i=(l||(l=c("useReStore")))(),m=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(i.table("group_membership_approval_requests")).getKeyRange(e).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(a.contactId),f.id+":174");return[a,b]})},[i,e],f.id+":169"),q=m.length,s=c("usePrevious")(q);a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var t=a.isOnMemberRequestsPageRef;o(function(){t.current!==!0&&s!==null&&q>s&&h(!1)},[q,s,h,t]);o(function(){var a=m.map(function(a){return a[0].contactId});c("promiseDone")(i.runInTransaction(function(e){return(j||(j=b("Promise"))).all(a.map(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite"))},[i,m]);return!g&&m.length>0?n.jsx(r,{memberRequests:m,setWasClosed:h}):null}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),c=d("LSThreadBitOffset").has(66,a);return c&&b?n.jsx(s,{threadKey:a.threadKey}):null}t.displayName=t.name+" [from "+f.id+"]";function a(a){a=a.thread;return n.jsx(c("CometErrorBoundary.react"),{children:n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx(t,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("MWPublicChatNUXDialog.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){a=a.thread;var b=k(),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType);j(function(){e==null&&h&&f(function(){return d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{})});return function(){e==null?void 0:e.dispose()}},[e,g,h]);if(e!=null)return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:e,props:{}})})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWQPLLogger",["QPLUserFlow","Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){return i(function(){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLFailure:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["I64","LSFactory","LSIssueMessagesRangeQueryStoredProcedure","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","MWEncryptedBackupsIssueRangeQueryDeferred","Promise","ReQL","ReQLSuspense","gkx","promiseDone","qpl","react","useMAWQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=k||d("react");var l=a.useCallback,m=a.useMemo;e={useFetchCutoverMessages:function(a,e,g){var k=(j||(j=c("useReStore")))(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.table("messages_ranges_v2__generated")).getKeyRange(a)},[k,a],f.id+":44"),n=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(k.table("messages_ranges_v2__generated")).getKeyRange(e):d("ReQL").empty()},[k,e],f.id+":51"),o=l(function(a){c("promiseDone")(k.runInTransaction(function(d){if(e!=null&&n!=null)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(d),{direction:a,referenceTimestampMs:n.minTimestampMs,threadKey:e});else return(h||(h=b("Promise"))).resolve()},"readwrite"))},[k,n,e]);return l(function(b){if(m==null)return;var e=m.hasMoreBefore,f=d("MAWDbMsg").toMsgId(m.minMessageId);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(k,a,"MAWFetchMoreMessages",function(a,c,g){d("MAWInternalLog").internalLog("useFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"before",numMsgs:10,offsetMsgId:f,threadId:c}).then(function(a){d("MAWInternalLog").internalLog("useFetchCutoverMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:f,threadId:c}).then(function(a){d("MWEncryptedBackupsIssueRangeQueryDeferred").issueRangeQueryDeferred({db:k,newerNumMessages:(i||(i=d("I64"))).zero,numMessages:i.of_string("10"),sortOrderMs:i.of_float(a.minMsgTimestampMs),threadId:c});if(!e)return o(b)})})}))},[m,k,a,o])},useFetchSecureMessages:function(a){var e=(j||(j=c("useReStore")))(),f=d("useMAWQPLLogger").useMAWQPLLogger(c("qpl")._(25303796,"1974")),g=f.addQPLAnnotations,k=f.markQPLFailure,l=f.markQPLPoint,n=f.markQPLStart,o=f.markQPLSuccess;return m(function(){return function(f,j,m){var p=n();function q(a){l(p,"load_more_msgs_success","successfully loaded messages from worker"),g(p,a)}d("MAWInternalLog").internalLog("useFetchSecureMessages: started to get message range");l(p,"before_start_load_more_msgs","before fetching messages range from table");g(p,{string:babelHelpers["extends"]({direction:m,thread_id:(i||(i=d("I64"))).to_string(j)},a!=null?{thread_type:(i||(i=d("I64"))).to_string(a)}:{})});return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("messages_ranges_v2__generated")).getKeyRange(j)).then(function(a){if(a!=null&&!a.isLoadingBefore&&m==="before"){l(p,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,j,"MAWFetchMoreMessages",function(b,g,h){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");l(p,"put_message_range","put txn in messages_ranges_v2__generated table");return f.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:!0,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),l(p,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:m,numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:g}).then(function(b){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+b.hasMoreBefore.toString());q({bool:{hasMoreBefore:b.hasMoreBefore}});if(b.hasMoreBefore){o(p);return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:g}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);l(p,"issued_range_query","useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);o(p);return d("MWEncryptedBackupsIssueRangeQueryDeferred").issueRangeQueryDeferred({db:e,newerNumMessages:(i||(i=d("I64"))).zero,numMessages:i.of_string("10"),sortOrderMs:i.of_float(a.minMsgTimestampMs),threadId:g})})}))})})["catch"](function(a){k(p,a)})}if(c("gkx")("8830")&&a!=null&&!a.isLoadingAfter&&m==="after"){l(p,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,j,"MAWFetchMoreMessages",function(b,e,g){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return f.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),l(p,"send_loadMoreMsgs_to_backend","useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"after",numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.maxMessageId),threadId:e}).then(function(a){q({bool:{hasMoreAfter:a.hasMoreAfter}}),d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreAfter.toString())})["catch"](function(a){k(p,a)}))})})["catch"](function(a){k(p,a)})}g(p,{bool:{isLoadingAfter:a==null?void 0:a.isLoadingAfter,isLoadingBefore:a==null?void 0:a.isLoadingBefore}});l(p,"already_loading_messages","end the load more QPL event.");o(p);return(h||(h=b("Promise"))).resolve()})["catch"](function(a){k(p,a)})}},[g,e,k,l,n,o,a])}};a=e;g["default"]=a}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useMemo,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),p={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_left":null,":before_right":null,":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function q(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._("__JHASH__ffo2a6Rimy8__JHASH__"),f=h._("__JHASH__SmhjEO8LZM7__JHASH__"),g=h._("__JHASH__fSHhveuOoUn__JHASH__"),i=h._("__JHASH__9LbnXUNEOkH__JHASH__"),j=h._("__JHASH__grSMjsZRe9-__JHASH__"),l=h._("__JHASH__4a9auIct2D0__JHASH__"),m=h._("__JHASH___nqNxb75_gn__JHASH__"),n=h._("__JHASH__cegqh2566-V__JHASH__"),p=h._("__JHASH__NU6koyzdQfy__JHASH__");f=k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===o.Unprotected?null:k.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:k.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:d===o.Protected?k.jsxs(k.Fragment,{children:[f,a?k.jsxs(k.Fragment,{children:[k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?j:b==="Video"?i:l})]}):null]}):k.jsxs(k.Fragment,{children:[f,k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?n:b==="Video"?m:p})]})})},d)}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.linkProps,g=a.mediaType,h=a.onPress,j=h===void 0?c("emptyFunction"):h;h=a.overlayDisabled;h=h===void 0?!1:h;var r=a.testid,s=a.type;r=a.uncoverable;r=r===void 0?!0:r;var t=a.url;a=a.xstyle;var u=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),v=n(o.Protected),w=v[0],x=v[1],y=w===o.Unprotected;v=w===o.Blurred;var z=m(null),A=l(function(){return{url:"#"}},[]),B=l(function(){if(s==="video")return;if(t!=null)return{backgroundImage:"url("+t+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[t,s]);u=k.jsxs("div",{className:(i||(i=c("stylex")))(p.container,u==="Inbox"?p.containerForInbox:!1,r?p.containerUncoverable:!1),children:[k.jsx("div",{style:B}),k.jsx("div",{"aria-hidden":!y,className:i(p.overlay,!y&&p.overlayDisabled,v&&p.overlayBlurred),children:e}),y?null:k.jsx("div",{className:(i||(i=c("stylex")))(p.sneezeguard,v&&p.sneezeguardTransparent)}),k.jsx(q,{mediaType:g,state:w,uncoverable:r})]});return!r?k.jsx("div",{className:(i||(i=c("stylex")))(a,p.pressable),"data-testid":void 0,children:u}):k.jsx(c("MWXPressable.react"),{"aria-label":y?b:void 0,linkProps:y?f:A,onPress:function(){y?j():x(function(a){switch(a){case o.Protected:return o.Blurred;case o.Blurred:c("setTimeout")(function(){var a=z.current;if(a!=null)return a.focus()},0);return o.Unprotected;case o.Unprotected:return a}})},overlayDisabled:h,ref:z,testid:void 0,xstyle:[a,p.pressable],children:u})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,c=a.children,e=a.modal,f=a.setModal,g=a.wrapX;g=g===void 0?!1:g;a=a.wrapY;a=a===void 0?!1:a;var h=j(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(k):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:f,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:e!=="",onNavigate:h,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,children:i.jsx("div",{"aria-label":b,className:"xh1n2d4 xu3j5b3 xol2nv x16jkurw x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:c})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants"),["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),98);
__d("MWParticipantsForBroadcastChannelUtils",["Int64Hooks","LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure","LSFactory","LSFetchDiscoverableChatParticipantsStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&c("promiseDone")(e.runInTransaction(function(e){return c("LSFetchDiscoverableChatParticipantsStoredProcedure")(c("LSFactory")(e),{cursor:"",maxName:"",source:(i||(i=d("LSIntEnum"))).ofNumber(b),threadKey:a.threadKey})},"readwrite"))},[e,b,a.threadKey,a.threadType])}function b(){var a=(h||(h=c("useReStore")))();return k(function(){return a.runInTransaction(function(a){return c("LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure")(c("LSFactory")(a))},"readwrite")},[a])}function e(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("discoverable_chat_participants_ranges_v2__generated")).getKeyRange(a)},[b,a],f.id+":75")}g.useFetchBroadcastChannelMembers=a;g.useClearBroadcastChannelParticipantsList=b;g.useMWParticipantsForBroadcastChannelRanges=e}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a==null)return null;a=new(h||(h=c("URI")))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=(i||(i=c("useReStore")))(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return m(function(g){var i=g.linkUrl;g=d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(f)).then(function(e){if(e!=null){e=(j||(j=d("I64"))).equal(e.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))?c("getRingbackUrl")(i,(j||(j=d("I64"))).to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),i);return(h||(h=b("Promise"))).resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return(h||(h=b("Promise"))).resolve()});c("promiseDone")(g,void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a(a){if(!a)return"0";var b="";while(a>0)b=g[a%62]+b,a=Math.floor(a/62);return b}f["default"]=a}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MNCommerceCTAProcessor").logCTAClick(a)}function b(a,b){c("MNCommerceCTAProcessor").process(a,(a=b)!=null?a:void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2});f["default"]=a}),66);
__d("MWGroupMembershipListItemWrapper",["MWGroupMembershipListItem"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.tag){case"ParticipantAndContact":return{contact:a.value[1],participant:a.value[0],type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact};case"CommunityMember":return{communityMember:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember};case"ServerSearchResult":return{serverSearchResult:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult};case"BroadcastChannelParticipant":return{participant:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.BroadcastChannelParticipant}}}g.tToRE=a}),98);
__d("MWLSGroupMembershipMemberCellProfilePhoto.react",["fbt","IntlVariations","MWXProfilePhoto.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.linkProps,d=a.name,e=a.profilePictureUrl;a=a.showTooltip;b=j.jsx(c("MWXProfilePhoto.react"),{alt:d,"aria-label":h._("__JHASH__5FWHZ8StuMQ__JHASH__",[h._name("name",d,c("IntlVariations").GENDER_UNKNOWN)]),linkProps:b,shape:"circle",size:36,source:{uri:e}});return a?j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:h._("__JHASH__gvt-u-jxLjT__JHASH__",[h._name("name",d,c("IntlVariations").GENDER_UNKNOWN)]),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSGroupMembershipMenu.entrypoint",["JSResourceForInteraction","MWLSGroupMembershipMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{groupMembershipMenuQueryRef:{parameters:c("MWLSGroupMembershipMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMenu.entrypoint")};g["default"]=a}),98);
__d("MWLSGroupMembershipMemberCell.react",["fbt","ix","CDSEntryPointPopoverTrigger.react","CometMiddotSeparator.react","GenderConst","I64","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSGroupParticipantJoinState","LSIntEnum","LSWhatsAppConnectStatus","MAWThreadCutover","MWCMThreadTypes.react","MWGroupMembershipListItem","MWInboxRouteBuilder","MWLSContactTypeExactUtils","MWLSGroupMembershipMemberCellProfilePhoto.react","MWLSGroupMembershipMenu.entrypoint","MWPActor.react","MWXIcon.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","fbicon","getFBTSafeGenderFromGenderConst","getLSMediaContactProfilePictureUrl","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=j||(j=d("react")),n=j.useMemo,o=h._("__JHASH__3WTOYPxVm2l__JHASH__"),p=h._("__JHASH__J1b76x4xKfs__JHASH__"),q=h._("__JHASH__d3jtAkHct5c__JHASH__");function r(a,b){return n(function(){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!=="")return[m.jsx(m.Fragment,{children:a.serverSearchResult.contextLine})];var e=b.filter(function(a){return a!=null});return e.length>0?m.jsx(c("CometMiddotSeparator.react"),{children:e}):null},[a,b])}function s(a){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.contactTypeExact,h=b.gender,i=b.name,j=b.secondaryName,m=b.waConnectStatus,n=e.groupParticipantJoinState,o=e.isSuperAdmin;e=e.subscribeSource;return{gender:c("LSContactGenderToGenderConst")(h),isBlocked:!(k||(k=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:k.equal(n,l.ofNumber(c("LSGroupParticipantJoinState").INVITED)),isSuperAdmin:o===!0,name:i,nonWaAddressable:k.equal(m,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(b),secondaryName:j!=null&&d("MWLSContactTypeExactUtils").isIgContact(g)?j:null,subscribeSource:(h=e)!=null?h:null}}if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;n=f.isBlocked;o=f.name;i=f.nickname;m=f.profilePictureUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(b=n)!=null?b:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(g=i)!=null?g:o,nonWaAddressable:!1,profilePictureUrl:(j=m)!=null?j:"<PLACEHOLDER>",secondaryName:i!=null?o:null,subscribeSource:null}}if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.BroadcastChannelParticipant){e=a.participant;h=e.isBlocked;f=e.name;n=e.nickname;b=e.profilePictureUrl;g=e.profilePictureUrlFallback;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(m=h)!=null?m:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(j=n)!=null?j:f,nonWaAddressable:!1,profilePictureUrl:(o=(i=b)!=null?i:g)!=null?o:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}e=a.serverSearchResult;h=e.displayName;m=e.profilePicUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:!(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:!1,isSuperAdmin:!1,name:h,nonWaAddressable:!1,profilePictureUrl:(n=m)!=null?n:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}function t(a,b,c,e,f,g){var i,j,k;i=(i=d("MWGroupMembershipListItem").isAdmin(a))!=null?i:!1;j=(j=d("MWGroupMembershipListItem").isModerator(a))!=null?j:!1;k=(k=d("MWGroupMembershipListItem").isHost(a))!=null?k:!1;a=s(a);var l=a.isInvitedByViewer,m=a.isSuperAdmin,n=a.nonWaAddressable;a=a.subscribeSource;if(b&&n&&!l)return h._("__JHASH__YJ7dDY2F-1___JHASH__").toString();if(b&&!n&&l)return h._("__JHASH__XW-fqo6HqSP__JHASH__").toString();if(a!=null&&m)return c?o:a;if(i&&e)return o;if(j&&g)return p;return k&&f?q:null}function a(a){var b=a.canMessageUser,e=a.folder,f=a.isMAWParticipantSuperAdmin,g=a.isSecure,j=a.membershipListItem,l=a.onClose,n=a.showAdminIndicator,o=a.showHostIndicator;o=o===void 0?!1:o;var p=a.showInvitedByViewerOnly;p=p===void 0?!1:p;var q=a.showModeratorIndicator;a=a.thread;var u=d("MWPActor.react").useActor(),v=(k||(k=d("I64"))).to_string(d("MWGroupMembershipListItem").contactId(j)),w=d("MAWThreadCutover").useGetCutoverSecureThreadKey(v),x=w!=null?d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:w}):d("MWInboxRouteBuilder").buildURL({thread_key:v});w=s(j);var y=w.gender,z=w.isBlocked,A=w.isInvitedByViewer,B=w.isSuperAdmin,C=w.name,D=w.profilePictureUrl,E=w.secondaryName;w=w.subscribeSource;var F=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),G=r(j,[E,t(j,g,F,n,o,q),z?h._("__JHASH__iywW1hlnypb__JHASH__"):null,w!=null&&!B&&!F?w:null]),H=g&&A&&!p;return m.jsx(c("CDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{groupID:k.to_string((E=e==null?void 0:e.fbGroupId)!=null?E:(k||(k=d("I64"))).zero),userID:k.to_string(u)},otherProps:{folder:e,isMAWParticipantSuperAdmin:f,membershipListItem:j,onCloseDialog:l,thread:a},popoverEntryPoint:c("MWLSGroupMembershipMenu.entrypoint"),popoverType:"menu",preloadTrigger:"button",children:function(a,e,f,g,j,k,n){return m.jsx(c("MWXListCell.react"),{addOnEnd:m.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",C,c("getFBTSafeGenderFromGenderConst")(y))]),color:"primary",icon:d("fbicon")._(i("484388"),24),onHoverIn:g,onHoverOut:function(){return j==null?void 0:j()},onPress:function(){return e()},onPressIn:k,ref:a,testid:void 0}),addOnEndVerticalAlign:"center",addOnStart:m.jsx(c("MWLSGroupMembershipMemberCellProfilePhoto.react"),{linkProps:b?{onNavigate:l,url:x}:void 0,name:C,profilePictureUrl:D,showTooltip:b}),content:G!=null?m.jsx(c("MWXTextPairing.react"),{body:m.jsx(c("MWXText.react"),{color:H?"disabled":"secondary",type:"body4",children:G}),headline:m.jsx(c("MWXText.react"),{color:H?"disabled":"primary",type:"headline4",children:C}),level:4}):m.jsx(c("MWXText.react"),{align:"start",numberOfLines:1,type:"headline4",children:C}),size:"medium",testid:void 0},v)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMemberListGlimmer.react",["MWXGlimmer.react","MWXListCell.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={nameGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"x1oux285",$$css:!0},profileGlimmer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",height:"xc9qbxq",width:"x14qfxbe",$$css:!0}};function a(a){a=a.rowCount;a=a===void 0?3:a;return i.jsx(i.Fragment,{children:new Array(a).fill("").map(function(a,b){return i.jsx(c("MWXListCell.react"),{addOnStart:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.profileGlimmer}),content:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.nameGlimmer}),size:"medium"},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWGetGroupSuperAdmin",["Int64Hooks","MAWMiActOnActThreadReadyDeferred","cr:7003","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){if(b("cr:7003")!=null&&e){var d=b("cr:7003").sendAndReceive;c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(g,a,"MWLSGroupMembershipMemberList.bs",function(a,b,c){return d("backend","getGroupSuperAdmin",{threadId:b}).then(function(a){return f(a)})}))}},[g,e,f,a])}g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.react",["fbt","I64","LSGroupParticipantJoinState","LSIntEnum","LSMessagingThreadTypeUtil","MDSInfiniteScrollList.react","MWDialogTextPairing.react","MWGroupMembershipListItem","MWLSGroupMembershipMemberCell.react","MWMemberListGlimmer.react","MWPActor.react","emptyFunction","react","react-strict-dom","useMAWGetGroupSuperAdmin"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useCallback,n=b.useState,o={noHosts:{alignItems:"x6s0dn4",alignSelf:"xamitd3",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",marginTop:"x1jxqc7s",width:"xdzyupr",$$css:!0}};function a(a){var b=a.folder,e=a.participantsAndContacts,f=a.showAdmodIndicator,g=a.showHostsOnly,i=a.showAdmodsOnly,p=a.showInvitedByViewerOnly,q=a.thread,r=a.isLoading,s=a.onLoadMore,t=a.hasMore;t=t===void 0?!1:t;var u=a.onClose,v=u===void 0?c("emptyFunction"):u;u=a.doSortParticipants;a=u===void 0?!0:u;u=n(c("emptyFunction"));var w=u[0];u=u[1];var x=d("MWPActor.react").isAPPlus();i=i?e.filter(function(a){var b;b=(b=d("MWGroupMembershipListItem").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem").isModerator(a))!=null?a:!1;return b||a}):p?e.filter(function(a){a=a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER);return(k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED))}):g?e.filter(function(a){return(a=d("MWGroupMembershipListItem").isHost(a))!=null?a:!1}):e;e=a?i.slice(0).sort(function(a,b){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);return a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult?a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName):0}):i;var y=d("LSMessagingThreadTypeUtil").isSecure(q.threadType);c("useMAWGetGroupSuperAdmin")(q.threadKey,y,u);a=m(function(a){var e=d("MWGroupMembershipListItem").contactId(a);return l.jsx(c("MWLSGroupMembershipMemberCell.react"),{canMessageUser:!x,folder:b,isMAWParticipantSuperAdmin:y&&w!=null?w===(k||(k=d("I64"))).to_string(e):!1,isSecure:y,membershipListItem:a,onClose:v,showAdminIndicator:f,showHostIndicator:f,showInvitedByViewerOnly:p,showModeratorIndicator:f,thread:q},(k||(k=d("I64"))).to_string(e))},[b,x,y,v,f,p,w,q]);return e.length===0&&g&&r===!1&&t===!1?l.jsx(d("react-strict-dom").html.div,{style:o.noHosts,children:l.jsx(c("MWDialogTextPairing.react"),{body:h._("__JHASH__M-jFobtfz3M__JHASH__"),bodyColor:"secondary",headline:h._("__JHASH__7DQH5InZyqq__JHASH__"),textAlign:"center"})}):s!=null&&r!=null?l.jsx(c("MDSInfiniteScrollList.react"),{hasMore:t,isLoading:r,items:e,loadingIndicator:l.jsx(c("MWMemberListGlimmer.react"),{}),onLoadMore:s,renderItem:a}):e.map(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.entryPoint,e=a.threadKey,f=a.threadType,g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),h=c("CometDebounce")(function(){b!=null&&c("logMessengerWebFalcoEvent")({threadKey:e,threadType:f},"seen_receipt",b),g==null?void 0:g({entryPoint:b,eventName:"read_receipt",threadKey:e,threadType:f})});return d("Int64Hooks").useCallbackInt64(function(){return h()},[h])}g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","promiseDone","react","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useCallback,l=e.useEffect,m=(f=b("cr:268"))!=null?f:c("emptyFunction");function n(a,b,c,d,e){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0;e=(j||(j=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(j||(j=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return o.apply(this,arguments)}function p(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=c("useMWInboxPassiveContext")();return k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield n(f,a,g,j,i))return e()})())},[f,a,g,j,i,e])}function q(a,c,d){l(function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&void e();return function(){return window.removeEventListener("focus",e)}},[d,a,c])}function a(a,b,c,d){b=p(a.threadKey,b);m(a);q(c,d,b);return b}g["default"]=a}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",left:null,right:null,position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=m(d);var e=a[0],f=a[1];k(function(){d&&f(!0)},[d,f]);return l(function(){return e?j.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:j.jsx("div",{className:(h||(h=c("stylex")))([n.animationWrapper,d?n.animateIn:n.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessageRenderingType","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2","MAWFetchMoreMessagesWhenEnabled","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","MWScrollUtils","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","ReStoreKeyComparer","ServerTime","cr:5053","emptyFunction","gkx","nullthrows","promiseDone","react","requestAnimationFrame","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore","useShallowEqualState","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=j||(j=d("react"));e=j;var p=e.useCallback,q=e.useEffect,aa=e.useImperativeHandle,ba=e.useRef,ca=e.useState,da=(e=b("cr:5053"))!=null?e:c("emptyFunction"),r={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},ea=(k||(k=d("I64"))).of_string("9999999999999");function s(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function fa(a,b){if(a==null||b==null)return;return(k||(k=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function ga(a,b,d,e){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,d,e,void 0,c("LSFactory")(a))},"readwrite","ui"))}function ha(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function t(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.slice(1)}:{gte:a.gte.slice(1)}}function f(a){return a.lt!=null?{lt:a.lt.slice(1)}:{lte:a.lte.slice(1)}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.gt=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)g.gte=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)h.length!==1&&(g.lte=h.slice(1));else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=(l||(l=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.lt=h.slice(1);else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return(n||(n=d("PromiseOrValue"))).map(j.next(a==null?void 0:a.slice(1)),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d=[b].concat(a.value[0]),c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g=[b].concat(a),c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function ia(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},[b,a],f.id+":372")}function ja(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.maxTimestampMs,ea)?d("ReQL").empty():d("ReQL").fromTableDescending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},[b,a],f.id+":398")}function ka(){return!1}function a(a,b){var e,g=a.entryPoint,j=a.onInitialLoadingCompleted,l=a.logScrollerMetadata,n=a.onUserScroll,la=a.renderFooter,u=a.renderHeader,ma=a.renderHeaderContentSpacer,na=a.renderJumpToMostRecentMessageButton,v=a.renderLoadingAnimation,oa=a.renderRow,w=a.secondaryThread,x=a.thread,y=a.checkIsThreadManuallySetAsUnread,z=y===void 0?ka:y;y=a.pageSize;var A=a.onScrollToBottom,pa=a.isSufficientContentLoadedAbove;a=a.triggerRenderingCompleteOnResize;var qa=a===void 0?!1:a;function B(a,b,e,f){c("promiseDone")(a.runInTransaction(async function(a){var g,h;g=await (g=a.table("messages_ranges_v2__generated")).get.apply(g,b);if(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))return;h=e==null?null:await (h=a.table("messages_ranges_v2__generated")).get.apply(h,e);if(e!=null&&(h==null||(f==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(f==="before")if(h==null||g.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil").isSecure(D);if(i){if(I!=null)return I(a,g.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(ra));if(i){if(I!=null)return I(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else if(h==null||g.hasMoreAfter){i=d("LSMessagingThreadTypeUtil").isSecure(D);if(i)if(c("gkx")("6884")){if(I!=null)return I(a,g.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(ra));if(i)if(c("gkx")("6884")){if(I!=null)return I(a,h.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}},"readwrite","ui"))}var C=x.threadKey,D=x.threadType;a=w||{};var E=a.threadKey,ra=a.threadType,F=(h||(h=c("useReStore")))(),G=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(F.table("messages_ranges_v2__generated")).getKeyRange(C)},[F,C],f.id+":609");a=d("ReQLSuspense").useFirst(function(){return E==null?d("ReQL").empty():d("ReQL").fromTableDescending(F.table("messages_ranges_v2__generated")).getKeyRange(E)},[F,E],f.id+":616");var H=(i||(i=c("useUnsafeRef_DEPRECATED")))(new Map()),I=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages(D),J=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),sa=J.setVisibleMessage,K=J.visibleMessage;J=(J=K)!=null?J:{};var L=J.messageId,M=J.timestamp,N=d("ReQLSuspense").useFirst(function(){return L!=null&&M!=null?d("ReQL").fromTableAscending(F.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(C,M,L):d("ReQL").empty()},[F,C,L,M],f.id+":639"),O=fa(d("ReQLSuspense").useFirst(function(){return M!=null?d("ReQL").fromTableDescending(F.table("messages_ranges_v2__generated")).getKeyRange(C).bounds({lte:[M]}):d("ReQL").empty()},[F,M,C],f.id+":652"),M);J=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:G});var P=J[0],ta=J[1];J=P.displayMessage;var Q=P.displayMessagesRange;d("Int64Hooks").useEffectInt64(function(){L==null||M==null?ta(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:G})}):O==null?ga(F,C,L,D):O.minMessageId===L&&O.hasMoreBefore?B(F,d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId),null,"before"):O.maxMessageId===L&&O.hasMoreAfter?B(F,d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId),null,"after"):N!=null&&ta(function(a){return babelHelpers.extends({},a,{displayMessage:N,displayMessagesRange:O})})},[F,N,L,O,G,C,D,M]);q(function(){var a;a=(a=H.current.get(K==null?void 0:K.messageId))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[K]);P=ia(Q);var R=ja(Q),ua=ia(a),S=da({entryPoint:g,threadKey:C,threadType:D});g=ca(!0);var va=g[0],wa=g[1],T=ba(!1);g=p(function(){if(!qa)return;if(j==null||T.current)return;j(!1);T.current=!0},[j,qa]);var U=ba(null);e=(e=U.current)!=null?e:{};var V=e.doesContentFillScroll,W=e.onCloseToBottom;q(function(){var a;if(j==null||T.current)return;if(Q!=null&&!Q.hasMoreBefore){j(!0);T.current=!0;return}l&&l((a=(a=U.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,Q===G);if(V==null)return;if(V()){j(!1);T.current=!0;return}},[j,Q,l,G,V]);q(function(){var a;a=(a=U.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,function(a){return wa(a)})},[]);q(function(){var a;a=(a=U.current)==null?void 0:a.onCloseToBottom;if(a!=null&&A!=null)return a(36,function(a){return A(a)})},[A]);var xa=Q!=null?!Q.hasMoreAfter:!1;e=p(function(){return new Promise(function(a){var b=U.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&xa)})})},[xa,U]);var ya=c("useMAWMarkThreadAsRead")(x),za=d("LSMessagingThreadTypeUtil").isSecure(D),Aa=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(x,d("Int64Hooks").useCallbackInt64(function(){S==null?void 0:S();if(za){ya();return}c("promiseDone")(F.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(C,(k||(k=d("I64"))).of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite","ui"))},[S,C,ya,za,F]),e,z);q(function(){if(W!=null)return W(0,function(a){a&&!z()&&Aa()})},[W,Aa,z]);e=d("Int64Hooks").useMemoInt64(function(){var a=F.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(x.threadType),e=F.table("messages").index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(x.threadKey).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return w==null?b!=null?d("ReQL").union(t(b.getKeyRange(C),0),t(e,1)):t(e,1):d("ReQL").union(t(a.getKeyRange(w.threadKey).filter(function(a){a=a.isCollapsed;return!a}),0),t(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[F,w==null?void 0:w.threadKey,x.threadKey,x.threadType]);var X=Q!=null&&(k||(k=d("I64"))).equal(Q.maxTimestampMs,ea),Y=Q!=null&&(k||(k=d("I64"))).equal(Q.minTimestampMs,(k||(k=d("I64"))).zero),Ba=a!=null&&(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero);function Ca(){Q===G&&(U.current!=null&&U.current.scrollToBottom()),sa(function(){return void 0})}aa(b,function(){return{getScrollAreaElement:function(){var a;return(a=U.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){Ca()}),restoreScrollPosition:function(){var a;return(a=U.current)==null?void 0:a.restoreScrollPosition()}}});b=p(function(a,b){var c=b.nextItem;b=b.previousItem;return o.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:oa({domElementRef:ha(H.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.offlineThreadingId)},[H,oa]);var Z=(k||(k=d("I64"))).equal(x.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(x.threadType);if((Q==null||P==null&&!Y||R==null&&!X)&&!Z){if((k||(k=d("I64"))).equal(x.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return o.jsxs(o.Fragment,{children:[o.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),u!=null?u():null]});Y=Q==null?"displayMessagesRangeNull":P==null&&!Y?"noMinMessage":R==null&&!X?"noMaxMessage":"other";return o.jsxs(o.Fragment,{children:[o.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+Y,hold:!0}),v!=null?v():null]})}var $=!Z&&Q!=null?d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId):null,Da=a==null?null:d("ReQL").key(a.threadKey,a.minTimestampMs,a.minMessageId);X=J==null?"bottom":[1].concat(s(J));Y=P==null?ua==null||Ba?null:[0].concat(s(ua)):[1].concat(s(P));J=R==null?null:[1].concat(s(R));return o.jsxs(c("Box.react"),{xstyle:r.list,children:[o.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatLoadingMoreMessages",hold:!Z&&Q!=null?Q.isLoadingBefore||Boolean(a==null?void 0:a.isLoadingBefore):!1}),o.jsx(c("BaseHeadingContextWrapper.react"),{children:o.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:Y,lte:J},data:e,hasReachedBottom:!Z&&Q!=null?!Q.hasMoreAfter:!0,hasReachedTop:!Z&&Q!=null?a==null?!(Q.hasMoreBefore||w!=null):!(Q.hasMoreBefore||a.hasMoreBefore):!0,imperativeRef:U,initialAnchor:X,initialRenderComplete:g,isSufficientContentLoadedAbove:pa,onReachingBottom:!Z&&$!=null?function(){B(F,$,Da,"after")}:c("emptyFunction"),onReachingTop:!Z&&$!=null?function(){return B(F,$,Da,"before")}:c("emptyFunction"),onUserScroll:n,pageSize:y,renderFooter:la,renderHeader:u,renderHeaderContentSpacer:ma!=null?ma:function(){return o.jsx(c("Box.react"),{xstyle:r.spacer})},renderItem:b,renderLoadingAnimation:v,xstyle:r.list})}),na&&o.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!Z&&Q!=null?!va||Q.hasMoreAfter:!1,children:na(Ca)})]})}a.displayName=a.name+" [from "+f.id+"]";b=o.forwardRef(a);g.default=b}),98);
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts")))},[b,a.threadKey],f.id+":28")}g.useValue=a}),98);
__d("MWXIconThread",["MWXSvgIcon","SVGIcon","cr:6940","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:6940")),c("gkx")("571")||c("gkx")("386"));g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSCreateCommunitySubThread",["LSCreateOfflineThreadingID","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=new c.Map(),d[2].set("client_mutation_id",d[1]),d[2].set("community_id",a[0]),d[2].set("parent_message_id",a[2]),d[2].set("parent_thread_id",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[7],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("parent_thread_id"),d[2],d[5]=c.toJSON(d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),["create_community_sub_thread","_",c.i64.to_string(d[4])].join(""),c.i64.cast([0,665]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSDeleteMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[5]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[5]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[5])&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[6])})})}])}):c.resolve()},function(b){return c.i64.eq(f,c.i64.cast([0,12]))?d[1]=c.i64.cast([0,10]):(a[9]?d[5]=c.i64.cast([0,9]):d[5]=c.i64.cast([0,3]),d[1]=d[5]),c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],f)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[2]=d[5])})},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),d[2],f,c.i64.cast([0,0]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[4],c.i64.to_string(c.i64.cast([0,46])),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],c.i64.cast([0,20]),c.i64.cast([0,1]),f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[4],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return c[3]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:c[3],pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=b.i64.cast([0,1002]))},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],c.i64.cast([0,0]))?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSSendPhase1MultiPhotoMessageV2",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=c.createArray(),d[1]=new c.Map(),d[2]=new c.Map(),d[3]=!1,d[4]=c.i64.cast([0,0]),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[7]=a.fbid,d[4]=c.i64.add(d[4],c.i64.cast([0,1])),c.i64.neq(d[7],f)?d[8]=(d[0].push(d[7]),d[0]):0})},function(e){return d[5]=c.i64.of_int32(d[0].length),c.i64.neq(d[5],d[4])||c.i64.eq(d[4],c.i64.cast([0,0]))?c.resolve(d[6]=c.i64.cast([0,10002])):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c)})},function(e){return c.i64.eq(d[7],f)||c.i64.eq(d[8],f)?c.resolve((c.i64.eq(d[7],f)?d[14]=c.i64.cast([0,10003]):d[14]=c.i64.cast([0,10004]),d[13]=d[14])):c.seq([function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=f:(b=a.item,d[14]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f,f],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f,f,f],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],c)})},function(e){return c.i64.neq(d[14],f)?c.seq([function(e){return d[24]=d[1].keys(),d[25]=c.i64.of_int32(d[24].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(e){return d[31]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[24],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(e){return d[34]=d[2].get(d[32]),d[2],d[35]=c.i64.to_string(d[34]),d[35]!==f?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[24],d[31]).then(function(a){return a=a,d[36]=a[0],d[37]=a[1],a})},function(b){return d[38]=d[1].get(d[32]),d[1],c.fe(c.ftr(c.db.table(16).fetch([[[d[7],a[0],d[36]]]]),function(b){return c.i64.eq(b.threadKey,d[7])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[0]&&b.attachmentFbid===d[36]}),function(a){var b=a.update;a.item;return b({attachmentFbid:d[35],originalFileHash:d[38]})})}]):c.resolve()}])}):c.resolve()},function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],d[28]=a[2],a})},function(e){return c.i64.neq(d[26],f)?d[29]=d[26]:d[29]=c.i64.cast([0,0]),c.sp(b("LSIssueSendAttachmentMessageTask"),d[8],d[7],d[14],a[0],d[9],d[0],d[29],d[10],d[11],d[3],d[16],d[17],a[1])},function(a){return c.i64.ge(c.i64.cast([0,0]),c.i64.cast([0,0]))?d[30]=f:d[30]=c.i64.cast([0,10006]),d[23]=d[30]}]):c.resolve(d[23]=c.i64.cast([0,10005]))},function(a){return d[13]=d[23]}])},function(a){return d[6]=d[13]}])},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSResumeMediaSendJob",["LSInsertPhase2PendingTask","LSSendPhase1MultiPhotoMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],c.i64.cast([-1,4294967293]))?d[10]=!0:(c.i64.eq(d[11],c.i64.cast([0,1]))?d[14]=!0:(c.i64.eq(d[11],c.i64.cast([0,3]))?d[15]=!0:(c.i64.eq(d[11],c.i64.cast([0,5]))?d[16]=!0:(c.i64.eq(d[11],c.i64.cast([0,13]))?d[17]=!0:(c.i64.eq(d[11],c.i64.cast([0,7]))?d[18]=!0:(c.i64.eq(d[11],c.i64.cast([0,9]))?d[19]=!0:(c.i64.eq(d[11],c.i64.cast([0,11]))?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],c.i64.cast([0,5]))||c.i64.eq(d[11],c.i64.cast([0,11]))?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?d[14]=c.i64.cast([0,5]):(c.i64.eq(d[11],c.i64.cast([-1,4294967294]))?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(d[11],c.i64.cast([0,2]))?d[16]=c.i64.cast([0,3]):(c.i64.eq(d[11],c.i64.cast([0,4]))?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?c.i64.cast([0,13]):f:c.i64.cast([0,5])):(c.i64.eq(d[11],c.i64.cast([0,6]))?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?c.i64.cast([0,13]):f):(c.i64.eq(d[11],c.i64.cast([0,14]))?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?c.i64.cast([0,7]):c.i64.cast([0,9]):f):(c.i64.eq(d[11],c.i64.cast([0,8]))?d[20]=c.i64.cast([0,9]):(c.i64.eq(d[11],c.i64.cast([0,10]))?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:c.i64.cast([0,11])):(c.i64.eq(d[11],c.i64.cast([0,12]))?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],c.i64.cast([0,5]))||c.i64.eq(d[14],c.i64.cast([0,11]))?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],c.i64.cast([0,10])):c.i64.eq(d[5],c.i64.cast([0,4])):d[12]?c.i64.eq(d[5],c.i64.cast([0,12])):c.i64.eq(d[5],c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],c.i64.cast([0,5]))?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=c.i64.cast([0,9]),d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=new c.Map(),d[18]=new c.Map(),d[19]=!1,d[20]=c.i64.cast([0,0]),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.fbid,d[20]=c.i64.add(d[20],c.i64.cast([0,1])),c.i64.neq(d[25],f)?d[26]=(d[16].push(d[25]),d[16]):0})},function(b){return d[21]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.metadata,d[25]!==f?d[26]=(d[21].push(d[25]),d[21]):0})},function(a){return d[22]=c.i64.of_int32(d[16].length),d[23]=c.i64.of_int32(d[21].length),c.i64.neq(d[22],d[20])||c.i64.neq(d[23],d[20])?d[24]=c.i64.cast([0,11]):(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[24]=f),d[15]=d[24]}]):c.seq([function(e){return c.sp(b("LSSendPhase1MultiPhotoMessageV2"),a[0],a[2]).then(function(a){return a=a,d[16]=a[0],a})},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,6])})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4])):d[18]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967295]))?d[19]=c.i64.cast([0,5]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967294]))?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,2]))?d[21]=c.i64.cast([0,3]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4]))?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?c.i64.cast([0,13]):f:c.i64.cast([0,5])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6]))?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?c.i64.cast([0,13]):f):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,14]))?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?c.i64.cast([0,7]):c.i64.cast([0,9]):f):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,8]))?d[25]=c.i64.cast([0,9]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10]))?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:c.i64.cast([0,11])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12]))?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],c.i64.cast([0,11]))?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],c.i64.cast([0,13]))?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,14])})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",c.i64.cast([0,11]))))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWV2CreatePromptMenuItemQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23937200145924592"}),null);
__d("MWV2CreatePromptMenuItemQuery.graphql",["MWV2CreatePromptMenuItemQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWV2CreatePromptMenuItemQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWV2CreatePromptMenuItemQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWV2CreatePromptMenuItemQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("MWV2CreatePromptMenuItemQuery_facebookRelayOperation"),metadata:{},name:"MWV2CreatePromptMenuItemQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWDbAppMeta",[],(function(a,b,c,d,e,f){"use strict";a={allowSecurityAlert:"allowSecurityAlert",allowSecurityAlertForSelf:"allowSecurityAlertForSelf",hmacKey:"hmacKey",hotlikeSticker:"hotlikeSticker",isBackfilledForOccamadillo:"isBackfilledForOccamadillo",msgTypeVersion:"msgTypeVersion"};f.AppMetaKeysEnum=a}),66);
__d("SignalDbTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a+"_"+b+"_"+c}b={abProps:"abProps",authKeyPair:"authKeyPair",cat:"cat",certificateChain:"certificateChain",clockSkew:"clockSkew",deviceId:"deviceId",deviceUUID:"deviceUUID",edgeInfo:"edgeInfo",fbid:"fbid",identityKeyPair:"identityKeyPair",lastPrekeyGenerationId:"lastPrekeyGenerationId",lastPrekeyId:"lastPrekeyId",lastSessionDeviceWasLinkedTo:"lastSessionDeviceWasLinkedTo",lastSignedPrekeyId:"lastSignedPrekeyId",regId:"regId",registrationVersion:"registrationVersion"};({msgrDeviceId:"msgrDeviceId"});f.buildSenderKeySessionId=a;f.MetaKeysEnum=b}),66);
__d("MAWDbMsgTypeVersionTxns",["MAWDbAppMeta","MAWDexieTable"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion}).then(function(a){return a==null?void 0:a.value.msgTypeVersion})}function b(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function c(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function e(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey,value:{hmacKey:b}})}function f(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey}).then(function(a){return a==null?void 0:a.value.hmacKey})}function i(a,b){return a.appMeta.get({key:b})}function j(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert,value:{allowSecurityAlert:b}}).then(function(){})}function k(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf,value:{allowSecurityAlertForSelf:b}}).then(function(){})}function l(a){return i(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlert)!=null?a:!1})}function m(a){return i(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlertForSelf).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlertForSelf)!=null?a:!0})}function n(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hotlikeSticker,value:{hotlikeSticker:b}})}function o(a){return d("MAWDexieTable").dexieAll([m(a),l(a)]).then(function(a){var b=a[0];a=a[1];return{allowSecurityAlertForContact:a,allowSecurityAlertForSelf:b}})}g.MSG_TYPE_VERSION=(h=d("MAWDbAppMeta")).AppMetaKeysEnum.msgTypeVersion;g.ALLOW_SECURITY_ALERT_FOR_CONTACT=h.AppMetaKeysEnum.allowSecurityAlert;g.ALLOW_SECURITY_ALERT_FOR_SELF=h.AppMetaKeysEnum.allowSecurityAlertForSelf;g.HOT_LIKE=h.AppMetaKeysEnum.hotlikeSticker;g.getMsgTypeVersion=a;g.addMsgTypeVersion=b;g.updateMsgTypeVersion=c;g.addHMACKey=e;g.getHMACKey=f;g.getAppMetaValue=i;g.updateSecurityAlertValueForContact=j;g.updateSecurityAlertValueForSelf=k;g.getSecuritySettingForContact=l;g.getSecuritySettingForSelf=m;g.addHotLike=n;g.maybeBulkGetSecuritySetting=o}),98);
__d("WAPromiseQueue",["Promise"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){a===void 0&&(a=-1),this.$1=(g||(g=b("Promise"))).resolve(),this.$3=0,this.$2=a}var c=a.prototype;c.wait=function(){return this.$1};c.enqueueHandlers=function(a,b,c){var d=this;this.$3++;b=this.$1.then(function(){return a}).then(b,c);c=b.then();this.$1=h(b,this.$2)["finally"](function(){d.$3--});return c};c.enqueue=function(a){var b=this;this.$3++;a=this.$1.then(a);var c=a.then();this.$1=h(a,this.$2)["finally"](function(){b.$3--});return c};c.size=function(){return this.$3};return a}();c=function(){function a(a){a===void 0&&(a=-1),this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitIfPending=function(a){return this.$1.get(a)};c.wait=function(a){return this.$1.get(a)||(g||(g=b("Promise"))).resolve()};c.enqueueHandlers=function(a,b,c,d){c=this.wait(a).then(function(){return b}).then(c,d);return this.$3(a,c)};c.enqueue=function(a,b){b=this.wait(a).then(b);return this.$3(a,b)};c.$3=function(a,b){var c=this,d=b.then(),e,f=function(){c.$1.get(a)===e&&c.$1["delete"](a)};e=h(b,this.$2).then(f,f);this.$1.set(a,e);return d};return a}();function h(a,c){if(c>=0)return new(g||(g=b("Promise")))(function(b){var d=function(){return void b()};a.then(d,d);setTimeout(d,c)});else return a.then(i,i)}function i(){}f.PromiseQueue=a;f.PromiseQueueMap=c}),66);
__d("WAServerSync.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({SET:0,REMOVE:1});c={};e={};f={};b={};var h={},i={},j={},k={},l={},m={},n={};c.internalSpec={version:[1,(d=d("WAProtoConst")).TYPES.UINT64]};e.internalSpec={code:[1,d.TYPES.UINT64],text:[2,d.TYPES.STRING]};f.internalSpec={blob:[1,d.TYPES.BYTES]};b.internalSpec={blob:[1,d.TYPES.BYTES]};h.internalSpec={id:[1,d.TYPES.BYTES]};i.internalSpec={index:[1,d.TYPES.MESSAGE,f],value:[2,d.TYPES.MESSAGE,b],keyId:[3,d.TYPES.MESSAGE,h]};j.internalSpec={mediaKey:[1,d.TYPES.BYTES],directPath:[2,d.TYPES.STRING],handle:[3,d.TYPES.STRING],fileSizeBytes:[4,d.TYPES.UINT64],fileSha256:[5,d.TYPES.BYTES],fileEncSha256:[6,d.TYPES.BYTES]};k.internalSpec={version:[1,d.TYPES.MESSAGE,c],records:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i],mac:[3,d.TYPES.BYTES],keyId:[4,d.TYPES.MESSAGE,h]};l.internalSpec={mutations:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m]};m.internalSpec={operation:[1,d.TYPES.ENUM,a],record:[2,d.TYPES.MESSAGE,i]};n.internalSpec={version:[1,d.TYPES.MESSAGE,c],mutations:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m],externalMutations:[3,d.TYPES.MESSAGE,j],snapshotMac:[4,d.TYPES.BYTES],patchMac:[5,d.TYPES.BYTES],keyId:[6,d.TYPES.MESSAGE,h],exitCode:[7,d.TYPES.MESSAGE,e],deviceIndex:[8,d.TYPES.UINT32],clientDebugData:[9,d.TYPES.BYTES]};g.SyncdMutation$SyncdOperation=a;g.SyncdVersionSpec=c;g.ExitCodeSpec=e;g.SyncdIndexSpec=f;g.SyncdValueSpec=b;g.KeyIdSpec=h;g.SyncdRecordSpec=i;g.ExternalBlobReferenceSpec=j;g.SyncdSnapshotSpec=k;g.SyncdMutationsSpec=l;g.SyncdMutationSpec=m;g.SyncdPatchSpec=n}),98);
__d("WABinary",["WAErr","WAHex"],(function(a,b,c,d,e,f,g){var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c("WAErr")("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw c("WAErr")(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c("WAErr")("ParseError: varint exceeds 64 bits");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c("WAErr")(typeof a==="string"?'TyperError WriteError: string "'+a+'" is not a valid '+e:"TypeError WriteError: "+String(a)+" is not a valid "+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c("WAErr")("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];n=o[1];var p=o[0];g.push(p);j.push(n);if((n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){p=o[2];if(typeof p.cast==="function")f[m]=p;else{n=!0;o=0;for(var q in p)n&&q!==o++&&(n=!1);q=void 0;if(n){q=[];for(n=0;n<o;n++)q.push(!0)}else{q={};for(n in p)q[p[n]]=!0}f[m]=q}}else f[m]=null}var r={};o=function(a){l[a].forEach(function(b){r[b]||(r[b]=[]),r[b].push(a)})};for(n in l)o(n);p=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];m=new h(e,g,j,k,f,l,r,p,q);a.internalCompiledSpec=m;return m}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q];if(r===void 0)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);o=j[n];o&&o.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++)b(n);return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("decodeProtobuf",["WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e){var f=d("WAProtoCompile").compileSpec(a),g=f.names,k=f.fields,l=f.types,m=f.meta,o=f.oneofToFields,p=f.fieldToOneof,q=f.reservedTags,r=f.reservedFields;f=a.internalDefaults;var s=c||babelHelpers["extends"]({},f)||{};s.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(f=0;f<g.length;f++)l[f]&d("WAProtoConst").FLAGS.REPEATED&&(s[g[f]]=[]);var t=0;c=k.length>0;a=k[0];while(b.size()){f=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var u=f&7,v=f>>>3;if(c&&v!==a){f=t;do++t===k.length&&(t=0),a=k[t];while(v!==a&&t!==f)}if(c&&v===a)(function(){var a=g[t],c=l[t];h(u,c,a);var f=c&d("WAProtoConst").TYPE_MASK,j=m[t];if(c&d("WAProtoConst").FLAGS.PACKED){var k=b.readVarInt(d("WABinary").parseUint64OrThrow);k=b.readBinary(k);while(k.size()){var w=i(a,f,k);(f!==d("WAProtoConst").TYPES.ENUM||j[w]||(j.cast==null?void 0:j.cast(w))!==void 0)&&s[a].push(w)}}else if(f===d("WAProtoConst").TYPES.MESSAGE){w=b.readVarInt(d("WABinary").parseUint64OrThrow);k=b.readBinary(w);if(c&d("WAProtoConst").FLAGS.REPEATED)s[a].push(n(j,k,void 0,e));else{w=s[a];s[a]=n(j,k,w,e)}}else{k=i(a,f,b);(f!==d("WAProtoConst").TYPES.ENUM||j[k]||(j.cast==null?void 0:j.cast(k))!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?s[a].push(k):s[a]=k)}w=p[a];w&&typeof s[a]!=="undefined"&&w.forEach(function(b){b=o[b].filter(function(b){return b!==a});b.forEach(function(a){delete s[a]})});(q[v]||r[a])&&delete s[a]})();else{s.$$unknownFieldCount++;if(e){s.$$unsafeUnknownFields||(s.$$unsafeUnknownFields={});f=void 0;switch(u){case d("WAProtoConst").ENC.VARINT:f=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:f=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:f=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:f=b.readBinary(4);break}s.$$unsafeUnknownFields[v]=f}else u===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):u===d("WAProtoConst").ENC.BIT64?b.advance(8):u===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):u===d("WAProtoConst").ENC.BIT32&&b.advance(4)}}return s}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithUnknowns=b;g.getUnknownFields=e}),98);
__d("WASyncdConst",["$InternalEnum","WATimeUtils"],(function(a,b,c,d,e,f,g){a=1e3;c=1e3*60*60;e=2;f=d("WATimeUtils").DAY_MILLISECONDS*2;d=100;var h=2e3,i=10,j=100,k=0,l=3,m=7,n=(b=b("$InternalEnum"))({Star:"star",Contact:"contact",Mute:"mute",PinDEPRECATED:"pin",Pin:"pin_v1",SettingPushName:"setting_pushName",LabelEdit:"label_edit",LabelMessage:"label_message",LabelJid:"label_jid",QuickReply:"quick_reply",LocaleSetting:"setting_locale",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChat:"clearChat",DeleteMessageForMe:"deleteMessageForMe",Sentinel:"sentinel",UnarchiveChatsSetting:"setting_unarchiveChats",DeleteChat:"deleteChat",AndroidUnsupportedActions:"android_unsupported_actions",PrimaryFeature:"primary_feature",Subscription:"subscription",Nux:"nux",Agent:"deviceAgent",TimeFormat:"time_format",UserStatusMute:"userStatusMute",PrimaryVersion:"primary_version",RemoveRecentSticker:"removeRecentSticker",ChatAssignment:"agentChatAssignment",ChatAssignmentOpenedStatus:"agentChatAssignmentOpenedStatus",FavoriteSticker:"favoriteSticker",PnForLidChat:"pnForLidChat",ShareOwnPn:"shareOwnPn",ExternalWebBeta:"external_web_beta",MarketingMessage:"marketingMessage",MarketingMessageBroadcast:"marketingMessageBroadcast",StatusPrivacy:"status_privacy",BotWelcomeRequest:"bot_welcome_request",LabelReordering:"label_reordering"}),o=b({Regular:"regular",RegularLow:"regular_low",RegularHigh:"regular_high",CriticalBlock:"critical_block",CriticalUnblockLow:"critical_unblock_low"}),p=b.Mirrored(["Success","SuccessHasMore","Conflict","ConflictHasMore","ErrorRetry","ErrorFatal","Blocked"]),q=b.Mirrored(["UpToDate","Dirty","FailingFiniteRetry","Fatal","Blocked"]),r=b.Mirrored(["Success","Malformed","Orphan","Unsupported","Skipped","Failed"]),s=b.Mirrored(["Msg","Chat","Agent","ChatAssignment","UserStatusMute"]),t=b.Mirrored(["ApplyRemoteAndDropLocal","SkipRemote","SkipRemoteAndDropLocal"]);b=b.Mirrored(["Patch","Snapshot","Local"]);g.BACKOFF_MIN_TIMEOUT=a;g.BACKOFF_MAX_TIMEOUT=c;g.BACKOFF_BASE=e;g.FINITE_FAILURE_EXPIRY_DURATION=f;g.MIN_INLINE_MUTATIONS=d;g.MAX_INLINE_MUTATIONS=h;g.MIN_PATCH_SIZE=i;g.MAX_PATCH_SIZE=j;g.DEFAULT_COLLECTION_VERSION=k;g.LABEL_ASSOCIATION_SYNC_VERSION=l;g.CHAT_ASSIGNMENT_SYNC_VERSION=m;g.Actions=n;g.CollectionName=o;g.CollectionState=p;g.CollectionSyncState=q;g.SyncActionState=r;g.SyncModelType=s;g.ConflictResolutionState=t;g.SyncDataType=b}),98);
__d("WASyncdKeyTypes",[],(function(a,b,c,d,e,f){function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}f.toSyncKeyId=a;f.fromSyncKeyId=b;f.toSyncKeyData=c;f.fromSyncKeyData=d}),66);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else{a.writeVarInt(k);o=m[p];o(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("MAWHMACKey",["MAWCryptoConsts","MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWKeychainUtil","MAWSubtleCrypto","MAWTransactionMode","WABase64","tweetnacl-auth"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES);return i(a).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function a(a,b){a=new TextEncoder().encode(a);b=new Uint8Array(b);a=c("tweetnacl-auth")(a,b);return d("WABase64").encodeB64UrlSafe(a)}function b(){return h().then(function(a){return d("MAWIndexedDb").makeMsgrTransactor({appMeta:d("MAWTransactionMode").READWRITE},"generateAndInsertHMACKey")(function(b){return d("MAWDbMsgTypeVersionTxns").getHMACKey(b).then(function(c){return c!=null?c:d("MAWDbMsgTypeVersionTxns").addHMACKey(b,a)}).then(function(){return a})})()})}function i(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{hash:"SHA-256",name:"HMAC"},!0,["sign"])}g.genHMACKey=h;g.hmacTweetNaCl=a;g.generateAndInsertHMACKey=b}),98);
__d("MAWAudioUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=URL.createObjectURL(a);return new(h||(h=b("Promise")))(function(a,b){var e=new Audio();e.setAttribute("crossOrigin","anonymous");e.addEventListener("loadedmetadata",function(c){c=c.currentTarget;if(c instanceof HTMLAudioElement){c=c.duration;a(Math.ceil(c))}else b("EventTarget returned for event should be HTMLAudioElement")});e.src=d;e.onabort=function(){b(function(){throw c("err")("Error loading audio from provided URL")})};e.onerror=function(){b(function(){throw c("err")("Wrong blob type")})}})}g.getAudioDurationInSeconds=a}),98);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}e=function(a){return a==null?a:k(a)};function a(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function b(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function c(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=e;g.isBiggerLongInt=a;g.longIntToDecimalString=b;g.decimalStringToLongInt=c}),98);
__d("WAConcurrentIterate",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;function a(a,c,d){var e=[],f=[],h=0,i=function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(h<a)){e.next=8;break}d=h;h++;e.next=5;return b("regeneratorRuntime").awrap(c(d));case 5:f[d]=e.sent;e.next=0;break;case 8:case"end":return e.stop()}},null,this)};d=Math.min(a,d);for(var j=0;j<d;j++)e.push(i());return(g||(g=b("Promise"))).all(e).then(function(){return f})}f.concurrentIterate=a}),66);
__d("WATypedArraysCast",["WABase64"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof a)return b;return typeof b==="string"?new a(d("WABase64").decodeB64(b)):new a(b)}g.castTypedArrays=a}),98);
__d("WACryptoHmac",["WATypedArraysCast"],(function(a,b,c,d,e,f,g){var h=32,i=new Uint8Array(h),j={name:"HMAC",hash:"SHA-256"},k={name:"HMAC",hash:"SHA-512"},l={name:"HMAC",hash:"SHA-1"};function m(a,b){b=d("WATypedArraysCast").castTypedArrays(Uint8Array,b);return self.crypto.subtle.importKey("raw",b,a,!1,["sign"]).then(function(b){return{key:b,algo:a}})}function a(a){return m(j,a)}function n(a,b,c){var d=a.key;a=a.algo;return self.crypto.subtle.sign(a,d,b).then(function(a){return c!=null&&c!==0?a.slice(0,c):a})}function b(a,b){return m(j,a!=null?a:i).then(function(a){return n(a,b)})}function c(a,b,c){return m(j,a).then(function(a){return n(a,b,c)})}function e(a,b,c){return m(k,a).then(function(a){return n(a,b,c)})}function f(a,b,c){return m(l,a).then(function(a){return n(a,b,c)})}g.SHA256_BYTE_LENGTH=h;g.DEFAULT_SALT=i;g.encodeKeySha256=a;g.sign=n;g.extractSha256=b;g.hmacSha256=c;g.hmacSha512=e;g.hmacSha1=f}),98);
__d("WAMediaCryptoSidecar",["WAConcurrentIterate","WACryptoHmac"],(function(a,b,c,d,e,f,g){function a(a){return a==="video"}function b(a){return a}var h=16,i=10,j=64*1024;function c(a,b,c){c===void 0&&(c=1);var e=b.buffer.byteLength;e=Math.ceil((e-h)/j);var f=new Uint8Array(i*e);return d("WAConcurrentIterate").concurrentIterate(e,function(c){var e=c*j,g=e+h+j;e=b.subarray(e,g);return d("WACryptoHmac").sign(a,e).then(function(a){a=new Uint8Array(a,0,i);f.set(a,c*i)})},c).then(function(){return f.buffer})}g.shouldHaveStreamingSidecar=a;g.castToStreamingSidecar=b;g.calculateStreamingSidecar=c}),98);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={fileSha256:[1,(c=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,c.TYPES.BYTES],fileEncSha256:[3,c.TYPES.BYTES],directPath:[4,c.TYPES.STRING],mediaKeyTimestamp:[5,c.TYPES.INT64],serverMediaType:[6,c.TYPES.STRING],uploadToken:[7,c.TYPES.BYTES],validatedTimestamp:[8,c.TYPES.BYTES],sidecar:[9,c.TYPES.BYTES],objectId:[10,c.TYPES.STRING],fbid:[11,c.TYPES.STRING],downloadableThumbnail:[12,c.TYPES.MESSAGE,b],handle:[13,c.TYPES.STRING],filename:[14,c.TYPES.STRING]};b.internalSpec={fileSha256:[1,c.TYPES.BYTES],fileEncSha256:[2,c.TYPES.BYTES],directPath:[3,c.TYPES.STRING],mediaKey:[4,c.TYPES.BYTES],mediaKeyTimestamp:[5,c.TYPES.INT64]};g.MediaEntrySpec=a;g.MediaEntry$DownloadableThumbnailSpec=b}),98);
__d("WAServerMediaType",["WAAssertUnreachable"],(function(a,b,c,d,e,f,g){d=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":return a;default:return null}}function b(a){switch(a){case"Image":return"image";case"Video":return"video";case"Ptt":return"ptt";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"document";case"Text":case"Futureproof":case"Ciphertext":case"Unavailable":case"ExpiredEphemeral":case"Admin":case"Revoked":case"DeleteForMe":case"EphemeralSettingAdmin":case"EphemeralSyncResponse":case"EphemeralSettingChangeFromCurrentDevice":case"AlertICDC":case"GroupInvite":case"SenderKeyDistribution":case"Reaction":case"EditAction":return null;default:return c("WAAssertUnreachable")(a)}}g.SERVER_MEDIA=d;g.castToServerMediaType=a;g.getMediaType=b}),98);
__d("WAMediaUtils",["Promise","WABase64","WAErr","WALongInt","WAMediaCryptoSidecar","WAMediaEntryData.pb","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=new Uint8Array(32);self.crypto.getRandomValues(a);return a.buffer}function j(a){return a}function a(){return i()}function k(a){return a}function e(a){return d("WABase64").encodeB64UrlSafe(a)}function f(a){return a}function l(a){return a}function m(a){return a}function n(a){return a}function o(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,k=a.serverMediaType,l=a.downloadableThumbnail;a=a.filename;return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f,mediaKeyTimestamp:g==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(g)),sidecar:h&&d("WAMediaCryptoSidecar").castToStreamingSidecar(h),objectId:i,fbid:j,downloadableThumbnail:l&&w(l),serverMediaType:k,filename:a}}function p(a,b,c,e,f,g,h,i,j,k){a=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:a,fileEncSha256:b,mediaKey:c,directPath:e,mediaKeyTimestamp:f,serverMediaType:g,objectId:h,fbid:i,downloadableThumbnail:j,filename:k});return a.readByteArray()}function q(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function r(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function s(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArray()}function t(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArray()}function u(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function v(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function w(a){return a==null?null:{directPath:a.directPath,fileEncSha256:a.fileEncSha256,fileSha256:a.fileSha256,mediaKey:a.mediaKey&&j(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))}}function x(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail"]);return babelHelpers["extends"]({},a,{serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&j(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&k(f),downloadableThumbnail:g&&w(g)})}function y(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onload=function(){var a=e.result;a instanceof ArrayBuffer?b(a):d(c("WAErr")("blobToArrayBuffer got error becaues result is not ArrayBuffer"))};e.onerror=function(){var a;a=((a=e.error)==null?void 0:a.name)||"unknown";d(c("WAErr")("blobToArrayBuffer got error got error "+a))};e.readAsArrayBuffer(a)})}function z(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b="application/pdf";break;case"xma-image":b="image/jpeg";break;default:throw c("WAErr")("Unsupported server media type: "+a)}return b}g.createMediaKey=i;g.castToMediaKey=j;g.createUploadToken=a;g.castToUploadToken=k;g.toPlaintextHash=e;g.stringToPlaintextHash=f;g.toHashedPlaintextHash=l;g.stringToDeliveryObjectId=m;g.stringToBackupEntFbid=n;g.mediaEntryDataToRawData=o;g.rawDataToMediaEntry=p;g.encodeMediaEntryForUpload=q;g.encodeMediaEntryForDownload=r;g.encodeMediaEntryWithUpdatedPath=s;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=t;g.encodeMediaEntryWithUpdatedFbid=u;g.encodeMediaEntryWithUpdatedObjectId=v;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=w;g.decodeMediaEntryData=x;g.blobToArrayBuffer=y;g.getMimeTypeFromServerMediaType=z}),98);
__d("MAWMediaUtils",["MAWDbMedia","MAWGlobals","MAWHMACKey","WAMediaUtils","WATimeUtils","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="media");switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return b==="xma-media"?"xma-image":"image";case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return"video";case d("MAWDbMedia").MEDIA_TYPE.PTT:return"ptt";case d("MAWDbMedia").MEDIA_TYPE.GIF:return"gif";case d("MAWDbMedia").MEDIA_TYPE.STICKER:return"sticker";case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return"document";default:throw c("err")("get a wrong media file with type "+a)}}function h(a){try{return d("WAMediaUtils").blobToArrayBuffer(a).then(i)}catch(a){throw c("err")("Got "+a+" when convert the blob to Uint8Array")}}function i(a){return self.crypto.subtle.digest("SHA-256",a).then(function(a){return new Uint8Array(a)})}function e(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield h(a));a=d("WAMediaUtils").toPlaintextHash(a);var b=k(a);return[a,b]});return j.apply(this,arguments)}function k(a){var b=d("MAWGlobals").getHMACKey();return d("WAMediaUtils").toHashedPlaintextHash(d("MAWHMACKey").hmacTweetNaCl(a,b))}function f(a){var b="preview-"+d("WATimeUtils").unixTime().toString()+".jpeg";return l(a,b,"image/jpeg")}function l(a,b,c){return new File([new Blob([new Uint8Array(a)],{type:c})],b,{type:c})}g.getServerMediaTypeFromMediaType=a;g.hashBlob=h;g.hashArrayBuffer=i;g.genBlobHashes=e;g.genHMACPlaintextHash=k;g.convertJpegThumbnailArrayBufferToFile=f}),98);
__d("MAWSendVideoToWorker",["MAWMediaWorkerResource","Promise","WALogger","WebWorker"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clean up media worker"]);i=function(){return a};return a}var j=k();function a(a){var c;return new(h||(h=b("Promise")))(function(b){c=j&&l(j)?k():j,c.setMessageHandler(function(a){b(a)}).execute(),c.postMessage(a)})["finally"](function(){c&&(d("WALogger").LOG(i()),c.terminate(),(!j||!j.isCurrentState("constructed"))&&(j=k()))})}function k(){return new(c("WebWorker"))(c("MAWMediaWorkerResource")).setAllowCrossPageTransition(!0)}function l(a){return a.isCurrentState("preparing")||a.isCurrentState("executing")}g.sendVideoMessageToWorker=a}),98);
__d("MAWVideoPreProcess",["MAWSendVideoToWorker","Promise","QPLUserFlow","Random","WALogger","err","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaAnalyzer:checkAndRepair got error! ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaAnalyzer:checkAndRepair rejected file (",")"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MediaAnalyzer:checkAndRepair got parsing error! ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["trouble parsing file "," (fossil ",") ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to preprocess video: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Video preprocess failure: ",""]);n=function(){return a};return a}function o(){c("QPLUserFlow").start(c("qpl")._(741087294,"2028"))}function p(a){c("QPLUserFlow").endFailure(c("qpl")._(741087294,"2028"),"failure_during_video_preprocess"),d("WALogger").ERROR(n(),a)}function q(){c("QPLUserFlow").endSuccess(c("qpl")._(741087294,"2028"))}function a(a,b){var e=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(c("qpl")._(1056840460,"718"),{annotations:{string:{preprocess_type:"video"}},instanceKey:e});c("QPLUserFlow").addPoint(c("qpl")._(1056840460,"718"),"media_preprocess_start",{instanceKey:e});return r(a,b).then(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056840460,"718"),{instanceKey:e});return a})["catch"](function(b){d("WALogger").ERROR(m(),b.toString());c("QPLUserFlow").endFailure(c("qpl")._(1056840460,"718"),"unable_to_process_video",{annotations:{string:{preprocessError:b.toString()}},instanceKey:e});return a})}function r(a,d){return s(a,d).then(function(d){if(!d)throw c("err")("invalid file");d=new File([d.file],a.name,{type:d.file.type});return(h||(h=b("Promise"))).resolve(d)})}function s(a,b){o();return d("MAWSendVideoToWorker").sendVideoMessageToWorker({asGif:b,file:a,type:"prep"}).then(function(b){var c=b.error,a=b.file,e=b.filename,f=b.result;b=b.type;switch(b){case"result":q();return f;case"parsingError":d("WALogger").ERROR(l(),a,e,String(c));a&&d("WALogger").ERROR(k(),String(c));d("WALogger").ERROR(j(),String(c));return void 0}})["catch"](function(a){d("WALogger").ERROR(i(),String(a));p(String(a));return void 0})}g.tryProcessRawVideo=a;g.processRawVideo=r}),98);
__d("MAWVideoUtils",["MAWImageUtils","Promise","err","generateVideoThumbnails"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=document.body;if(!e)return new(h||(h=b("Promise")))(function(a,b){return b("Unable to find DOM body, please use this util only in DOM environment.")});var f=document.createElement("video");return new(h||(h=b("Promise")))(function(d,g){f.setAttribute("style","display: none"),f.setAttribute("src",URL.createObjectURL(a)),f.addEventListener("loadedmetadata",function(a){a=a.currentTarget;if(a instanceof HTMLVideoElement){var e=a.duration,i=a.videoHeight;a=a.videoWidth;var j=c("generateVideoThumbnails")(f,a,i,1);d((h||(h=b("Promise"))).all([j,a,i,Math.ceil(e)]))}else g("EventTarget returned for event should be HTMLVideoElement")}),e.appendChild(f)}).then(function(a){var b=a[0],c=a[1],g=a[2],h=a[3];e.removeChild(f);return d("MAWImageUtils").canvasToBlob(b.thumbnails[0].getCanvas(),d("MAWImageUtils").TYPE_JPEG,!0).then(function(a){return a.arrayBuffer().then(function(a){return{duration:h,height:g,jpegThumbnail:a,width:c}})})})["catch"](function(a){e.removeChild(f);throw c("err")(a)})}g.getVideoThumbnailUrlAndSpec=a}),98);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=i.jsx("div",{className:"x1ye3gou",children:i.jsx(c("MWChatFileIconV2.react"),{})});b=b!=null?b.previewUrl:void 0;if(b==null)return f;if(!a)return f;f=(a=d)!=null?a:"";return i.jsx(c("CometImageCover.react"),{alt:f,src:b,style:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageInsetShadow.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={imageShadow:{borderTop:"xa1me7u",borderEnd:"x13z1dwb",borderBottom:"xpkj8wx",borderStart:"x1g8y7dm",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};function a(a){a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(k.imageShadow,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ForwardMessage",["$InternalEnum","CometRelay","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWDbMsg","MAWThreadId","MAWVerifyThreadCutover","MWChatMessageId","MWChatThreadId","MWLSForwardMessage","MWPActor.react","MWQPLMarkers","MWSharedMsgLogUtils","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:338","cr:4950","cr:6918","cr:6938","promiseDone","sendToSentQPLLogger","unrecoverableViolation","useGetForwardSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}function l(a,b,c){var e;return(e=d("ReQL")).firstAsync(e.mergeJoin(e.fromTableAscending(a.table("participants")).getKeyRange(b),e.fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,c)}))}function m(a,b){var c=b.messageId,e=b.threadKey;return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,c)},[a,c,e],f.id+":85")}var n=b("$InternalEnum")({SecureToOpen:"secure_to_open",OpenToOpen:"open_to_open",SecureToSecure:"secure_to_secure",OpenToSecure:"open_to_secure"});function a(a,e){var f=(i||(i=c("useReStore")))(),g=m(f,a),o=d("LSMessagingThreadTypeUtil").isSecure(e),p=d("MWPActor.react").useActor(),q=!(j||(j=d("I64"))).equal(p,a.senderId),r=d("MWLSForwardMessage").useForwardMessage(),s=c("useGetForwardSource")(),t=d("MWChatMessageId").makeSent(j.to_string(a.threadKey),a.messageId,j.to_string(a.timestampMs)),u=d("CometRelay").useRelayEnvironment(),v=d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var i=d("MWChatThreadId").toThreadKey(e);e=d("MWChatThreadId").getMessagingThreadType(e);var j=(yield d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(f),i)),m=d("sendToSentQPLLogger").markSendToSentStart(),o=(yield h.all([d("MAWThreadId").isSecureThreadId(f,i),k(f,i),l(f,i,p),d("MAWThreadId").getThreadFromJid(f,i)])),r=o[0],t=o[1],u=o[2];o=o[3];var v=d("MWSharedMsgLogUtils").getMessageTypeParams();o!=null&&c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(o,v,s),function(a){a.string=babelHelpers["extends"]({},a.string,{attachment_type:"forward",message_type:"forward"}),d("sendToSentQPLLogger").addSendToSentAnnotations(m,a)});o=r||j;try{if(b("cr:6938")!=null&&!o){d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{forward_type:n.SecureToOpen}});yield b("cr:6938").forwardMessage(f,i,e,a,q,g,p,s);d("sendToSentQPLLogger").markSendToSentSuccess(m);return}v=d("MAWDbMsg").toMsgId(a.messageId);if(v==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_product");if(b("cr:338")!=null){d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{forward_type:n.SecureToSecure}});if(b("cr:6918")!=null&&t!=null){b("cr:338").forwardMessage(f,i,v,s,(r=m)!=null?r:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(m);return b("cr:6918")(f,t,u,d("LSMessagingThreadTypeUtil").isOneToOne(t.threadType))}b("cr:338").forwardMessage(f,i,v,s,(j=m)!=null?j:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(m);return}throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")}catch(a){d("sendToSentQPLLogger").markSendToSentPoint(m,d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE);d("sendToSentQPLLogger").markSendToSentFail(m,a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return e.apply(this,arguments)}}(),[f,p,s,a,q,g]),w=d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var i=d("MWChatThreadId").toThreadKey(e);e=d("MWChatThreadId").getMessagingThreadType(e);var j=(yield (h||(h=b("Promise"))).all([d("MAWThreadId").isSecureThreadId(f,i),k(f,i),l(f,i,p),d("MAWVerifyThreadCutover").verifyThreadCutover(h.resolve(f),i),d("MAWThreadId").getThreadFromJid(f,i)])),m=j[0],o=j[1],v=j[2],w=j[3];j=j[4];m=m||w;var x=d("sendToSentQPLLogger").markSendToSentStart();w=d("MWSharedMsgLogUtils").getMessageTypeParams();j!=null&&c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(j,w,s),function(a){a.string=babelHelpers["extends"]({},a.string,{attachment_type:"forward",message_type:"forward"}),d("sendToSentQPLLogger").addSendToSentAnnotations(x,a)});try{if(b("cr:4950")!=null&&m){d("sendToSentQPLLogger").addSendToSentAnnotations(x,{string:{forward_type:n.OpenToSecure}});if(b("cr:6918")!=null&&o!=null){b("cr:4950").forwardMessage(u,f,i,a,q,g,s,(j=x)!=null?j:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(x);return b("cr:6918")(f,o,v,d("LSMessagingThreadTypeUtil").isOneToOne(o.threadType))}else{b("cr:4950").forwardMessage(u,f,i,a,q,g,s,(w=x)!=null?w:void 0);d("sendToSentQPLLogger").markSendToSentSuccess(x);return}}d("sendToSentQPLLogger").addSendToSentAnnotations(x,{string:{forward_type:n.OpenToOpen}});r(i,e,t);d("sendToSentQPLLogger").markSendToSentSuccess(x);return}catch(a){d("sendToSentQPLLogger").markSendToSentPoint(x,d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE);d("sendToSentQPLLogger").markSendToSentFail(x,a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return e.apply(this,arguments)}}(),[f,p,s,r,t,u,a,q,g]);return d("Int64Hooks").useMemoInt64(function(){return o?v:w},[o,v,w])}g["default"]=a}),98);
__d("MWInboxInfoPanelContext.react",["Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=c.useState,m=e({currentSubthreadView:null,footerContentRef:{current:null},isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(){},setCurrentSubthreadView:function(){},setIsExpanded:function(){},setPushMemberRequestsPage:function(){},setShouldNavToMemberRequests:function(){},setShowSubthreadList:function(){},setSubthreadKey:function(){},shouldNavToMemberRequests:!1,sourceIsSubthreadNav:{current:!1},subthreadKey:null});function a(){return j(m)}function b(a){var b=a.children,c=a.isExpanded,e=a.setIsExpanded,f=k(!1);a=l(null);var g=a[0],h=a[1],j=f.current,n=k(function(){}),o=n.current,p=k(!1),q=k(null),r=k(!1);a=l(null);var s=a[0],t=a[1];a=d("Int64Hooks").useMemoInt64(function(){return{currentSubthreadView:s,footerContentRef:q,isExpanded:c,isOnMemberRequestsPageRef:p,pushMemberRequestsPage:o,setCurrentSubthreadView:t,setIsExpanded:function(a){a&&(t(null),h(null)),e(a)},setPushMemberRequestsPage:function(a){n.current=a},setShouldNavToMemberRequests:function(a){f.current=a},setShowSubthreadList:function(a,b){b===void 0&&(b=!1),a&&(e(!1),h(null)),t(a?"subthreadList":null),r.current=a&&b},setSubthreadKey:function(a){e(!1),h(a)},shouldNavToMemberRequests:j,sourceIsSubthreadNav:r,subthreadKey:g}},[c,o,e,j,s,g]);return i.jsx(m.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWInboxInfoPanelContext=a;g.MWInboxInfoPanelProvider=b}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("useMWCMIsSenderChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var g,j=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(j.runInTransaction(function(f){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(f),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:e,threadId:b})},"readwrite"))},[j,a,e,b]);return(g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.table("community_members")).getKeyRange(a,e,(h||(h=d("LSIntEnum"))).ofNumber(14),c("pageID")).map(function(a){return d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a)})},[j,a,e],f.id+":59"))!=null?g:!1}g["default"]=a}),98);
__d("MWCMIsSubthreadContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=e({isSubthread:!1});function a(){return j(l)}function b(a){var b=a.children,c=a.isSubthread;a=k(function(){return{isSubthread:c}},[c]);return i.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useIsSubthreadContext=a;g.MWCMIsSubthreadContextProvider=b}),98);
__d("MWCMSubthreadChatTabContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=e({pushSubthreadViewPage:null});function a(){return j(l)}function b(a){var b=a.children;a.isSidechat;var c=a.pushSubthreadViewPage;a=k(function(){return{pushSubthreadViewPage:c}},[c]);return i.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useSubthreadChatTabContext=a;g.MWCMSubthreadChatTabContextProvider=b}),98);
__d("MWCMSubthreadsInboxFocusContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useState,m=e({isSubthreadFocused:!1,setIsSubthreadFocused:function(){}});function a(){return j(m)}function b(a){a=a.children;var b=l(!1),c=b[0],d=b[1];b=k(function(){return{isSubthreadFocused:c,setIsSubthreadFocused:d}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useIsSubthreadFocusedContext=a;g.MWCMIsSubthreadFocusedContextProvider=b}),98);
__d("useOpenSubthreadView",["GroupsCometChatsEngagementLogger","I64","MWCMSubthreadChatTabContext.react","MWCMSubthreadsInboxFocusContext.react","MWInboxInfoPanelContext.react"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),b=a.setCurrentSubthreadView,c=a.setSubthreadKey;a=(a=d("MWCMSubthreadChatTabContext.react").useSubthreadChatTabContext())!=null?a:{};var e=a.pushSubthreadViewPage;a=d("MWCMSubthreadsInboxFocusContext.react").useIsSubthreadFocusedContext();var f=a.setIsSubthreadFocused;return function(a,g){g===void 0&&(g=!1),d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_chat_tab:e!=null?"1":"0",is_subthread:"1"},event:"thread_open",parent_surface:"thread_view",source:g===!0?"subthread_creation":"subthread_xma",surface:"subthread_view",thread_id:(h||(h=d("I64"))).to_string(a)}),e!=null?e==null?void 0:e(a):(b("subthreadView"),c(a),f(!0))}}g["default"]=a}),98);
__d("MWChatForwardAction.react",["MWChatColors","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","useMWChatForward"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={icon:{opacity:"x1hc1fzr",$$css:!0}},m=k.jsx("svg",{"aria-hidden":!0,height:"22px",viewBox:"0 0 36 36",width:"22px",children:k.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[k.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),k.jsx("path",{className:(h||(h=c("stylex")))(d("MWChatColors").MessageActions.styles.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function n(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","forward"),a==null?void 0:a.onClick()}function a(a){var b=a.dropToggle;b=b===void 0?!1:b;var e=a.forwardDialogType;e=e===void 0?"open_":e;var f=a.fromSecureThread,g=a.label,i=a.messageID;a=a.onForward;var j=c("useMWChatForward")({dropToggle:b,forwardDialogType:e,fromSecureThread:f,messageID:i,onClose:c("emptyFunction"),onSend:a});return k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g,children:k.jsx("div",{className:(h||(h=c("stylex")))(d("MWChatColors").MessageActions.styles.action),children:k.jsx(c("MWXPressable.react"),{"aria-label":g,expanding:!0,onPress:function(){return n(j)},overlayDisabled:!0,role:c("gkx")("1224637")?"menuitem":"button",testid:void 0,children:k.jsx("div",{className:h(d("MWChatColors").MessageActions.styles.icon,l.icon),children:m})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;var e=(b=d("MWV2MessageRowActionsContext.react")).useMessageRowActionsContext(),f=e.openReactionsMenu,g=j(function(){return f.current()},[f]);e=b.useMessageRowActionsContext();var h=e.replyToMessage,l=j(function(){return h.current()},[h]);e=b.useMessageRowActionsContext();var m=e.forwardMessage,n=j(function(){return m.current()},[m]);e=b.useMessageRowActionsContext();var o=e.removeMessage,p=j(function(){return o.current()},[o]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",g);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",p);b.push(c);return b},[g,l,n,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWPBaseMessageListRowActions.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",width:"x1ll7btr",$$css:!0}};function l(a){var b=a.children;a=a.outgoing;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,a?k.outgoing:k.incoming),role:"none",children:b})}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.children;return j.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.ariaHidden,d=a.children,e=a.hasReactions,f=a.outgoing;a=a.xstyle;return j.jsx("div",{"aria-hidden":(b=b)!=null?b:!1,className:(h||(h=c("stylex")))(m.root,e?m.moveUpToAccountForReactions:!1,f?m.outgoing:m.incoming,a!=null?a:!1),children:j.jsx(l,{outgoing:f,children:d})})}b.displayName=b.name+" [from "+f.id+"]";var m={incoming:{paddingStart:"x1t2a60a",paddingLeft:null,paddingRight:null,$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",paddingLeft:null,paddingRight:null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};g.MWPBaseMessageListRowActionsList=l;g.MWPBaseMessageListRowActionsListItem=a;g.MWPBaseMessageListRowActionsContainer=b}),98);
__d("MDSContextualMenuIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{cx:"11",cy:"6",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),i.jsx("circle",{cx:"11",cy:"11",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),i.jsx("circle",{cx:"11",cy:"16",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2OnlyGlobalRemoveMessageDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWV2OnlyGlobalRemoveMessageDialog.react").__setRef("MWV2OnlyGlobalRemoveMessageDialog.entrypoint")};g["default"]=a}),98);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWPThreadCapabilitiesContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.canUnsendMessage;b=b.isPaused;a=a.cannotUnsendReason!=null?(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return e&&a&&!b}g["default"]=a}),98);
__d("MWV2ContextualActionsButton.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSMessagingThreadTypeUtil","MDSContextualMenuIcon.react","MWCMThreadTypes.react","MWPActor.react","MWPThreadCapabilitiesContext","MWV2LogMessageClick","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXDeferredPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","ReQL","ReQLSuspense","emptyFunction","gkx","isFeatureLimitEnabled","react","requireDeferred","useIsReadOnlyFeatureLimitedWithThreadType","useMWPCanRemoveMessageGlobally","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useContext,o=b.useEffect,p=c("requireDeferred")("MWV2ContextualActionsMenu.react").__setRef("MWV2ContextualActionsButton.react");function a(a){var b=a.attachment,e=a.canRemoveMessageGlobally,g=a.closeActionsMenu,k=a.extraActions,q=a.isSubthreadParentMessage;q=q===void 0?!1:q;var r=a.learnMoreOnMessageRemove,s=a.message,t=a.onRemoveMessageLogger,u=a.removeMessageDialogTitle,v=a.setMoreMenuOpen,w=a.showCreateSubthread;w=w===void 0?!1:w;var x=a.showFeedbackOptionsInContextualMenu,y=a.showForwardActionInContextualMenu,z=a.showReplyActionInContextualMenu,A=a.threadType,B=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(B.table("threads"),["parentThreadKey","threadKey","threadType","cannotUnsendReason","threadSubtype"]).getKeyRange(s.threadKey)},[B,s.threadKey],f.id+":110");var C=a==null?void 0:a.parentThreadKey,D=h._("__JHASH__I1DdCdLzOkz__JHASH__"),E=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),F=E.localDeleteMessageEnabled,G=E.modifyPinnedMessageV2Enabled;E=E.reportMessageToAdminEnabled;var H=c("useMWPCanRemoveMessageGlobally")(s),I=d("LSMessagingThreadTypeUtil").isSecure(A),J=d("MWCMThreadTypes.react").isJoinedCMThread(A),K=c("useIsReadOnlyFeatureLimitedWithThreadType")(A),L=d("ReQLSuspense").useFirst(function(){if(d("LSMessagingThreadTypeUtil").isCMSubthread(A))if(C==null)return d("ReQL").empty();else return d("ReQL").fromTableAscending(B.table("participants")).getKeyRange(C,s.senderId);else if(J)return d("ReQL").fromTableAscending(B.table("participants")).getKeyRange(s.threadKey,s.senderId);return d("ReQL").empty()},[J,A,C,B,s.senderId,s.threadKey],f.id+":140"),M=d("ReQLSuspense").useFirst(function(){return J?d("ReQL").fromTableAscending(B.table("contacts"),["capabilities","capabilities2"]).getKeyRange(s.senderId):d("ReQL").empty()},[B,J,s.senderId],f.id+":167");K=(!I||c("isFeatureLimitEnabled")())&&K;var N=!K,O=d("MWPActor.react").useActor();M=M!=null&&((M=d("LSContactBitOffset").has(77,M))!=null?M:!1);G=G&&!s.isUnsent&&!q&&!d("LSMessagingThreadTypeUtil").isCMSubthread(A);q=s.isUnsent;var P=!1;J||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(A)||d("LSMessagingThreadTypeUtil").isCMSubthread(A)?P=!q&&H:I?P=!K:P=F&&N;q=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),{});var Q=q[0];I=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2ContextualActionsButton.react"));var R=I[0];K=(L==null?void 0:L.isAdmin)===!0;F=s.unsentTimestampMs!=null;N=(d("MWCMThreadTypes.react").isJoinedCMThread(A)||d("LSMessagingThreadTypeUtil").isCMSubthread(A))&&E&&!K&&!(j||(j=d("I64"))).equal(O,s.senderId)&&!F&&!M;q=(d("MWCMThreadTypes.react").isJoinedCMThread(A)||d("LSMessagingThreadTypeUtil").isCMSubthread(A))&&!(j||(j=d("I64"))).equal(O,s.senderId)&&!F;I=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(s,[b].filter(Boolean));L=d("Int64Hooks").useCallbackInt64(function(){var a={canRemoveMessageGlobally:H,message:s,removeLogger:t,threadType:A},b={learnMoreOnMessageRemove:r,message:s},e=(j||(j=d("I64"))).equal(s.senderId,O);if(d("MWCMThreadTypes.react").isJoinedCMThread(A)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(A)||e&&!c("gkx")("9197"))return Q(b);else return R(a,c("emptyFunction"))},[O,r,s,t,R,Q,A,H]);E=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var S=E.removeMessage;P?S.current=L:S.current=c("emptyFunction");var T=m(function(){if(c("gkx")("3417")){S.current=c("emptyFunction");return}},[S]);o(function(){return T},[T]);var U=n(d("MWV2MessageRowIsRowFocusedContext.react").context);if(a==null||!(y||z||G||x||P||q||I||k!=null))return null;K=function(a){v(function(){return a});return U.setFocused(function(){return a})};return l.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:K,popoverProps:{attachment:b,canRemoveMessageGlobally:e&&H,closeActionsMenu:g,extraActions:k,learnMoreOnMessageRemove:r,message:s,onRemoveMessageLogger:t,removeMessageDialogTitle:u,showCreatePrompt:I,showCreateSubthread:w,showFeedbackOptionsInContextualMenu:x,showForwardActionInContextualMenu:y,showPinMessageActionInContextualMenu:G,showReplyActionInContextualMenu:z,showReportCommunityMessageToAdmin:N,showReportCommunityMessageToFacebook:q,showUnsendInContextualMenu:P,thread:a},popoverResource:p,popoverType:"menu",position:"above",children:function(a,b){var e=function(){b();return d("MWV2LogMessageClick").log(B,s,48)};return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:D,children:l.jsx(c("MWXPressable.react"),{"aria-label":D,expanding:!0,onPress:e,overlayDisabled:!0,ref:a,testid:void 0,children:l.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:l.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:l.jsx(c("MDSContextualMenuIcon.react"),{})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ForwardMessageButton.react",["fbt","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MWChatForwardAction.react","MWChatMessageId","qex","react","useMWV2ForwardMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=a.message,e=a.threadType,f=d("LSMessagingThreadTypeUtil").isSecure(e),g=c("qex")._("205")===!0;g=f?g?"cross_transport":"secure":g?"cross_transport":"open_";var i=d("MWChatMessageId").makeSent((j||(j=d("I64"))).to_string(b.threadKey),b.messageId,j.to_string(b.timestampMs)),m=b.stickerId,n=c("useMWV2ForwardMessage")(b,e);e=!d("LSMessagingThreadTypeUtil").isSecure(e);b=d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has((k||(k=d("LSIntEnum"))).ofNumber(512),b.displayedContentTypes)||m!=null&&(j||(j=d("I64"))).equal(m,(j||(j=d("I64"))).of_string("369239263222822"))||m!=null&&(j||(j=d("I64"))).equal(m,(j||(j=d("I64"))).of_string("369239343222814"))||m!=null&&(j||(j=d("I64"))).equal(m,(j||(j=d("I64"))).of_string("369239383222810"));m=e&&!b||a.dropForwardE2eeToggle===!0;return l.jsx(c("MWChatForwardAction.react"),{dropToggle:m,forwardDialogType:g,fromSecureThread:f,label:h._("__JHASH__GvPr2MwluxY__JHASH__"),messageID:i,onForward:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2OneToOneThreadBlockedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));c=h;e=c.createContext;var i=c.createElement,j=c.useContext,k=e(!1);function a(){return j(k)}function b(a){var b=a.blocked;a=a.children;return i(k.Provider,{children:a,value:b})}b.displayName=b.name+" [from "+f.id+"]";g.useIsBlocked=a;g.MWV2OneToOneThreadBlockedContext=b}),98);
__d("MDSReplyActionSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("svg",{height:"22px",viewBox:"1 1 21 21",width:"22px",children:i.jsx("g",{className:"x148u3ch",fillRule:"evenodd",strokeWidth:"1",children:i.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));c=h;e=c.createContext;var i=c.createElement;function a(){}var j=e(a);function b(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.context=j;g.MWV2MessageListIsRowModalContextProvider=b}),98);
__d("MWV2ReplyButton.react",["fbt","MAWEditMessageContext.react","MDSReplyActionSvgIcon.react","MWPReplyContext.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWXPressable.react","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useEffect;function a(a){var b=a.message;a=h._("__JHASH__xFCj85w6vra__JHASH__");var e=l(d("MWPReplyContext.react").MWPReplyContext),f=e.setReply;e=l(d("MAWEditMessageContext.react").Context);var g=e.editMessageData,i=e.setEditMessageData,n=l(d("MWV2MessageListIsRowModalContext.react").context),o=function(){g!=null&&i(null);f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey);return n(function(){return""})};e=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var p=e.replyToMessage;p.current=o;var q=k(function(){if(c("gkx")("3417")){p.current=c("emptyFunction");return}},[p]);m(function(){return q},[q]);return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:j.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:j.jsx(c("MWXPressable.react"),{"aria-label":a,expanding:!0,onPress:function(){return o()},overlayDisabled:!0,testid:void 0,children:j.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:j.jsx(c("MDSReplyActionSvgIcon.react"),{})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWHasForwardAction",["I64","LSAuthorityLevel","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWMsg","MWCMIsAnyCMThread","MWCMIsSubthreadContext.react","MWPThreadCapabilitiesContext","MWV2OneToOneThreadBlockedContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isFeatureLimitEnabled","useIsReadOnlyFeatureLimitedWithThreadType","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e){var g=(j||(j=c("useReStore")))(),k=d("MWCMIsSubthreadContext.react").useIsSubthreadContext();k=k.isSubthread;k=k&&!d("LSMessagingThreadTypeUtil").isCMSubthread(a);var l=d("LSMessagingThreadTypeUtil").isSecure(a),m=b.ephemeralDurationInSec;m=m!=null?(h||(h=d("I64"))).gt(m,(h||(h=d("I64"))).zero):!1;var n=c("useIsReadOnlyFeatureLimitedWithThreadType")(a)&&(!l||c("isFeatureLimitEnabled")()),o=(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(4096)),p=h.equal(b.displayedContentTypes,i.ofNumber(64)),q=d("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(b.threadKey)},[b.threadKey,g],f.id+":64");r=r!=null?(r=d("LSContactBitOffset").has(66,r))!=null?r:!1:!1;a=c("MWCMIsAnyCMThread")(a)&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4));var s=d("LSBitFlag").has(i.ofNumber(2),b.displayedContentTypes),t=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();t=t.messageForwardEnabled;l=(l?!m&&!o&&!(p&&!c("gkx")("9045")):!0)&&c("gkx")("1844772")&&!k&&!q&&!r&&!n&&!b.isUnsent&&!a&&!d("MAWMsg").isPlaceholder(b)&&t&&(h||(h=d("I64"))).gt(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(e!=null&&(h||(h=d("I64"))).equal(e.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))&&(e.attachmentCta1Id!=null||e.attachmentCta2Id!=null||e.attachmentCta3Id!=null||e.defaultCtaId!=null)?e.isSharable:!0);m=s&&l;return{hasForwardAction:l,shouldShowForwardAction:m}}g["default"]=a}),98);
__d("useMWV2MessageForwardAction",["I64","LSBitFlag","LSIntEnum","MWChatMessageId","MWV2LogMessageClick","MWV2MessageRowIsRowFocusedContext.react","gkx","promiseDone","qex","react","useMWChatForward","useMWV2ForwardMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useContext;function a(a,b,e){var f=(h||(h=c("useReStore")))(),g=c("gkx")("1224637"),k=!g&&a;g=!g&&c("qex")._("205")===!0;g=k?g?"cross_transport":"secure":g?"cross_transport":"open_";var n=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(b.threadKey),b.messageId,i.to_string(b.timestampMs)),o=c("useMWV2ForwardMessage")(b,e);e=m(d("MWV2MessageRowIsRowFocusedContext.react").context);var p=e.setFocused,q=e.setIsDialogOpened;e=b.stickerId;a=!a;e=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(512),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),b.displayedContentTypes)||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239263222822"))||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239343222814"))||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239383222810"));var r=c("useMWChatForward")({dropToggle:a&&!e,forwardDialogType:g,fromSecureThread:k,messageID:n,onClose:l(function(){q(function(){return!1}),p(function(){return!0})},[p,q]),onSend:l(function(a){return c("promiseDone")(o(a))},[o])});return function(){d("MWV2LogMessageClick").log(f,b,44),r!=null&&(q(function(){return!0}),r.onClick())}}g["default"]=a}),98);
__d("MWMessageRowActions.react",["CometErrorBoundary.react","I64","LSBitFlag","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMIsSubthreadContext.react","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseMessageListRowActions.react","MWPThreadCapabilitiesContext","MWV2ContextualActionsButton.react","MWV2ForwardMessageButton.react","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.react","MWV2OneToOneThreadBlockedContext.react","MWV2ReplyButton.react","MWXTooltipGroup.react","ReQL","ReQLSuspense","cr:6325","cr:7122","emptyFunction","gkx","isFeatureLimitEnabled","qex","react","useIsReadOnlyFeatureLimitedWithThreadType","useMWHasForwardAction","useMWV2MessageForwardAction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useEffect,o=e.useState;function p(a){var e,g=a.canRemoveMessageGlobally,k=a.closeActionsMenu,o=a.dropForwardE2eeToggle,p=a.extraActions,q=a.interactedWith,r=a.learnMoreOnMessageRemove,s=a.message,t=a.onReactionsSendLogger,u=a.onRemoveMessageLogger,v=a.outgoing,w=a.reactionsPopoverResource,x=a.removeMessageDialogTitle,y=a.setMoreMenuOpen,z=a.setReactionsMenuOpen,A=a.shouldHideHoverMenuReact;a=a.threadType;var B=d("MWCMIsSubthreadContext.react").useIsSubthreadContext();B=B.isSubthread;var C=d("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),D=(h||(h=c("useReStore")))();B=!d("LSMessagingThreadTypeUtil").isCMSubthread(a)&&B;var E=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(D.table("contacts")).getKeyRange(s.threadKey)},[s.threadKey,D],f.id+":92"),F=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();E=E!=null?(E=d("LSContactBitOffset").has(66,E))!=null?E:!1:!1;var G=d("LSMessagingThreadTypeUtil").isSecure(a),H=!(i||(i=d("I64"))).equal(s.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(1)),I=c("MWCMIsAnyCMThread")(a)&&(i||(i=d("I64"))).equal(s.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4)),J=d("ReQLSuspense").useFirst(function(){return H?d("ReQL").fromTableAscending(D.table("attachments")).getKeyRange(s.threadKey,s.messageId):d("ReQL").empty()},[D,s.messageId,s.threadKey,H],f.id+":119");e=i.equal((e=s.displayedContentTypes)!=null?e:(i||(i=d("I64"))).zero,j.ofNumber(128));var K=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),L=K.isPaused,M=K.reactEnabled,N=K.reactionsV2WriteEnabled,O=K.replyEnabled;K=K.subThreadCreationEnabled;var P=(J==null?void 0:J.xmaLayoutType)!=null&&(i||(i=d("I64"))).equal(J.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").THREAD_SHORTCUT));P=c("gkx")("8539")&&!P&&!s.isUnsent||!H||e;e=c("useMWHasForwardAction")(a,s,J);var Q=e.hasForwardAction;e=e.shouldShowForwardAction;var R=c("useIsReadOnlyFeatureLimitedWithThreadType")(a)&&(!G||c("isFeatureLimitEnabled")());O=!C&&!E&&!I&&O&&!s.isUnsent&&!B&&!R;R=!C&&!E&&!s.isUnsent&&!I&&(M||N)&&(G?c("qex")._("1525")===!0:!0);C=O&&!e&&q;E=q&&R&&!A;I=d("MWCMThreadTypes.react").isJoinedCMThread(a)&&!L&&K&&!B&&P;M=I&&F==="Inbox";N=G&&(i||(i=d("I64"))).equal(s.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5));R=c("useMWV2MessageForwardAction")(G,s,a);A=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var S=A.forwardMessage;Q&&(S.current=R);var T=m(function(){if(c("gkx")("3417")){S.current=c("emptyFunction");return}},[S]);n(function(){return T},[T]);L=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(D.table("contacts")).getKeyRange(s.senderId)},[D,s.senderId],f.id+":225");K=L!=null?(i||(i=d("I64"))).equal(L.contactTypeExact,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)):!1;return l.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:v,children:[e?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2ForwardMessageButton.react"),{dropForwardE2eeToggle:o,message:s,threadType:a})}):null,E?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2MessageReactionButton.react"),{closeActionsMenu:k,message:s,onReactionsSendLogger:t,reactionsPopoverResource:w,setReactionsMenuOpen:z,threadType:a})}):null,b("cr:7122")!=null&&N?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:7122"),{message:s})}):null,C?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2ReplyButton.react"),{message:s})}):null,M&&b("cr:6325")!=null?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(b("cr:6325"),{message:s})}):null,q?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("MWV2ContextualActionsButton.react"),{attachment:J,canRemoveMessageGlobally:g,closeActionsMenu:k,extraActions:p,isSubthreadParentMessage:B,learnMoreOnMessageRemove:r,message:s,onRemoveMessageLogger:u,removeMessageDialogTitle:x,setMoreMenuOpen:y,showCreateSubthread:I&&!M,showFeedbackOptionsInContextualMenu:K&&s.botResponseId!=null,showForwardActionInContextualMenu:!e&&Q,showReplyActionInContextualMenu:!C&&O,threadType:a})}):null]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.ariaHidden,e=a.canRemoveMessageGlobally,f=a.dropForwardE2eeToggle,g=a.extraActions,h=a.focused,i=a.hasReactions,k=a.hovered,m=a.learnMoreOnMessageRemove,n=a.message,q=a.onReactionsSendLogger,r=a.onRemoveMessageLogger,s=a.outgoing,t=a.reactionsPopoverResource,u=a.removeMessageDialogTitle,v=a.shouldHideHoverMenuReact;v=v===void 0?!1:v;a=a.threadType;var w=o(!1),x=w[0];w=w[1];var y=o(!1),z=y[0];y=y[1];var A=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2),n.displayedContentTypes);k=k||h||z||x;return l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:l.jsx(c("MWXTooltipGroup.react"),{children:l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:(h=b)!=null?h:!1,hasReactions:i,outgoing:s,children:k||A?l.jsx(p,{canRemoveMessageGlobally:(z=e)!=null?z:!0,closeActionsMenu:c("emptyFunction"),dropForwardE2eeToggle:f,extraActions:(x=g)!=null?x:null,interactedWith:k,learnMoreOnMessageRemove:m,message:n,onReactionsSendLogger:q,onRemoveMessageLogger:r,outgoing:s,reactionsPopoverResource:t,removeMessageDialogTitle:u,setMoreMenuOpen:y,setReactionsMenuOpen:w,shouldHideHoverMenuReact:v,threadType:a}):null})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useRef,m=d([{current:c("emptyFunction")},c("emptyFunction")]);function a(){return j(m)}function b(a){a=a.children;var b=l(c("emptyFunction")),d=k(function(){return[b,function(a){b.current=a}]},[]);return i.jsx(m.Provider,{value:d,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useMWShowMessagePromptPopoverContext=a;g.MWShowMessagePromptPopoverContextProvider=b}),98);
__d("MWV2TombstonedMessage.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopColor:"x8cjs6t",borderEndColor:"x1ch86jh",borderBottomColor:"x80vd3b",borderStartColor:"xckqwgs",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children,d=a.connectTop,e=a.connectBottom;a=(a=a.xstyle)!=null?a:!1;d=d!=null?d:!1;e=e!=null?e:!1;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,d?k.connectTop:!1,e?k.connectBottom:!1,a),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return k.jsxs("div",{className:(i||(i=c("stylex")))(a?l.withRepliedMessage:l.withBackground),children:[a?null:k.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),k.jsx(c("MWV2TombstonedMessage.react"),{xstyle:l.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatSeenHeadsRow.react",["fbt","CometImage.react","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWPThreadThemeGradientUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","MercuryTimestamp","getFBTSafeGenderFromGenderConst","react","stylex","useMWPThreadTheme","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=5,o=c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),p={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingLeft:null,paddingRight:null,paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function q(a,b,d,e){if(!d)return[];d=Math.max(Math.floor(b-9),0);a=a.slice(d,b);var f="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",d,[0])]).toString();a=k.jsxs("ul",{children:[a.reverse().map(function(a,b){return k.jsx("li",{children:a.name},String(b))}),d>0?k.jsx("li",{children:f},"overflow"):null]});d=h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",b,[0])]);return[k.jsx(c("MWXTooltip.react"),{align:e==="Inbox"?"middle":"end",forceInlineDisplay:!0,label:d,position:"above",tooltip:a,children:k.jsx("span",{className:"x1qhmfi1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c xi81zsa x1ncwhqj x117nqv4 x1hkbg2g xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x150jy0e x18d9i69 x1e558r4 x2b8uid",children:d})},"overflow")]}function r(a){var b=a.displayContext,e=a.index;a=a.user;var f=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return k.jsx(c("MWXTooltip.react"),{align:b==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:f,children:a.imageSrc===""?k.jsx(c("MDSGlimmer.react"),{index:e,xstyle:p.img}):k.jsx(c("CometImage.react"),{alt:f,src:a.imageSrc,xstyle:p.img})})}r.displayName=r.name+" [from "+f.id+"]";function s(a,b){var c=a.length,d=c>n;c=Math.max(Math.floor(c-(d?n-1:n)),0);var e=a.slice(c);return[].concat(q(a,c,d,b),e.map(function(a,c){return k.jsx(r,{displayContext:b,index:c,user:a},a.id)}))}function a(a){var b=a.messageSeenBy,e=a.xstyle;a=c("useMWPThreadTheme")();var f=l(d("MWV2MessageRowIsRowFocusedContext.react").context),g=f.setFocused,j=f.setIsDialogOpened;f=b.length;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=m(null),r={messageSeenBy:b},t=c("useMWXLazyDialog")(o),u=t[0],v=function(){return u(r,function(){j(function(){return!1}),g(function(){return!0})})};return k.jsxs("div",{className:(i||(i=c("stylex")))(p.root,d("MWPThreadThemeGradientUtils").isGradient(a)?p.mask:!1),role:"none",children:[k.jsx("div",{className:"x1r8uery x1iyjqo2"}),k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(f))]).toString(),onPress:function(){j(function(){return!0}),v()},overlayDisabled:!0,ref:q,xstyle:function(){return[p.heads,e]},children:k.jsx(c("MWXTooltipGroup.react"),{children:s(b,n)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function l(a){var b=a.alignLeft,d=a.enableSeenInfo;a=a.num;return!d?j.jsx(j.Fragment,{}):j.jsx(c("MWStatusText.react"),{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",c("intlSummarizeNumber")(a))]).toString(),xstyle:k.statusText})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft,e=a.enableSeenInfo;e=e===void 0?!0:e;a=a.status;var f=d("MWMessageDeliveryStatus").getBroadcastStatusTitle(a);switch(a.type){case"NoneStatus":return null;case"Error":return j.jsx(c("MWStatusText.react"),{error:!0,text:f.toString(),xstyle:k.statusText});case"SingleSeenHead":return j.jsx(l,{enableSeenInfo:e,num:1});case"MultipleSeenHeads":case"DeliveredAndRead":break;case"SeenCount":return j.jsx(l,{alignLeft:b,enableSeenInfo:e,num:a.count});case"Loading":return j.jsx(c("MWStatusText.react"),{alignLeft:b,text:f.toString(),xstyle:k.statusText});case"RetriableError":return j.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:f.toString(),xstyle:k.statusText});default:return j.jsx(c("MWStatusText.react"),{text:f.toString(),xstyle:k.statusText})}return j.jsx(l,{enableSeenInfo:e,num:a.heads.length})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageEndOfGroupContent.react",["LSMessagingThreadTypeUtil","MWLSThread","MWMessageDeliveryStatus","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","cr:5836","cr:5837","cr:7033","cr:7034","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={baseStyle:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0}};function a(a){var e=a.alignLeft,f=a.enableSeenInfo;f=f===void 0?!0:f;var g=a.hasTextBasedMessageReceipts,h=a.isLastMessage,k=a.isOutgoing,l=a.isTextOnly,m=a.message;a=a.status;var n=d("MWLSThread").useThread(m.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)});if(c("justknobx")._("1673")&&h&&g&&a.type==="NoneStatus")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:22});if(l===!0)return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:e,enableSeenInfo:f,status:a});if(a.type==="MultipleSeenHeads")return i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:i.jsx(c("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:a.heads,xstyle:[j.seenHeads,g&&(h?j.lastMessage:j.nonLastMessage),g&&j.baseStyle]})});if(g&&a.type==="SeenCount"&&b("cr:7033")!=null&&(n===!0&&h))return i.jsx(c("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:e,enableSeenInfo:f,status:a});if(g&&a.type==="SingleSeenHead"&&b("cr:7033")!=null)return i.jsx(b("cr:7033"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[h?j.lastMessage:j.nonLastMessage,j.baseStyle]});if(g&&a.type==="SingleSeenHead"&&b("cr:5836")!=null)return i.jsx(b("cr:5836"),{head:a.head,text:d("MWMessageDeliveryStatus").getSingleSeenHead(a.head),xstyle:[h?j.lastMessage:j.nonLastMessage,j.baseStyle]});if(k&&g&&b("cr:7034")!=null)return i.jsx(b("cr:7034"),{alignLeft:e,isLastMessage:h,message:m,status:a,xstyle:[h?j.lastMessage:j.nonLastMessage,j.baseStyle]});return k&&g&&b("cr:5837")!=null?i.jsx(b("cr:5837"),{alignLeft:e,isLastMessage:h,message:m,status:a,xstyle:[h?j.lastMessage:j.nonLastMessage,j.baseStyle]}):null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2MessageEndOfGroupContent=a}),98);
__d("useMWPEditMessageDeemphasizer",["MAWEditMessageContext.react","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{opacity:"x197sbye",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=e.backgroundUrl!=null&&c("gkx")("1969")&&(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a;return e?j.deemphasize:null}g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;var e=c("useMWPEditMessageDeemphasizer")();return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",{className:(h||(h=c("stylex")))(e),ref:a,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",{className:(h||(h=c("stylex")))(k.row,e?k.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,role:"gridcell",tabIndex:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={accessibleElem:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},emphasized:{fontWeight:"xk50ysn",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function a(a){a=a.timestamp;var b=d("MWTheme.react").useTheme();return j.jsxs(c("BaseHeading.react"),{testid:void 0,children:[j.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:j.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),j.jsx("div",{"aria-hidden":!0,className:(h||(h=c("stylex")))(k.root,d("MWTheme.react").isGradient(b)&&k.mask),"data-scope":"date_break",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms})," ",b]});else return i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:f})},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=(h||(h=c("useReStore")))(),g=(i||(i=d("I64"))).to_string(b.threadKey),k=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(f.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(g),userActionType:a})},"readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return k()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("mi_act_mapping_table")).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":39");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":64");g=g==null?void 0:g.title;a=g!=null?l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),n=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[g,e],f.id+":52");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},k=c("useMWXLazyDialog")(m),o=k[0];k=function(){return o(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:n}):l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:l.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),l.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.table("admin_message_ctas")).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":60");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(l);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.table("admin_message_ctas")).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":24");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?k.jsx(c("MWXLink.react"),{href:a,target:"_blank",children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgWebUrl.react","MWXText.react","cr:6991","cr:6996","cr:6997","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function l(a){if(a!=null)return a.isAdminMessage;else return!1}function m(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l(a)?k.containerThatProceedsAdminMessage:!1,l(d)?k.containerThatPrecedesAdminMessage:!1),children:j.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var d=a.message;a.nextMessage;a.prevMessage;a=b("cr:6991")!=null&&b("cr:6997")!=null?b("cr:6991").buildLocalizedString([],[],b("cr:6997").CURRENT_USER_ADDED_DEVICE):"";a=d.text===a&&b("cr:6996")!=null?j.jsx(b("cr:6996"),{}):null;var e=d.adminMsgCtaType;if(e!=null)if(e==="admin_msg_armadillo_ephemeral_change_duration")return j.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:d});else if(e==="admin_msg_dual_thread_cutover")return j.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:d});else if(e==="admin_msg_web_url")return j.jsx(c("MWV2AdminMsgWebUrl.react"),{message:d});else if(e==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386"))return j.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:d});else if(e==="admin_notification_messages_opt_out")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:d});else if(e==="admin_notification_messages_opt_in")return j.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:d});else if(e==="admin_msg_thread_level_cutover")return j.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:d});else if(e==="admin_msg_e2ee_thread")return null;else if(e==="admin_msg_cutover_rollback")return j.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:d});else if(e==="xmat_instant_game_bot_message_subscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!0});else if(e==="xmat_instant_game_bot_message_unsubscribe")return j.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:d,shouldSubscribe:!1});else if(e==="admin_msg_view_pin_msgs_v2")return j.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:d});else if(e==="xmat_instant_game_custom_update_message_mute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!0});else if(e==="xmat_instant_game_custom_update_message_unmute")return j.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:d,shouldMute:!1});else if(e==="admin_message_service_booking_legal_disclaimer")return j.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:d});else if(e==="admin_msg_admod_post_msg_remove_actions")return j.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:d});else return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]});return j.jsxs("div",{children:[j.jsx(c("MWAdminTextLayout.react"),{message:d}),a]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,d=a.nextMessage;a=a.prevMessage;return j.jsx(m,{nextMessage:d,prevMessage:a,children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(n,{message:b})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=l;g.MWV2ChatAdminMessageContainer=m;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(k(e,a))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:a,children:j.jsx(c("MWPDateBreak.react"),{timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return j.jsx(l,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatGutterItem.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageDeliveryStatusIcons","MWTheme.react","MWXTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={icon:{display:"x78zum5",flexShrink:"x2lah0s",height:"x1v9usgg",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},incoming:{flexDirection:"x15zctf7",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},noneStatus:{flexShrink:"x2lah0s",width:"x17z2i9w",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",$$css:!0},singleSeenHead:{marginEnd:"xw3qccf",marginLeft:null,marginRight:null,marginStart:"xsgj6o6",$$css:!0}};function l(a){var b=a.iconStyle,d=a.status;a=a.tooltipText;b=[k.icon,b];switch(d.type){case"Sending":return j.jsx(c("MWMessageDeliveryStatusIcons").SendingIcon,{size:12,xstyle:b});case"Sent":return j.jsx(c("MWMessageDeliveryStatusIcons").SentIcon,{size:12,xstyle:b});case"Delivered":return j.jsx(c("MWMessageDeliveryStatusIcons").DeliveredIcon,{size:12,xstyle:b});case"Error":return j.jsx(c("MWMessageDeliveryStatusIcons").ErrorIcon,{size:12,title:a.toString(),xstyle:k.icon})}return null}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.title;a=babelHelpers.objectWithoutPropertiesLoose(a,["title"]);var d=a.status;a=babelHelpers.objectWithoutPropertiesLoose(a,["status"]);switch(d.type){case"NoneStatus":return j.jsx("div",{className:"x2lah0s x17z2i9w"});case"SingleSeenHead":return j.jsx(c("MWChatSingleSeenHead.react"),{altText:b,head:d.head,xstyle:k.singleSeenHead});case"DeliveredAndRead":return j.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndReadIcon,{size:12,xstyle:k.icon});case"MultipleSeenHeads":case"SeenCount":case"Loading":case"RetriableError":return null}return j.jsx("div",{children:j.jsx(l,babelHelpers["extends"]({},a,{status:d}))})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.tooltipText,e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return b!==""?j.jsx(c("MWXTooltip.react"),{align:e==="Inbox"?"middle":"end",position:"above",tooltip:b,children:j.jsx(m,babelHelpers["extends"]({},a))}):j.jsx(m,babelHelpers["extends"]({},a))}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.errorMessage,e=a.hasRepliedToMessage;e=e===void 0?!1:e;var f=a.iconStyle,g=a.id;g=g===void 0?"":g;var i=a.incoming;i=i===void 0?!1:i;var l=a.status;a=a.xstyle;a=a===void 0?!1:a;var m=d("MWTheme.react").useTheme();m=d("MWTheme.react").isGradient(m);var o=d("MWMessageDeliveryStatus").getStatusTitle(l);b=l.type==="Error"&&b!=null?b:o;return j.jsx("div",{className:(h||(h=c("stylex")))(k.root,m&&!e?k.mask:!1,i?k.incoming:!1,a),"data-testid":void 0,id:g,role:"none",children:j.jsx(n,{iconStyle:f,status:l,title:o,tooltipText:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatImageSize",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b,c){var d=b!=null?b:!1,e=j();c=k();b=c[0];var f=c[1];i(function(){if(a==null)return;if(e.current==null&&!d){var b=new Image();b.src=a;b.onload=function(){return f({height:b.naturalHeight,width:b.naturalWidth})};e.current=b}return function(){f(function(){});var a=e.current;if(a==null)return;a.onload=null}},[a,d,f]);return b}g.useImageSize=a}),98);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWAudioUtils","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWImagePreProcess","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MAWUIThreadCache","MAWVideoPreProcess","MAWVideoUtils","MessageRequestsLog","Promise","QPLUserFlow","WAJobOrchestratorTypes","asyncToGeneratorRuntime","fileInputAcceptValues","gkx","isAppSyncDeleteThreadEnabled","promiseDone","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWLogSend").__setRef("MAWSecureComposerUtils");function a(a,c){c?c=a.type==="image/webp"?(i||(i=b("Promise"))).resolve(a):d("MAWImagePreProcess").imageTranscode(a,"image/webp"):c=a.type==="image/gif"?(i||(i=b("Promise"))).resolve(a):d("MAWImagePreProcess").imageTranscode(a,"image/jpeg");return c.then(function(c){return(i||(i=b("Promise"))).all([d("MAWImagePreProcess").getJpegThumbnailInfo(a,400),d("MAWImagePreProcess").getImageSpec(c),c])}).then(function(a){var c=a[0],d=a[1];a=a[2];return(i||(i=b("Promise"))).resolve({args:{imageSpec:d,thumbnailUrlAndSpec:c},file:a,type:"image"})})}function e(a){return d("MAWVideoPreProcess").tryProcessRawVideo(a,!1).then(function(a){return(i||(i=b("Promise"))).all([a,d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a)])}).then(function(a){var c=a[0];a=a[1];return(i||(i=b("Promise"))).resolve({args:{thumbnailUrlAndSpec:a},file:c,type:"video"})})}function f(a){return d("MAWAudioUtils").getAudioDurationInSeconds(a).then(function(c){return(i||(i=b("Promise"))).resolve({args:{durations:c,isPtt:!0},file:a,type:"audio"})})}function k(a){return(i||(i=b("Promise"))).resolve({args:{filename:a.name},file:a,type:"document"})}function l(a,b,c,d,e,f,g,h,i,j,k,l,n){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,k,l,m,n,o,p,q){b=(yield d("MAWUIThreadCache").getThreadJidByChatId({threadId:b}));if(b==null){c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),"no_chat_jid",{instanceKey:o});return}var r=null;if(m!=null){m=d("MAWDbMsg").toMsgId(m.messageId);m!=null&&(r=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:m})))}c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"sending_media_to_wajob",{instanceKey:o});switch(i.type){case"image":var s;m=i.args;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(s=p)!=null?s:void 0,height:m.imageSpec.height,initiatingSource:q,isFirstMsg:n,isForwarded:!1,jpegThumbnail:m.thumbnailUrlAndSpec.jpegThumbnail,jpegThumbnailHeight:m.thumbnailUrlAndSpec.height,jpegThumbnailWidth:m.thumbnailUrlAndSpec.width,offlineAttachmentId:k,quote:(s=r)!=null?s:void 0,s2sInstanceKey:o,source:l,width:m.imageSpec.width},chatJid:b,externalId:d("MAWExternalId").generateExternalId(),file:i.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"video":s=i.args;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:s.thumbnailUrlAndSpec.duration,ephemeralSetting:(m=p)!=null?m:void 0,height:s.thumbnailUrlAndSpec.height,initiatingSource:q,isFirstMsg:n,isForwarded:!1,jpegThumbnail:s.thumbnailUrlAndSpec.jpegThumbnail,jpegThumbnailHeight:s.thumbnailUrlAndSpec.height,jpegThumbnailWidth:s.thumbnailUrlAndSpec.width,offlineAttachmentId:k,quote:(m=r)!=null?m:void 0,s2sInstanceKey:o,source:l,width:s.thumbnailUrlAndSpec.width},chatJid:b,externalId:d("MAWExternalId").generateExternalId(),file:i.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"audio":m=i.args;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:Math.round(m.durations),ephemeralSetting:(s=p)!=null?s:void 0,initiatingSource:q,isFirstMsg:n,isForwarded:!1,isPtt:m.isPtt,offlineAttachmentId:k,quote:(s=r)!=null?s:void 0,s2sInstanceKey:o,source:l},chatJid:b,externalId:d("MAWExternalId").generateExternalId(),file:i.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"document":m=i.args;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(s=p)!=null?s:void 0,filename:m.filename,initiatingSource:q,isFirstMsg:n,isForwarded:!1,offlineAttachmentId:k,quote:(p=r)!=null?p:void 0,s2sInstanceKey:o,source:l},chatJid:b,externalId:d("MAWExternalId").generateExternalId(),file:i.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;default:c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"uknown_file_type_sendMediaMsg_not_fired",{instanceKey:o})}var t;switch(i.type){case"image":t=8;break;case"video":t=10;break;case"audio":t=11;break;case"document":t=34;break}j.onReady(function(b){var c=(h||(h=d("I64"))).to_string(e);return b.log(a,e,f,k,[],g,l,t,!1,0,1,c)});return b});return m.apply(this,arguments)}var n=[".mp4",".mov"].concat(d("fileInputAcceptValues").PHOTO);n=c("gkx")("9045")?["*/*"]:["audio/*"].concat(n);function o(a,e,f,g){if(d("LSMessagingThreadTypeUtil").isSecure(e.threadType)){f!=null&&d("MessageRequestsLog").logActionConfirmed(e,8,(h||(h=d("I64"))).to_string(f));c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a,e.threadKey,"MAWSecureComposerUtils",function(a,e,f){c("isAppSyncDeleteThreadEnabled")()?d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatId:e,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}})):d("MAWBridgeFireAndForget").fireAndForget("backend","deleteThread",{threadId:e});return(i||(i=b("Promise"))).resolve()}));return}}g.imagePreprocess=a;g.videoPreprocess=e;g.audioPreprocess=f;g.documentFilePreprocess=k;g.sendAttachment=l;g.supportedFileTypes=n;g.onDeleteThread=o}),98);
__d("MAWSupportedDocumentTypes",[],(function(a,b,c,d,e,f){"use strict";var g=["apk","pyc","7z","z","gz","xz","rar","zip","zipx","ace","arc","zpaq","quad","balz","cab","arj","lzh","uue","bz","bz2","bzip2","jar","iso","tar","ade","adp","air","app","application","bas","bat","chm","cmd","com","command","cpl","crt","dll","dmg","dpkg","exe","hlp","hta","inf","ins","isp","jnlp","js","jse","lib","lnk","lua","mde","msc","msi","msp","mst","ocx","pcd","pif","pkg","ps1","reg","scr","sct","sh","shb","shs","sys","term","url","vb","vbe","vbs","vxd","webarchive","wsc","wsf","wsh","xbap"];function a(a){if(a==null)return!1;a=a.includes(".")?a.split(".").pop():null;return a!=null&&!g.includes(a)}f.isAllowedType=a}),66);
__d("MAWMediaManagerUtils",["MAWBridgeFireAndForget","MAWMediaUtils","MAWMiActOnActThreadReady","MAWSecureComposerUtils","MAWSupportedDocumentTypes","OfflineThreadingId","Promise","cometIsMimeTypeForMedia","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){return(h||(h=b("Promise"))).all(a.map(function(a){if(a.type==="image/gif"||a.type==="image/webp"||d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type))return d("MAWSecureComposerUtils").imagePreprocess(a,!1);if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return d("MAWSecureComposerUtils").videoPreprocess(a);if(a.type.startsWith("audio/"))return d("MAWSecureComposerUtils").audioPreprocess(a);return d("MAWSupportedDocumentTypes").isAllowedType(a.name)&&c("gkx")("9045")?d("MAWSecureComposerUtils").documentFilePreprocess(a):(h||(h=b("Promise"))).reject("Unsupported file type")})).then(function(a){a=d("OfflineThreadingId").createForItemsInOrder(a);a.forEach(function(a){i.set(a[1],a[0])});return a.map(function(a){return[a[0].file,a[1]]})})}function e(a){a.forEach(function(a){i["delete"](a)})}function f(a,e,f){c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a,e,"MAWMediaManagerUtils",function(a,c,e){a=f.reduce(function(a,b){b=i.get(b[1]);b!=null&&a.push(b);return a},[]);a.forEach(function(a){switch(a.type){case"image":return d("MAWBridgeFireAndForget").fireAndForget("backend","optimisticUploadMedia",{file:a.file,threadId:c,thumbnail:d("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(a.args.thumbnailUrlAndSpec.jpegThumbnail)});case"video":return d("MAWBridgeFireAndForget").fireAndForget("backend","optimisticUploadMedia",{file:a.file,threadId:c,thumbnail:d("MAWMediaUtils").convertJpegThumbnailArrayBufferToFile(a.args.thumbnailUrlAndSpec.jpegThumbnail)});case"audio":return d("MAWBridgeFireAndForget").fireAndForget("backend","optimisticUploadMedia",{file:a.file,threadId:c,thumbnail:null});case"document":return d("MAWBridgeFireAndForget").fireAndForget("backend","optimisticUploadMedia",{file:a.file,threadId:c,thumbnail:null})}});return(h||(h=b("Promise"))).resolve()}))}g.MAWMediaManagerAttachments=i;g.preprocess=a;g.clearAttachments=e;g.upload=f}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return i.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[d,i.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:((d=a)!=null?d:!1)?i.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null}),i.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerFallback.react",["fbt","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),k),d=b[0],e=b[1];j(function(){a||e()},[e,a]);return[d,e]}g["default"]=a}),98);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("nux:345")==null?void 0:b("nux:345")("WEB_MSGR_PINNED_MESSAGES_NUX")};c=a;g["default"]=c}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=50;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("msg_pinned_messages_v2")).getKeyRange(a)},[b,a],f.id+":29").length;return e>=i}g["default"]=a}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function a(a){var b=a.message,d=a.onPinCompleted,e=h._("__JHASH__SDjIWKr-fud__JHASH__"),f=h._("__JHASH__mSiYCxxiHcw__JHASH__"),g=c("useMWPIsMessagePinned")(b),i=c("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")();a=c("useMWXLazyDialog")(k);var l=a[0],m=c("useMWTogglePinMessage")(b,"message_dot_menu"),n=c("useMWPinnedMessageLimitReached")(b.threadKey);a=function(a){return i!=null?i({children:a,dialogProps:{onClose:function(){},pinMessageHandler:function(){return c("promiseDone")(m(),d)}}}):j.jsx(j.Fragment,{children:a(function(){return c("promiseDone")(m(),d)})})};var o=function(a){return j.jsx(c("MWXMenuItem.react"),{onClick:function(d){if(n&&!g)return l({onClose:function(){},threadKey:b.threadKey});!g?a():c("promiseDone")(m())},primaryText:g?f:e})};return a(o)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("logMAWEditMessage",["I64","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsMessageActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){if(d("LSMessagingThreadTypeUtil").isSecure(a))return;c("LsMessageActionFalcoEvent").log(function(){return{action:{type:f},error:{message:void 0},extra:{is_community_chats:d("LSMessagingThreadTypeUtil").isPublicCMThread(a)?"1":"0"},message:{attachment_type:"",entry_point:d("LsFalcoEventEntryPoint").messageActions,id:"",recipient_id:(h||(h=d("I64"))).to_string(e)},thread:{group_size:"",id:b!=null?(h||(h=d("I64"))).to_string(b):void 0,type:d("LSMessagingThreadTypeUtil").isGroup(a)?2:1}}})}g["default"]=a}),98);
__d("MAWEditMenuItem.react",["fbt","MAWEditMessageContext.react","MWPActor.react","MWPReplyContext.react","MWXMenuItem.react","logMAWEditMessage","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=a.message,e=a.threadType;a=k(d("MAWEditMessageContext.react").Context);var f=a.setEditMessageData;a=k(d("MWPReplyContext.react").MWPReplyContext);var g=a.clearReply,i=a.reply,l=d("MWPActor.react").useActor();a=h._("__JHASH__645ugDJYeSD__JHASH__");return j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){i!=null&&g(b.threadKey,!0),f({messageId:b.messageId,threadKey:b.threadKey,timestampMs:b.timestampMs}),c("logMAWEditMessage")(e,b.threadKey,l,89)},primaryText:a,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2CreatePromptMenuItem.react",["fbt","CometRelay","JSResourceForInteraction","MWDidQueryPromptsNux","MWShowMessagePromptPopoverContext.react","MWV2CreatePromptMenuItemQuery.graphql","MWXMenuItem.react","MessengerWebUXLogger","promiseDone","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("MWV2CreatePromptMenuItem.react");function m(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MWV2CreatePromptMenuItemQuery.graphql"),{}).toPromise()}}function a(){var a=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext(),b=a[0],e=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();a=c("useMWXLazyDialog")(l);var f=a[0],g=m();a=function(){b.current==null?void 0:b.current(),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),c("promiseDone")(g(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&f({asCreator:!0,rendererStrategy:a})})),e==null?void 0:e({eventName:"message_create_prompt"})};return k.jsx(c("MWXMenuItem.react"),{onClick:a,primaryText:h._("__JHASH__HlC08Cr4XB6__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ForwardMenuItem.react",["fbt","LSMessagingThreadTypeUtil","MWXMenuItem.react","react","useMWV2MessageForwardAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.message;a=a.threadType;var e=d("LSMessagingThreadTypeUtil").isSecure(a);e=c("useMWV2MessageForwardAction")(e,b,a);b=h._("__JHASH__GvPr2MwluxY__JHASH__");return j.jsx(c("MWXMenuItem.react"),{"aria-label":b,onClick:e,primaryText:b,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","promiseDone","react","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useRef,p=c("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function a(a){var b=a.canRemoveMessageGlobally,e=a.learnMoreOnMessageRemove,f=a.message,g=a.onRemoveMessageLogger,l=a.threadType;a=a.title;var q=(i||(i=c("useReStore")))(),r=h._("__JHASH__xWxZXNnPg5R__JHASH__"),s=f.messageId,t=f.threadKey,u=c("MWCMIsAnyCMThread")(l)&&(j||(j=d("I64"))).equal(f.sendStatusV2,(k||(k=d("LSIntEnum"))).ofNumber(4)),v=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(q.runInTransaction(function(a){return c("LSDeleteMessageStoredProcedure")(c("LSFactory")(a),{messageId:s,threadKey:t})},"readwrite"))},[q,t,s]),w=o(null),x=d("MWPActor.react").useActor(),y=(j||(j=d("I64"))).equal(f.senderId,x),z={learnMoreOnMessageRemove:e,message:f,title:a},A={canRemoveMessageGlobally:b,learnMoreOnMessageRemove:e,message:f,removeLogger:g,threadType:l,title:a},B=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();x=n(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var C=x.setLoggingData;b=c("useMWXEntryPointDialog")(c("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),{});var D=b[0];e=c("useMWXLazyDialog")(p);var E=e[0],F=function(){d("MWCMThreadTypes.react").isJoinedCMThread(l)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(l)||y&&!c("gkx")("9197")?D(z):E(A)};return m.jsx(c("MWXMenuItem.react"),{"aria-label":r,onClick:function(){var a={extraData:{actor_type:y?"sender":"receiver"},flowInstanceId:c("uuidv4")(),threadKey:t,threadType:l};B==null?void 0:B(babelHelpers["extends"]({},a,{eventName:"message_remove_attempt"}));C(a);d("MWV2LogMessageClick").log(q,f,45);return f.subscriptErrorMessage!=null&&u?v():F()},primaryText:h._("__JHASH__hqbvAdrkmFp__JHASH__"),ref:w,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){a=a.message;var b=a;a=h._("__JHASH__xFCj85w6vra__JHASH__");var e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.setReply;return j.jsx(c("MWXMenuItem.react"),{"aria-label":a,onClick:function(){return f({messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey)},primaryText:a,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ReportMessage.react",["fbt","I64","LSFactory","LSIntEnum","LSInternetConnectionState","LSReportMessageInCommunityChannel","ReQL","asyncToGeneratorRuntime","mwPushToast","promiseDone","react","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||d("react")).useCallback;function a(a,e){var f=(i||(i=c("useReStore")))(),g=c("useMWXConfirmationDialog")(),l=(j||(j=d("I64"))).isI64(a)?a:(j||(j=d("I64"))).of_string(a),n=m(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f.runInTransaction(function(a){return c("LSReportMessageInCommunityChannel")(l,e,c("LSFactory")(a))},"readwrite");var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("connectivity_status"))));a!=null&&(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))&&d("mwPushToast").mwPushToast({body:h._("__JHASH__d_L8PCP9wn0__JHASH__")})})())},[f,l,e]);a=m(function(){return g({body:h._("__JHASH__N-iMIiU3yyg__JHASH__"),confirm:h._("__JHASH__m9ILY9EaLLQ__JHASH__"),title:h._("__JHASH__ZQlRxOvru63__JHASH__")},n)},[g,n]);return a}g["default"]=a}),98);
__d("MWV2ReportMessageMenuItem.react",["fbt","MWXMenuItem.react","react","useMWV2ReportMessage.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;a=c("useMWV2ReportMessage.react")(a.threadKey,a.messageId);var b=h._("__JHASH__Un1168J6Rxb__JHASH__");return j.jsx(c("MWXMenuItem.react"),{"aria-label":b,onClick:a,primaryText:b,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFalcoFeatureEventLogger",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){c("gkx")("1471")&&c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:a,event_name:b,is_secured:d("LSMessagingThreadTypeUtil").isSecure(g),other_user_fbid:e!=null?(h||(h=d("I64"))).to_string(e):null,thread_fbid:(h||(h=d("I64"))).to_string(f)}})}g.logEvent=a}),98);
__d("getMWOtherUserFBID",["I64","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("LSMessagingThreadTypeUtil").isOneToOne(e);if(!f)return null;f=d("LSMessagingThreadTypeUtil").isSecure(e);if(!f)return c;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants"),["contactId"]).getKeyRange(c).filter(function(a){a=a.contactId;return!(h||(h=d("I64"))).equal(a,b)}).take(1)));return e==null?void 0:e.contactId});return i.apply(this,arguments)}g.getMWOtherUserFBID=a}),98);
__d("useMWFalcoFeatureEventLogger",["MWFalcoFeatureEventLogger","MWPActor.react","getMWOtherUserFBID","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPActor.react").useActor();return j(function(c,g){d("getMWOtherUserFBID").getMWOtherUserFBID(e,f,a,b).then(function(e){d("MWFalcoFeatureEventLogger").logEvent(c,g,e,a,b)})["catch"](function(){})},[e,f,a,b])}g["default"]=a}),98);
__d("useMWPCanUserEditMessage",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMIsCMSubthread","MWCMThreadTypes.react","MWPActor.react","ReQL","ReQLSuspense","gkx","qex","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=5,l=(j||(j=d("I64"))).of_int32(15*60);function m(a,b){a=(j||(j=d("I64"))).of_float(a/1e3);b=j.div(b,j.of_int32(1e3));a=j.sub(a,b);return j.lt(a,l)}function a(a,b){var e,g,l=d("MWPActor.react").useActor(),o=(h||(h=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[o,a.messageId,a.threadKey],f.id+":61"),q=c("useServerTime")();if(b==null)return!1;e=(j||(j=d("I64"))).to_int32((e=a.editCount)!=null?e:(j||(j=d("I64"))).zero)<k;q=m(q.getTime(),a.timestampMs);l=j.equal(a.senderId,l);var r=a.text!=null&&a.text!=="";g=j.equal((g=a.hotEmojiSize)!=null?g:(j||(j=d("I64"))).zero,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE));p=((p=p==null?void 0:p.hasXma)!=null?p:!1)||a.mentionIds!=null;var s=a.isUnsent===!1&&(j||(j=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));return e&&q&&l&&r&&g&&!p&&s&&n(b)}function n(a){var b=a.threadType;if(d("LSMessagingThreadTypeUtil").isWorkThread(a.threadSubtype))return!1;if(d("LSMessagingThreadTypeUtil").isSecure(b))return c("gkx")("8016");if(d("MWCMThreadTypes.react").isBroadcastThread(b)||d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(b)){var e;return(e=c("qex")._("303"))!=null?e:!1}if(c("MWCMIsAnyCMThread")(b)||c("MWCMIsCMSubthread")(b)){return(e=c("qex")._("305"))!=null?e:!1}if(d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)){return(b=c("qex")._("306"))!=null?b:!1}return!1}g["default"]=a}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWPinMessageMenuItem.react","MWV2CreatePromptMenuItem.react","MWV2ForwardMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","WebUXLoggingSurfaceContextProvider","cr:1111","cr:1200","cr:1787","cr:4140","cr:5750","cr:5790","focusScopeQueries","react","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.attachment,f=a.canRemoveMessageGlobally;a.closeActionsMenu;var g=a.extraActions,i=a.learnMoreOnMessageRemove,k=a.message;a.onClose;var l=a.onRemoveMessageLogger,m=a.removeMessageDialogTitle,n=a.showCreatePrompt,o=a.showCreateSubthread,p=a.showFeedbackOptionsInContextualMenu,q=a.showForwardActionInContextualMenu,r=a.showPinMessageActionInContextualMenu,s=a.showReplyActionInContextualMenu,t=a.showReportCommunityMessageToAdmin,u=a.showReportCommunityMessageToFacebook,v=a.showUnsendInContextualMenu;a=a.thread;var w=c("useMWEntrypoint")(),x=a==null?void 0:a.threadType,y=c("useMWFalcoFeatureEventLogger")(k.threadKey,x),z=h._("__JHASH__xVGUtEB2kuN__JHASH__");a=c("useMWPCanUserEditMessage")(k,a);return j.jsx(c("MWXPopover.react"),{withArrow:!0,children:j.jsx(d("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:j.jsx(d("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx(c("MWXMenu.react"),{label:z,size:"full",children:j.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[a?j.jsx(c("MAWEditMenuItem.react"),{message:k,threadType:x}):null,v?j.jsx(c("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:f,learnMoreOnMessageRemove:i,message:k,onRemoveMessageLogger:l,threadType:x,title:m}):null,q?j.jsx(c("MWV2ForwardMenuItem.react"),{message:k,threadType:x}):null,s?j.jsx(c("MWV2ReplyMenuItem.react"),{message:k}):null,b("cr:5750")!=null&&o?j.jsx(b("cr:5750"),{message:k}):null,n&&e!=null?j.jsx(c("MWV2CreatePromptMenuItem.react"),{}):null,r?j.jsx(c("MWPinMessageMenuItem.react"),{message:k,onPinCompleted:function(){y(w,"pin_message")}}):null,t?j.jsx(c("MWV2ReportMessageMenuItem.react"),{message:k}):null,u?j.jsx(c("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:d("LSMessagingThreadTypeUtil").isCMSubthread(x),menuItemLabel:h._("__JHASH__2SjbZXVdFlO__JHASH__"),messageId:k.messageId,threadKey:k.threadKey}):null,b("cr:5790")?j.jsx(b("cr:5790"),{message:k}):null,b("cr:1200")!=null&&p&&j.jsx(b("cr:1200"),{message:k}),b("cr:1111")!=null&&p&&j.jsx(b("cr:1111"),{message:k}),g,b("cr:4140")?j.jsxs(j.Fragment,{children:[b("cr:1787")&&j.jsx(b("cr:1787"),{}),j.jsx(b("cr:4140"),{message:k})]}):null]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditedEyebrow.react",["fbt","CometMiddot.react","MessengerWebUXLogger","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.hasSeparator;a=a.xstyle;var d=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return k.jsxs(k.Fragment,{children:[b&&k.jsx("span",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("CometMiddot.react"),{})}),k.jsx("span",{"data-testid":void 0,ref:d,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageTimestampTooltip.react",["fbt","I64","LSIntEnum","MWMessageUnsentTimestampText.react","MWXTooltip.react","MercuryTimestamp","cr:1654","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useMemo;function a(a){var e=a.children,f=a.message,g=b("cr:1654")==null?void 0:b("cr:1654")(f.messageId);a=m(function(){var a=f.isUnsent,b=f.unsentTimestampMs;if((j||(j=d("I64"))).equal(f.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(65536))){var e=h._("__JHASH__OwAZycr4-8G__JHASH__");return[e,e]}if(b!=null&&a)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:f.timestampMs,unsentTimestampMs:b}),h._("__JHASH__8eZEd_EeDsx__JHASH__")];e=h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp((j||(j=d("I64"))).to_float(f.timestampMs)))]);return[l.jsxs("div",{children:[l.jsx("div",{children:g!=null&&g>0?"Send Latency: "+g.toString()+"ms":null}),l.jsx("div",{children:e})]}),e]},[f,g]);var i=a[0];a=a[1];return l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,position:"start",tooltip:i,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight;a=a.src;var f=k(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(l.image,d==null?!1:l.imageFill),src:a,style:f});if(d!=null)return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}function n(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;a.width;c=(a=c)!=null?a:null;a=k(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var h=k(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return j.jsx("div",{className:"x193iq5w",children:j.jsx("div",{style:h,children:j.jsx("div",{className:d,style:a,children:c})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,h=a.src;a=a.width;var i=a!=null&&e!=null?a/e:void 0;return j.jsxs(n,{aspectRatio:i,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[j.jsx(m,{alt:b,aspectRatio:i,maxHeight:f,src:h}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=n;g.MWPStableImage=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.table("media_staging")).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWMessageListAttachmentDimensions",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){return i(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return a!=null&&c!=null&&d!=null&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWInboxInfoSharedContentQPLLogger","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWPStableImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","gkx","react","stylex","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o={appAttr:{alignItems:"x6s0dn4",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingEnd:"xsyo7zv",paddingBottom:"xjkvuk6",paddingStart:"x16hj40l",$$css:!0},appIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xlup9mm",marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},appText:{color:"xzsf02u",fontSize:"x1nxh6w3",wordBreak:"x13faqbe",$$css:!0},container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0},incomingConnectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incomingConnectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoingConnectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoingConnectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0},withAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function p(a){a=a.attachment;var b=a.attributionAppName;if(b==null)return null;a=a.attributionAppIcon;return n.jsxs("div",{className:"x6s0dn4 x1gn5b1j x230xth x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!=null?n.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,n.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b,e=a.attachment,f=a.connectBottom,g=a.connectTop;a.getPlayableUrl;var m=a.getPreviewUrl,q=a.message,r=a.navigateToRouteForMediaViewer,s=a.outgoing;a=a.renderUnsupportedAttachment;var t=(i||(i=c("useReStore")))(),u=(b=r)!=null?b:!0;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var v=e.attributionAppName!=null;b=c("useMWMessageListAttachmentDimensions")(b,e);var w=b[0];b=b[1];var x=c("useMWV2MediaViewerURL")(e);g=g?s?o.outgoingConnectTop:o.incomingConnectTop:!1;f=f===!0?s?o.outgoingConnectBottom:o.incomingConnectBottom:!1;s=c("gkx")("1924962");var y=c("useMWV2FocusRowAfterClosingPushView")();r=c("useMWV2MediaViewerShowDialog")((r=r)!=null?r:!0);var z=r[0],A=r[1];r=m(e);if(r==null||r.length===0)return a!=null?a(e):null;m=u&&(k||(k=d("I64"))).gt(q.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:r},url:x}:void 0;a=function(){d("MWV2LogMessageClick").log(t,q,28);d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("media");y(function(){return!0});if(!u)return z({attachment:e},function(){})};return n.jsxs(c("MWMessageListMediaPressableContainer.react"),{attachment:e,disabled:(k||(k=d("I64"))).le(q.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),linkProps_:m,onHoverIn:function(){if(!u)return A()},onPress:a,testid:void 0,xstyle:[o.container,o.standalone,g,f],children:[n.jsx(d("MWPStableImage.react").MWPStableImage,{alt:e.titleText!=null&&s?e.titleText:h._("__JHASH__mrw3CpFXi7r__JHASH__"),className:(j||(j=c("stylex")))(o.content,v?o.withAppAttribution:o.standalone,g,f),height:b!=null?(k||(k=d("I64"))).to_float(b):void 0,maxHeight:200,maxWidth:480,src:r,width:w!=null?(k||(k=d("I64"))).to_float(w):void 0,children:n.jsx(p,{attachment:e})}),(k||(k=d("I64"))).le(q.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?n.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,n.jsx(c("MWChatImageInsetShadow.react"),{xstyle:[g,f]})]},e.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWResponsiveVideo.react",["CometObjectFitContainer.react","CometPlaceholder.react","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","MWXGlimmer.react","deferredLoadComponent","gkx","justknobx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.react")),m={container:{maxWidth:"x193iq5w",minHeight:"x11md1zd",minWidth:"x450l9j",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},fill:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function n(a){return[a==="Inbox"?240:180,140]}function a(a){var b=a.connectTopStyles,e=a.fbid,f=a.height,g=a.maxHeight,i=a.maxWidth,o=a.src,p=a.width,q=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r=k(function(){var a=p!=null?f!=null?[p,f]:[500,300]:[500,300];return a[0]/a[1]},[p,f]);a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var s=c("gkx")("1581")&&a(46);a=k(function(){var a=n(q);if(c("justknobx")._("1704")===!0){var b;b=Math.min((b=p)!=null?b:500,i,g*r).toString()+"px"}else{var d;b=Math.min((d=p)!=null?d:500,i).toString()+"px"}return{maxHeight:g.toString()+"px",minHeight:s?a[1].toString(10)+"px":"",minWidth:s?a[0].toString(10)+"px":"",width:b}},[g,p,i,s,q,r]);return j.jsxs("div",{className:"x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",style:a,children:[j.jsx("div",{className:"x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx("div",{className:(h||(h=c("stylex")))(m.glimmerFallback,b),children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:m.glimmer})}),children:j.jsx(l,{autoPlaySetting:s?"off":void 0,controls:"mwchat",fbid:e,hideExpandButton:!0,originalHeight:(a=f)!=null?a:300,originalWidth:(b=p)!=null?b:500,sdSrc:o})})}),j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:r,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatVideo.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWResponsiveVideo.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWVideoPlayerControllerContext.react","react","recoverableViolation","useCometRouterDispatcher","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useContext,o=b.useMemo,p=b.useRef,q={incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xcrg951",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function r(a){var b=a.attachment,e=a.connectTop,f=a.getPreviewUrl,g=a.message,l=a.navigateToRouteForMediaViewer,o=l===void 0?!0:l;l=a.outgoing;var p=(i||(i=c("useReStore")))(),r=c("useCometRouterDispatcher")(),s=c("useMWV2MediaViewerURL")(b);a=e?l?q.outgoing_connect_top:q.incoming_connect_top:!1;var t=c("useMWV2FocusRowAfterClosingPushView")();e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=c("useMWV2MediaViewerShowDialog")(o);var u=l[0],v=l[1],w=n(c("MWVideoPlayerControllerContext.react")),x=f(b);if(x==null||x==="")return null;l=b.previewWidth;f=b.previewHeight;var y={ariaLabel:h._("__JHASH__Sk-r4mWi0bD__JHASH__"),attachment:b,disabled:(j||(j=d("I64"))).le(g.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),onHoverIn:function(){if(!o)return v()},onPress:function(){d("MWV2LogMessageClick").log(p,g,27);t(function(){return!0});if(!o)return u({attachment:b},function(){});var a=w.ref.current;if(a){var e=a.getCurrentState();e=e.volume;var f=a.getPlayheadPosition();r==null?void 0:r.go(s,{passthroughProps:{origSrc:x,startTimestamp:f,volumeSetting:e}});a.setMuted(!0,"product_initiated")}else c("recoverableViolation")("Missing controller","messenger_web_product")},overlayDisabled:!0,testid:"chat-video",xstyle:[q.root,a]};return m.jsxs(c("MWMessageListMediaPressableContainer.react"),babelHelpers["extends"]({},y,{children:[m.jsx(c("MWResponsiveVideo.react"),{connectTopStyles:a,fbid:b.attachmentFbid,height:f!=null?(j||(j=d("I64"))).to_float(f):void 0,maxHeight:200,maxWidth:e==="Inbox"?500:167,src:x,width:l!=null?(j||(j=d("I64"))).to_float(l):void 0}),(j||(j=d("I64"))).le(g.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null,m.jsx(c("MWChatImageInsetShadow.react"),{xstyle:a})]}))}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=p(null),d=o(function(){return{ref:b}},[b]);return m.jsx(c("MWVideoPlayerControllerContext.react").Provider,{value:d,children:m.jsx(r,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2Sticker.react",["I64","MWChatImageSize","MWLSThreadDisplayContext","MWPColorUtils","Sticker.react","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useMemo;function m(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var c=b!=null?b==="Inbox"?.75:.5:.5;if(a<60)return 1;else return c},[a,b])}function a(a){var b,e=a.attachment,f=a.getPreviewUrl,g=a.scale;a=a.xstyle;f=f(e);var i=e.previewHeight!=null?(j||(j=d("I64"))).to_int32(e.previewHeight):void 0,l=e.previewWidth!=null?(j||(j=d("I64"))).to_int32(e.previewWidth):void 0;b=m((b=i)!=null?b:120);var n=c("useMWPThreadTheme")(),o=l!=null&&i!=null;o=d("MWChatImageSize").useImageSize(f,o);l=l!=null&&i!=null?[l,i]:o!=null?[o.width,o.height]:[24,24];i=l[0];o=l[1];return k.jsx(c("Sticker.react"),{accessibilityLabel:(l=e.accessibilitySummaryText)!=null?l:"",animationTrigger:"load_and_hover",className:(h||(h=c("stylex")))(a),customColor:d("MWPColorUtils").int64ToHex(n.threadTheme.fallbackColor),enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:(l=g)!=null?l:b,sourceHeight:o,sourceURI:f,sourceWidth:i,spriteURI:void 0,stickerID:e.attachmentFbid,tabIndex:-1})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageListAttachment.react",["fbt","LSMediaUrl.bs","MWAudioPlayer.react","MWLSThreadDisplayContext","MWV2ChatImage.react","MWV2ChatVideo.react","MWV2Sticker.react","MWV2TombstonedMessage.react","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.connectBottom,d=a.connectTop;a=a.xstyle;return k.jsx("div",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:b,connectTop:d,children:h._("__JHASH__962PS6SI-P2__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachment,e=a.connectTop,f=a.message,g=a.navigateToRouteForMediaViewer;a=a.outgoing;var h=l(function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)},[]);return k.jsx(c("MWV2ChatVideo.react"),{attachment:b,connectTop:e,getPreviewUrl:h,message:f,navigateToRouteForMediaViewer:g,outgoing:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.attachment,c=a.isReply;a=a.outgoing;var e=l(function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)},[]);return k.jsx(d("MWAudioPlayer.react").MWAudioPlayer,{attachment:b,getPlayableUrl:e,isReply:c,outgoing:a})}e.displayName=e.name+" [from "+f.id+"]";function m(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.message,h=a.navigateToRouteForMediaViewer,i=a.outgoing;a=a.renderUnsupportedAttachment;var j=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=l(function(a){var b=a.previewUrlLarge;return b!=null&&j==="Inbox"?b:d("LSMediaUrl.bs").Attachment.previewUrl(a)},[j]),n=function(a){return d("LSMediaUrl.bs").Attachment.playableUrl(a)};return k.jsx(c("MWV2ChatImage.react"),{attachment:b,connectBottom:e,connectTop:f,getPlayableUrl:n,getPreviewUrl:m,message:g,navigateToRouteForMediaViewer:h,outgoing:i,renderUnsupportedAttachment:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.attachment;var b=l(function(a){var b;b=(b=d("LSMediaUrl.bs").Attachment.playableUrl(a))!=null?b:d("LSMediaUrl.bs").Attachment.previewUrl(a);if(b!=null)return b;c("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web")},[]);return k.jsx(c("MWV2Sticker.react"),{attachment:a,getPreviewUrl:b})}n.displayName=n.name+" [from "+f.id+"]";g.MWMessageListAttachmentError=a;g.MWMessageListAttachmentVideo=b;g.MWMessageListAttachmentAudio=e;g.MWMessageListAttachmentImage=m;g.MWMessageListAttachmentSticker=n}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatBubbleEmphasisRing.react","MWChatTextTransform","cr:2472","cr:6931","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo;function a(a){var e=a.hasEmphasisRing;e=e===void 0?!1:e;var f=a.isSecureMessage;f=f===void 0?!1:f;a=a.message;var g=l(function(){return d("MWChatTextTransform").epdTextTransformsWithOptions({size:32})},[]),h=a.text;if(h==null)return null;h=b("cr:2472")==null?h:b("cr:2472").unvault(h);a=a.hotEmojiSize;a=a!=null&&((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)));if(f&&a&&h==="\ud83d\udc4d")return b("cr:6931")==null?null:k.jsx(b("cr:6931"),{});f=k.jsx(c("CometTextWithEntities.react"),{text:h,transforms:g,withParagraphs:!0});return e?k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,hasXMA:!1,outgoing:!1,precedesXMA:!1,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrl.bs","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=m(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrl.bs").Attachment.playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")},url:g==null?void 0:g.toString(),children:l.jsxs("div",{className:(i||(i=c("stylex")))(n.root,!1),children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),l.jsx("div",{className:"x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatImagesGrid.react",["fbt","CometImageCover.react","CometPhotoGrid.react","LSMediaUrl.bs","MWLSThreadDisplayContext","MWXPressable.react","react","stylex","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useMemo,m={large:{width:"x7cdydq",$$css:!0},pressable:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function n(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return l(function(){var c=a.previewUrlLarge;if(c!=null&&b==="Inbox")return c;else return d("LSMediaUrl.bs").Attachment.previewUrl(a)},[a,b])}function o(a){a=a.attachment;var b=n(a);a=c("useMWV2MediaViewerURL")(a);if(b!=null)return k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{passthroughProps:{origSrc:b},url:a},overlayRadius:"compact",xstyle:function(){return[m.pressable]},children:k.jsx(c("CometImageCover.react"),{src:b})});else return null}o.displayName=o.name+" [from "+f.id+"]";function a(a){a=a.attachments;var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return k.jsx("div",{className:(i||(i=c("stylex")))(m.root,b==="Inbox"?m.large:m.small),"data-testid":void 0,children:k.jsx(c("CometPhotoGrid.react"),{children:a.map(function(a){return k.jsx(o,{attachment:a},a.attachmentFbid)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=d("MWPMessageAuthor.react").useAuthorName();a=a[0];return a!=null?h._("__JHASH___lYaXtrKDTe__JHASH__",[h._param("first name",a)]):h._("__JHASH__I-2GRtvMpnJ__JHASH__")}g["default"]=a}),98);
__d("MWV2ChatUnsentMessage.react",["fbt","I64","MWCMIsAnyCMThread","MWLSThread","MWV2TombstonedMessage.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","react","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={linkText:{paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function n(a){var b=a.attachment,d=a.isSecureMessage;a=a.message;var e=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=c("useMAWUnsendContentInSecureThread")(a);if(d)d=a;else if(b!=null){a=b.descriptionText;d=a!=null?a:e}else d=e;return l.jsx(c("MWV2TombstonedMessage.react"),{children:d})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.attachment;if(a!=null){a=a.descriptionText;a=a!=null?a:h._("__JHASH__eGohYC1zonu__JHASH__")}else a=h._("__JHASH__eGohYC1zonu__JHASH__");return l.jsx(c("MWV2TombstonedMessage.react"),{children:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachment;a=a.thread;a=c("useCommunityFolder")(a);if(b!=null){b=b.cta1Title;b=b!=null?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!=null)return l.jsx(c("MWXPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:(k||(k=d("I64"))).to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(){return[m.linkText]},children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var g=(i||(i=c("useReStore")))(),h=e.messageId,j=e.threadKey,k=d("MWLSThread").useThread(j),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(j,h)},[g,h,j],f.id+":134");if(m!=null){var q=m.cta1Type;q=q!=null?q==="xma_view_activity_log":!1}else q=!1;return l.jsxs(l.Fragment,{children:[a?l.jsx(o,{attachment:m}):l.jsx(n,{attachment:m,isSecureMessage:b,message:e}),k!=null&&q&&c("MWCMIsAnyCMThread")(k.threadType)?l.jsx(p,{attachment:m,thread:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatUnsentMessage=a}),98);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.attachment;a=a.descriptionText;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o",children:[j.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:j.jsx(c("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})}),j.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f x13faqbe",children:[j.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__Uhh5LwoNOuv__JHASH__")}),a!=null?j.jsx("div",{className:"x889kno",children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPOpenComposerUtils",["I64","LSRemoveMediaSendJobsStoredProcedure","LSResumeMediaSendJobStoredProcedure","MWConsole","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return a.table("media_staging").get(c).then(function(d){if(d!=null)return a.table("media_staging")["delete"](c);else return(i||(i=b("Promise"))).resolve()})}function e(a,c,d){return a.table("media_staging").get(c).then(function(c){if(c!=null)return a.table("media_staging").put(d(c));else return(i||(i=b("Promise"))).resolve()})}function f(a,c,d,e,f){return a.table("attachments").get(c,d,e).then(function(g){if(g!=null)return a.table("attachments").upsert([c,d,e],f(g));else return(i||(i=b("Promise"))).resolve()})}function j(a,e,f){return c("LSResumeMediaSendJobStoredProcedure")(a,{dataTraceId:(f=f)!=null?f:void 0,jobId:e,pluginType:(h||(h=d("I64"))).zero}).then(function(d){d=d[0];if(d)return c("LSRemoveMediaSendJobsStoredProcedure")(a,{offlineThreadingId:e});else return(i||(i=b("Promise"))).resolve()})}g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=j}),98);
__d("MWPComposerMediaUploadUtil",["FBLogger","I64","LSIntEnum","MessagingAttachmentType","XComposerPhotoUploader","cometIsMimeTypeForMedia","emptyFunction","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,d,e,f,g,h,i,j,k,l){b===void 0&&(b=c("emptyFunction"));e===void 0&&(e=c("emptyFunction"));f===void 0&&(f=!1);var m="/ajax/mercury/upload.php";i===!0&&(m="/ajax/mercury/chatsupportuser/upload.php");e=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:e,onUploadProgress:b,onUploadStart:function(b,c){a&&a(b,c.upload._file.size,c.upload._file.type)},onUploadSuccess:function(a,b){b=b.response.payload.metadata;var e;if(b==null)c("FBLogger")("messenger_browser_clients").warn("Empty payload"),e={};else{b=b[0];b!=null?e=b:(c("FBLogger")("messenger_browser_clients").warn("Empty metadata isChatSupportUser: %s",i),e={})}b=e.fbid;var f=e.video_id,g=e.audio_id,h=e.gif_id;e=e.file_id;g=(b=(f=(b=(b=b)!=null?b:f)!=null?b:g)!=null?f:h)!=null?b:e;d(a,g);if(g==null)throw c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:m});b={};b.data={chat_support_user_id:i===!0&&j!=null?j:void 0,nonce:i===!0&&l!=null?l:void 0,voice_clip:f?!0:void 0,voice_clip_waveform_data:f?JSON.stringify(k):void 0};e.getAsyncFileUploadRequest(g,h,b).send()}function b(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)}function e(a,b,e,f){return{action_url:void 0,attachment_fbid:a,attachment_index:(i||(i=d("I64"))).zero,attachment_type:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:i.of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,sampling_frequency_hz:f==null?void 0:f.sampling_freq,source_text:void 0,subtitle_text:void 0,title_text:void 0,waveform_data:f==null?void 0:(a=f.amplitudes)==null?void 0:a.join(","),xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:(i||(i=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:a.previewHeight,preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:a.previewWidth,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){(i||(i=d("I64"))).equal(a.attachment_type,(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:(i||(i=d("I64"))).of_int32(b)})})})}g.startUpload=a;g.getAttachmentType=b;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.react").useAuthorName();e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&k.jsx("span",{className:(i||(i=c("stylex")))(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",{className:(h||(h=c("stylex")))(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPIsSenderAdMod",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e){var g=(j||(j=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){(h||(h=d("I64"))).is_zero(a)||(yield g.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(i||(i=d("LSIntEnum"))).ofNumber(14),targetUserId:e})},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},[g,a,e]);var k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communityContact")).getKeyRange(a,e,c("pageID"))},[g,a,e],f.id+":60"),l=(k==null?void 0:k.isAdmin)==null?!1:k.isAdmin;k=(k==null?void 0:k.isModerator)==null?!1:k.isModerator;return{isAdmin:l,isModerator:k}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","CometHovercardTrigger.react","CometMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXText.react","react","useMWCMIsSenderChatHost","useMWPIsSenderAdMod"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function l(a){var b=a.communityId,d=a.senderId,e=a.shouldRenderSenderName;a=a.threadKey;var f=c("useMWPIsSenderAdMod")(b,d),g=f.isAdmin;f=f.isModerator;b=c("useMWCMIsSenderChatHost")(b,a,d);d=h._("__JHASH__l4xCpI5VHpV__JHASH__");var i=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=k.jsx(c("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return k.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return k.jsx(k.Fragment,{children:e&&(g||f||b)&&k.jsxs(k.Fragment,{children:[k.jsx(c("CometMiddot.react"),{}),k.jsx("span",{"data-testid":void 0,children:g?d:f?i:a})]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return b==null||(j||(j=d("I64"))).is_zero(b)?null:k.jsx(l,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","I64","LSContactBitOffset","MWCMBotIcons.react","MWEditedEyebrow.react","MWGroupUpdatesVerifiedIcon.react","MWLSThread","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPEditMessageUtil","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","ReQL","ReQLSuspense","justknobx","react","stylex","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{bottom:"x1c7jfne",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0},separator:{paddingEnd:"x19um543",paddingLeft:null,paddingRight:null,paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx("div",{className:(i||(i=c("stylex")))(n.container,a?n.alignEnd:n.alignStart),children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.outgoing,g=a.renderPaidPartnerShipText,l=a.renderPinnedText,p=a.renderTextWrapper;a=a.shouldRenderSenderName;var q=d("MWPMessageAuthor.react").useAuthorName();q=q[0];var r=d("MWPContactContext.react").useMWPContactStableContext(),s=r.contact;r=r.nickname;var t=d("Actor").useActor();t=t[0];var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext(),v=(k||(k=c("useReStore")))(),w=d("MWLSThread").useThread(b.threadKey,function(a){return a.parentThreadKey}),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(v.table("community_folders")).getKeyRange(w).map(function(a){return a.folderId}):d("ReQL").empty()},[v,w],f.id+":99"),y=d("MWPEditMessageUtil").isEditedMessage(b),z=d("MWPThreadIsPage.react").useIsPage();z=z&&!(j||(j=d("I64"))).equal(b.senderId,b.threadKey)&&!e;var A=a||z,B=s?d("LSContactBitOffset").has(77,s):!1,C=s?d("LSContactBitOffset").has(84,s):!1,D=c("useMWPIsMessagePinned")(b);a=c("usePinnedTextAnimation")(D);var E=a.mountAnimation,F=a.unmountAnimation,G=b.isPaidPartnership===!0;z=A||D||y||G;a=(s=r)!=null?s:h._("__JHASH__4LwiFWKMkVy__JHASH__");r=t===(j||(j=d("I64"))).to_string(b.senderId);s=r?a.toString():q==null?void 0:q.toString();t=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!z)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:b,outgoing:e});r=function(a){a=m.jsx(o,{outgoing:e,children:p(m.jsxs(m.Fragment,{children:[A&&a!=null&&m.jsx("span",{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:x,message:b,shouldRenderSenderName:A}),D&&m.jsx("span",{className:(i||(i=c("stylex")))(D?E:F),children:l(b,A)}),y&&m.jsx(c("MWEditedEyebrow.react"),{hasSeparator:A&&a!=null,xstyle:n.separator}),B===!0?m.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:m.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null,C&&m.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:m.jsx(c("MWGroupUpdatesVerifiedIcon.react"),{})}),c("justknobx")._("1473")&&G&&g!=null&&g(b)]}))});return u==="reportMessages"?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return b.takedownState!=null?r(t.toString()):r(s)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.message,j=a.outgoing,n=a.renderForwardSnippet,o=a.renderPaidPartnerShipText,p=a.renderPinnedText,q=a.renderReplySnippet,r=a.renderSenderName,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply")(i);n=m(i,n,q,j);q=d("MWPContactContext.react").useMWPContactStableContext();q=q.nickname;var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();q=f&&q!=null&&e;e=b||g&&f&&!j&&!t||q;n!=null?b=k.jsx("div",{className:(h||(h=c("stylex")))(l.header,j?l.alignEnd:!1),role:"none",children:u==="reportMessages"?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):r!=null?b=e?r(i):k.jsx(c("MWPAccessibleEyebrowsText.react"),{message:i,outgoing:j}):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:i.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{message:i,outgoing:j,renderPaidPartnerShipText:o,renderPinnedText:p,renderTextWrapper:s,shouldRenderSenderName:e})});g=n!=null?l.timestampWithSnippet:l.timestamp;t=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:i,renderText:s,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:j?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),t!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:t})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message;a.outgoing;var g=a.paint;g=g===void 0?!0:g;var i=a.renderEmphasisRing;a=a.xmaLayout;var l=c("MWPMessageHasXMA")(f),m=c("MWPMessageIsReply")(f),n=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;n=j.jsx("div",{className:(h||(h=c("stylex")))(k.container,l?k.container_for_xma:!1,n?k.container_for_poll:!1),"data-testid":void 0,children:b});return j.jsxs(j.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!l||!f)?j.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!m&&g,children:i!=null?i(l,n):n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("attachment_ctas")).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,h=a.renderEmphasisRing,m=a.renderEphemeralMediaAttachment,n=a.renderFileAttachment,o=a.renderImageAttachment,p=a.renderImageGrid,q=a.renderStickerAttachment,r=a.renderUnsupportedAttachment,s=a.renderUnsupportedMultipleAttachments,t=a.renderVideoAttachment,u=a.renderWrapper,v=a.renderXMAAttachment;a=a.xmaLayout;var w=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,x=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(x.length>0?x[0].attachmentCta1Id:null);var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.blurMediaEnabled;y=c("gkx")("1581")&&y;if(f.replyType!=null&&(i||(i=d("I64"))).equal(f.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP)))return null;if(x.length!==1)x.length>1&&x.every(l)?y?y=x.map(function(a,b){return k.jsxs(k.Fragment,{children:[b!==0?k.jsx(c("MWVerticalRhythm"),{height:2}):null,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:o(a,b!==0,b!==x.length-1,r)})]},a.attachmentFbid)}):y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:p(x)}):y=s!=null?s(x):void 0;else{p=x[0];s=p.attachmentType;s=!(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));var z=p.attachmentType;y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:s,renderEmphasisRing:h,xmaLayout:w,children:(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?o(p,e,b,r):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?t(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?g(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?q(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?v(p,a):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?n(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?m(p):r(p)})}return y!=null?u!=null?u(y):y:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPEditMessageUtil","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOMComet","cr:4712","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.forwardRef,n=e.useCallback,o=e.useContext,p=e.useId,q=e.useMemo,r=e.useRef,s={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function t(){}function u(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var v=h._("__JHASH__U5V4JiyTDSI__JHASH__"),w=h._("__JHASH__GoIrDg5lzef__JHASH__"),x=h._("__JHASH__ctLNxPXr8we__JHASH__"),y=m(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var i=a[1];return a[0]({children:l.jsx(c("MWXPressable.react"),{"aria-label":g,focusable:f,onPress:function(){return h()},ref:b,xstyle:[i,s.enterModalButton,e],children:l.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4})})})});function a(a){var e=a.children,f=a.domElementRef,g=a.isDialogOpened,j=a.isFocused,m=a.isModal,z=a.message,A=a.messageDomID,B=a.nextMessage,C=a.outgoing,D=a.prevMessage,E=a.setFocused,F=a.setHovered,G=a.setIsDialogOpened,H=a.stopHoveringRef;a=a.theme;var I=o(d("MWV2MessageListIsRowModalContext.react").context),J=r(null),K=p(),L=n(function(){I(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(K,d("focusScopeQueries").tabbableScopeQuery)},0)},[I,z.messageId,K]),M=function(){I(function(){return""});var a=J.current;if(a!=null)return a.focus()},N=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),O=d("MWPMessageAuthor.react").useAuthorName();O=O[0];C=C?h._("__JHASH__g90cYI08lR4__JHASH__"):O!=null?O:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var P=p(),Q=l.jsx(c("CometScreenReaderText.react"),{id:P,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",N),h._param("Name of the author of the incoming message",C)])}),R=p(),S=r(null),T=c("gkx")("3598"),U=r(t),V=r(t),W=r(t),X=r(t);O=q(function(){return{isDialogOpened:g,setFocused:E,setIsDialogOpened:G}},[E,G,g]);N=q(function(){return{forwardMessage:W,openReactionsMenu:U,removeMessage:X,replyToMessage:V}},[U,V]);C=d("MWPEditMessageUtil").useGetEditMessageData()!=null;var Y=c("useMWPEditMessageDeemphasizer")(z.messageId),Z=function(a){if(j!==a){E(function(){return a});return I(function(){if((a||g)&&m)return z.messageId;else return""})}},$=function(a){j!==a&&E(function(){return a});var b=S.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:O,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:N,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:f,message:z,nextMessage:B,prevMessage:D,role:"row",setHovered:C?c("emptyFunction"):F,stopHoveringRef:H,theme:a,xstyle:[s.row,Y],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:C?void 0:Z,onFocusVisibleChange:C?void 0:$,children:function(a,b){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(s.cell,m?s.cellModal:!1,b?s.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:J,role:"gridcell",tabIndex:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:m,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:m?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:K,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:u,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":P,id:R,role:"dialog",children:[e,m?Q:null,l.jsx(y,{ariaLabel:w,focusable:!0,onPress:M,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:s.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(l.jsx("div",{"aria-owns":R}),document.body)]}):e})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:m?void 0:L,onEscape:m?M:void 0,onSpace:m?void 0:L,children:T?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(y,{ariaLabel:m?h._("__JHASH__C-7ahaHTUI7__JHASH__"):v,focusable:m,onPress:L,ref:S,text:m?h._("__JHASH__C-7ahaHTUI7__JHASH__"):x,xstyle:b&&!m?s.enterModalButtonVisible:s.visuallyHidden})})]})}})}),b("cr:4712")&&l.jsx(b("cr:4712"),{messageId:z.messageId})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);